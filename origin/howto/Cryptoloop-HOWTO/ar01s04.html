<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>4. Getting the user space tools</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Cryptoloop HOWTO"><link rel="up" href="index.html" title="Cryptoloop HOWTO"><link rel="prev" href="ar01s03.html" title="3. Configuring the kernel"><link rel="next" href="ar01s05.html" title="5. Setting up the loop device"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. Getting the user space tools</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s03.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s05.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="userspace-tools"></a>4. Getting the user space tools</h2></div></div></div><p>
    The Cryptoloop driver requires updated userspace tools to actually create and mount the encrypted
    file system. An updated util-linux package is needed and can be obtained from <a class="ulink" href="http://ftp.cwi.nl/aeb/util-linux/util-linux-2.12.tar.gz" target="_top">http://ftp.cwi.nl/aeb/util-linux/util-linux-2.12.tar.gz</a>.
    The most current version is 2.12. There will be new versions out soon that will probably introduce major changes, so make sure you check this
    HOWTO for updates before upgrading to a newer version.
    Unfortunately there are many patches for util-linux out there. There are differences in the way how encrypted partitions are created
    and mounted. In order to use util-linux 2.12 with a 2.6 kernel at least the following two patches need to be applied:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><a class="ulink" href="http://www.stwing.org/~sluskyb/util-linux/losetup-combined.patch" target="_top">Combined losetup patch</a></p></li><li class="listitem"><p><a class="ulink" href="http://www.ece.cmu.edu/~rholzer/cryptoloop/util-linux-2.12-kernel-2.6.patch" target="_top">Util-linux 2.6 patch</a></p></li></ol></div><p>
    </p><p>
    Download the util-linux package and the two patches above.
    First extract the util-linux package and then apply the two patches:
    </p><pre class="screen">
     tar xvfz util-linux-2.12.tar.gz

     cd util-linux-2.12

     patch -p1 &lt; /path_to_patchfile/losetup-combined.patch

     patch -p1 &lt; /path_to_patchfile/util-linux-2.12-kernel-2.6.patch
     </pre><p>
    After applying the patches, compile and install util-linux according to the instructions in the INSTALL file.
    </p><p>
    I recommend to use <a class="ulink" href="http://gentoo.org" target="_top">Gentoo Linux</a>, which automatically applies these patches when emerging the util-linux patches.
    Other distributions may have versions of util-linux available, that have these patches aleady applied as well.
    
    </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s03.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3. Configuring the kernel </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 5. Setting up the loop device</td></tr></table></div></body></html>
