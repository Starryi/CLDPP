<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>1. GCC compiler</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="PA-RISC, Linux, boot"><link rel="home" href="index.html" title="PA-RISC/Linux Boot HOWTO"><link rel="up" href="ch05.html" title="Chapter 5. Building and installing a custom kernel"><link rel="prev" href="ch05.html" title="Chapter 5. Building and installing a custom kernel"><link rel="next" href="ch05s02.html" title="2. Kernel configuration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1. GCC compiler</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Building and installing a custom kernel</th><td width="20%" align="right"> <a accesskey="n" href="ch05s02.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="gcc"></a>1. GCC compiler</h2></div></div></div><div class="highlights"><p>
				You can build the kernel directly on your own PA-RISC box (<span class="emphasis"><em>self-hosted</em></span>
				or <span class="emphasis"><em>native</em></span> build).
				But on old systems, you may prefer to use another - faster - non PA-RISC computer
				to compile your kernel (<span class="emphasis"><em>cross-compilation</em></span>). We will see the
				two possibilities.
			</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
				By the time version 1.0 of this howto was released, only gcc-3.0.X was able
				to build working kernels. There was a bug in more recent versions that made
				the box crash when network activity occurs. It should be fixed by now, so
				using the latest version of gcc should be fine. If ever the above mentioned
				bug occurs, you'll know what's wrong. Anyway, if you want to build
				any kernel after 2.6.12-rc3, you will need at least <span class="command"><strong>gcc-3.3</strong></span>.
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="nativebuild"></a>1.1. Native build</h3></div></div></div><p>
					Since Debian was the first distribution to support PA-RISC architecture,
					if you want to use the <span class="emphasis"><em>Super Cow</em></span> powers,
					you need to have some basic knowledge about the Debian packaging system.
					We will explain here how to quickly get a gcc compiler ready on your PA-RISC box.
					If you are not using Debian, well, we're afraid we can't do much
					for you: you will have to transpose what is said below to your distribution.
					We will assume you know how to use 
				</p><p>
					If you are using your own PA-RISC box, you only need the good old
					<span class="command"><strong>GCC</strong></span> compiler. You can install the required tools to build a
					kernel by issuing:
				</p><pre class="programlisting">
<code class="prompt">[user@machine ~/dir]&gt;</code> <span class="command"><strong>apt-get</strong></span> <strong class="userinput"><code>install build-essential libncurses5-dev</code></strong>
				</pre><p>
					Essentially, this will install everything you need to build a kernel
					(and even a bit more). This boils down to <span class="command"><strong>binutils</strong></span>,
					<span class="command"><strong>gcc</strong></span>, <span class="command"><strong>libc-dev</strong></span>, <span class="command"><strong>make</strong></span>,
					<span class="command"><strong>fileutils</strong></span> and <span class="command"><strong>libncurses5-dev</strong></span>.
				</p><p>When this is done, you can proceed to the kernel settings.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="crosscompile"></a>1.2. Cross compiled build</h3></div></div></div><p>
					In this kernel build method, everything depends on the architecture
					of your building machine. If you want to compile your own toolchain, there
					is a slightly out-of-date HOWTO (<a class="xref" href="bi01.html#bibxc" title="The PARISC-Linux Cross Compiler HOWTO">[<abbr class="abbrev">O'Donell 2002</abbr>]</a>). Otherwise, we
					assume you can either find a cross-compiler package for your build host, or
					make one by yourself.
				</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
					As there is not yet a 64bit userspace on HP-PA, you have to cross-compile
					64bit kernel even if you are building on a 64bit PA-RISC box. You can get
					unofficial debs for hppa64 compilers and binutils by running for instance:
					</p><pre class="programlisting">
<code class="prompt">[user@machine ~/dir]&gt;</code> <span class="command"><strong>apt-get</strong></span> <strong class="userinput"><code>install gcc-3.3-hppa64 binutils-hppa64</code></strong>
					</pre><p>
					See the <a class="ulink" href="http://www.parisc-linux.org/" target="_top">PA-RISC Linux Website</a>
					for details.
				</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 5. Building and installing a custom kernel </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2. Kernel configuration</td></tr></table></div></body></html>
