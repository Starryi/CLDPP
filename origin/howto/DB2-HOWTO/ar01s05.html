<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5. Installation considerations and planning</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="IBM DB2 Express-C for Linux HOWTO"><link rel="up" href="index.html" title="IBM DB2 Express-C for Linux HOWTO"><link rel="prev" href="ar01s04.html" title="4. Prerequisites"><link rel="next" href="ar01s06.html" title="6. Installing DB2 Express-C"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. Installation considerations and planning</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s04.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s06.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="planning"></a>5. Installation considerations and planning</h2></div></div></div><p>After verifying that your system meets the basic requirements, you should
  plan your installation by considering installation methods and the creation
  of users and groups:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Installation choices:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><span class="command"><strong>db2setup</strong></span> installation</p></li><li class="listitem"><p><span class="command"><strong>db2_install</strong></span> installation</p></li><li class="listitem"><p>DB2 response file installation</p></li></ul></div></li><li class="listitem"><p>User and group setup:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>User and group requirements</p></li><li class="listitem"><p>Creating users</p></li></ul></div></li></ul></div><p>
  </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm228"></a>5.1. Installation methods</h3></div></div></div><p>After downloading and extracting the tar.gz file, the file tree looks
    like this:
      </p><pre class="screen">exp/ -|
    disk1/ -|
      db2_install    (* command line installation script *)
      db2setup       (* GUI installation launcher *)
      installFixPack (* not applicable for Express-C *)
      db2/ -|        (* installation and licensing files *)
      doc/ -|        (* install instructions and release notes *)</pre><p>
    </p><p>You can use three methods to install DB2:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="command"><strong>db2setup</strong></span> utility</p></li><li class="listitem"><p><span class="command"><strong>db2_install</strong></span> utility</p></li><li class="listitem"><p>a DB2 response file</p></li></ul></div><p>
      Each method has its own advantages and disadvantages. The choice of method
      depends on your level of expertise and type of environment, but in
      general, if a graphical interface is available, using
      <span class="command"><strong>db2setup</strong></span> is recommended for ease of installation.
    </p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm243"></a>5.1.1. db2setup installation</h4></div></div></div><p>The <span class="command"><strong>db2setup</strong></span> command starts the DB2 Launchpad, a
      graphical tool that configures and organizes the DB2 installation. It lays
      down the DB2 filesets, creates and configures DB2 instances, users and
      groups, communications, the administration database used by the DB2 Tools,
      and sets up notification processes. The DB2 Launchpad also allows
      you to create a response file for replicating a particular setup to other
      systems.</p><p>Using <span class="command"><strong>db2setup</strong></span> is the best method for less
      experienced users, because most of the configuration is automatically
      performed during the installation. As mentioned previously, you require an
      X Window System capable of rendering a graphical user interface to use
      <span class="command"><strong>db2setup</strong></span> successfully.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm250"></a>5.1.2. db2_install installation</h4></div></div></div><p>The <span class="command"><strong>db2_install</strong></span> command script installs all DB2
      packages on your Linux system. This method is reliable and commonly used
      by expert users for installing DB2 on larger, more complex systems.
      However, tasks such as setting up users and groups, creating instances,
      tools catalog database creation, and notification setup need to be
      performed manually after the installation is completed.</p><p>One limitation to <span class="command"><strong>db2_install</strong></span> is that it only
      installs user assistance (like help, messages, and tool interfaces) in
      English, whereas <span class="command"><strong>db2setup</strong></span> supports the installation of
      additional languages. Also, a <span class="command"><strong>db2_install</strong></span>
      installation can take longer (because of the higher number of manual
      configuration tasks); it requires a higher level of knowledge and skill,
      and it cannot be used to create response files.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm258"></a>5.1.3. Response file installation</h4></div></div></div><p>A response file can be created using the DB2 Setup Wizard or by
      editing an existing DB2 response (.rsp) file. It allows you to install DB2
      across multiple machines with consistent installation and configuration
      settings. A response file installation is fast, because it bypasses the
      graphical wizard configuration. Another advantage of
      using a response file instead of the <span class="command"><strong>db2_install</strong></span>
      command is that it creates a Database Administration Server (DAS) on each
      machine, while with
      <span class="command"><strong>db2_install</strong></span> the DAS must be created manually after
      installation.</p><p>There is a sample response file (db2exp.rsp) included on the installation image
      that can be modified and used to install DB2, configure users, create
      instances, set up notification, create the tools catalog, and configure a
      large number of database management parameters. This is the quickest
      installation method if you already have all the information you need.
      Unlike
      <span class="command"><strong>db2setup</strong></span>, the response file installation is not
      interactive, and it takes longer to prepare the response file initially.</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm265"></a>5.2. User and group setup</h3></div></div></div><p>DB2 requires user IDs and groups for database authentication. This
    section discusses these IDs and groups and how to create them.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm268"></a>5.2.1. User and group requirements</h4></div></div></div><p>DB2 requires a minimum of three users and groups: an instance owner,
      a fenced user, and the Database Administration Server (DAS) user. You may
      use the default names provided by the setup utilities, or specify your own
      user and group names. For example, consider the following default user IDs
      and group names produced by the DB2 Setup Launchpad:
        </p><div class="table"><a name="idm271"></a><p class="title"><b>Table 3. Default user IDs and group names</b></p><div class="table-contents"><table class="table" summary="Default user IDs and group names" border="1"><colgroup><col class="COL1"><col class="COL2"><col class="COL3"><col class="COL4"></colgroup><thead><tr><th align="center" valign="middle">
                  <p>Required user</p>
                </th><th align="center" valign="middle">
                  <p>User name</p>
                </th><th align="center" valign="middle">
                  <p>Group name</p>
                </th><th align="center" valign="middle">
                  <p>Description</p>
                </th></tr></thead><tbody><tr><td><p>Instance owner</p></td><td><p>db2inst1</p></td><td><p>db2grp1</p></td><td><p>Administers a DB2 instance</p></td></tr><tr><td><p>Fenced user</p></td><td><p>db2fenc1</p></td><td><p>db2fgrp1</p></td><td><p>Responsible for executing "fenced" user
                defined functions, such as JDFs and stored procedures.</p></td></tr><tr><td><p>DAS user</p></td><td><p>dasusr1</p></td><td><p>dasadm1</p></td><td><p>Administers the DB2 Administration
                Server</p></td></tr></tbody></table></div></div><p><br class="table-break">
      </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm316"></a>5.2.2. Creating users</h4></div></div></div><p>You must have root authority to create users and groups. There are
      three ways to create a DB2 user ID:
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>DB2 Launchpad: the DB2 Launchpad installation creates all of
            the required users and groups for you during installation. The
            default users and groups that get created are displayed in the
            table above. This method also gives you the option to specify
            your own user and group names.</p></li><li class="listitem"><p>Response file: Users can also be created during a response
            file installation if you specify user and group information in the
            response file. For example, consider the following entries in a
            response file that create the three required users and groups for
            DB2:
              </p><pre class="programlisting">
* DAS user
DAS_USERNAME = dasusr1
DAS_GROUP_NAME = dasadm1
DAS_HOME_DIRECTORY = /home/dasusr1
DAS_PASSWORD = ******
* Instance-owning user
inst1.NAME = db2inst1
inst1.GROUP_NAME = db2grp1
inst1.HOME_DIRECTORY = /db2home/db2inst1
inst1.PASSWORD = ******
inst1.AUTOSTART = YES
inst1.AUTHENTICATION = SERVER
inst1.SVCENAME = db2c_db2inst1
inst1.PORT_NUMBER = 50001
inst1.FCM_PORT_NUMBER = 60000
inst1.MAX_LOGICAL_NODES = 4
* Fenced user
nst1.FENCED_USERNAME = db2fenc1
inst1.FENCED_GROUP_NAME = db2fgrp1
inst1.FENCED_HOME_DIRECTORY = /db2home/db2fenc1
inst1.FENCED_PASSWORD = ******</pre><p>
            </p></li><li class="listitem"><p>Manually using command line. To use this method, follow these
            steps:
              </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Log on to your machine as root.</p></li><li class="listitem"><p>Create groups for the instance owner, the fenced user
                  and the DAS user by using these commands:
                    </p><pre class="screen">groupadd db2grp1
groupadd db2fgrp1
groupadd dasadm1</pre><p>
                  Linux will create the groups using the first available group
                  ID (GID) numbers available. You can specify GID numbers if you
                  prefer.</p></li><li class="listitem"><p>Create a user that belongs to each group and specify the
                  home directory. For example, you can choose to place all home
                  directories in <code class="filename">/db2home</code>
                  by entering these commands:
                    </p><pre class="screen">
useradd -g db2grp1  -m -d /db2home/db2inst1 db2inst1 -p password1
useradd -g db2fgrp1 -m -d /db2home/db2fenc1 db2fenc1 -p password2
useradd -g dasadm1  -m -d /db2home/dasusr1 dasusr1 -p password3
                    </pre><p>
                  </p></li></ol></div><p>
            </p></li></ul></div><p>
      </p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm337"></a>5.2.3. Adding existing users as DB2 users</h4></div></div></div><p>To enable existing system users to act as DB2 instance administrators, you
      must make a few modifications to the existing user accounts:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Add your user to the db2grp1 group. The SYSADM_GROUP database
          manager configuration parameter controls who has that level of access
          for all databases in that instance. You can determine what group is
          set as the SYSADM group by entering:
            </p><pre class="screen">db2 get dbm cfg | grep SYSADM_GROUP</pre><p>
          </p><p>By default, DB2 sets this as the db2grp1 group. To add the user
          to the SYSADM group, modify the <code class="filename">/etc/groups</code> file
          (as root), adding the user account ID to the line for the DB2 system
          admin group. For example:
          </p><pre class="screen">db2grp1:x:102:jackc,ellenp,frankj</pre><p>
          </p></li><li class="listitem"><p>Update the user's profile by adding the following lines to the
          .bashrc file in the home directory
            </p><pre class="screen"># The following three lines have been added by the DB2 SYSADM.
if [ -f /home/frankj/sqllib/db2profile ]; then
    . /home/frankj/sqllib/db2profile
fi</pre><p>
          </p></li><li class="listitem"><p>After installation, if you wish to grant or revoke access to
          databases (or other objects), use the "User and Groups" section of the
          Control Center or the GRANT and REVOKE SQL statements. If you want to
          see an example, by default the SAMPLE database grants a number of
          privileges to "PUBLIC".</p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s04.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s06.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4. Prerequisites </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6. Installing DB2 Express-C</td></tr></table></div></body></html>
