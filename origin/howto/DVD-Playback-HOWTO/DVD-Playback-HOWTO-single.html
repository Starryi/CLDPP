<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>DVD Playback HOWTO</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="description" content="This document describes how to view DVD movies on a Linux computer with a DVD drive."></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><div><h2 class="title"><a name="DVD-Playback-HOWTO"></a>DVD Playback HOWTO</h2></div><div><div class="author"><h3 class="author"><span class="firstname">David</span> <span class="surname">Jao</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:djao@dominia.org">djao@dominia.org</a>&gt;</code></p></div></div></div></div><div><p class="pubdate">2004-02-26</p></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 1.0</td><td align="left">2004-02-26</td><td align="left">DJ</td></tr><tr><td align="left" colspan="3">Initial Release, reviewed by LDP</td></tr><tr><td align="left">Revision 0.9</td><td align="left">2004-02-07</td><td align="left">DJ</td></tr><tr><td align="left" colspan="3">submitted to LDP</td></tr><tr><td align="left">Revision 0.1</td><td align="left">2004-01-26</td><td align="left">DJ</td></tr><tr><td align="left" colspan="3">first public release</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>
         This document describes how to view DVD movies on a Linux computer
         with a DVD drive.
        </p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="#intro">1. Introduction</a></span></dt><dd><dl><dt><span class="sect2"><a href="#copyright">1.1. Copyright and License</a></span></dt><dt><span class="sect2"><a href="#disclaimer">1.2. Disclaimer</a></span></dt><dt><span class="sect2"><a href="#feedback">1.3. Feedback</a></span></dt></dl></dd><dt><span class="sect1"><a href="#prep">2. System Preparation</a></span></dt><dd><dl><dt><span class="sect2"><a href="#prereqs">2.1. Hardware Prerequisites</a></span></dt><dt><span class="sect2"><a href="#symlink">2.2. Creating the /dev/dvd symlink</a></span></dt><dt><span class="sect2"><a href="#region">2.3. Setting the DVD Region</a></span></dt><dt><span class="sect2"><a href="#overlay">2.4. X Video Overlay</a></span></dt><dt><span class="sect2"><a href="#dma">2.5. Enabling DMA</a></span></dt></dl></dd><dt><span class="sect1"><a href="#install">3. Software Installation</a></span></dt><dd><dl><dt><span class="sect2"><a href="#redhat">3.1. Red Hat / Fedora</a></span></dt><dt><span class="sect2"><a href="#debian">3.2. Debian</a></span></dt><dt><span class="sect2"><a href="#slackware">3.3. Slackware</a></span></dt><dt><span class="sect2"><a href="#mandrake">3.4. Mandrake</a></span></dt><dt><span class="sect2"><a href="#suse">3.5. SuSE</a></span></dt><dt><span class="sect2"><a href="#gentoo">3.6. Gentoo</a></span></dt></dl></dd><dt><span class="sect1"><a href="#usage">4. Software Usage</a></span></dt><dd><dl><dt><span class="sect2"><a href="#principles">4.1. General principles: deinterlacing, telecine, and framerates</a></span></dt><dt><span class="sect2"><a href="#idm345">4.2. Specific usage instructions</a></span></dt></dl></dd><dt><span class="sect1"><a href="#idm383">5. Troubleshooting</a></span></dt><dt><span class="sect1"><a href="#moreinfo">6. Further Information</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="intro"></a>1. Introduction</h2></div></div></div><p>
   In this document we describe how to view DVD movies and video on a Linux
   system. We give practical, specific, and straightforward commands for
   getting DVD playback up and running quickly on most of the popular Linux
   distributions.  Special attention is given to the various little-known
   performance optimizations that are needed for smooth DVD video playback.
  </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="copyright"></a>1.1. Copyright and License</h3></div></div></div><p>
     This document, <span class="emphasis"><em>DVD Playback HOWTO</em></span>, is
     copyrighted © 2004 by <span class="emphasis"><em>David Jao</em></span>.
     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with no Front-Cover Texts,
     and with no Back-Cover Texts.  A copy of the license is available
     at <a class="ulink" href="http://www.gnu.org/copyleft/fdl.html" target="_top">
     http://www.gnu.org/copyleft/fdl.html</a>.
    </p><p>
     Linux® is a registered trademark of Linus Torvalds.
    </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="disclaimer"></a>1.2. Disclaimer</h3></div></div></div><p>
     No liability for the contents of this document can be accepted.
     Use the concepts, examples and information at your own risk.
     Although this is highly unlikely, there may be errors and
     inaccuracies herein that could be damaging to your system. The
     author(s) do not take any responsibility for any damage that you
     incur through your own actions.
    </p><p>
     The mere act of accessing or viewing DVD content, or dealing
     in software written for such purposes, may be illegal in some
     localities.  The author(s) cannot accept any responsibility for any
     actions of yours which violate the laws of the jurisdictions to
     which you are subject.
    </p><p>
     All copyrights are held by their by their respective owners,
     unless specifically noted otherwise.  Use of a term in this
     document should not be regarded as affecting the validity of any
     trademark or service mark.  Naming of particular products or
     brands should not be seen as endorsements.
    </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="feedback"></a>1.3. Feedback</h3></div></div></div><p>
     Questions, comments, suggestions, and feedback are most certainly
     welcome and should be sent to the author of this document at
     <code class="email">&lt;<a class="email" href="mailto:djao@dominia.org">djao@dominia.org</a>&gt;</code>.
    </p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="prep"></a>2. System Preparation</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="prereqs"></a>2.1. Hardware Prerequisites</h3></div></div></div><p>
A certain level of processing power is necessary for smooth DVD
playback. The system requirements in Linux are somewhat higher than in
Windows, because many of the techniques used for hardware acceleration
of video playback work only in Windows.
</p><p>At a minimum, I recommend the following:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>700 MHz or higher CPU,</p></li><li class="listitem"><p>video card with <a class="xref" href="#overlay" title="2.4. X Video Overlay">X Video Overlay</a> support</p></li><li class="listitem"><p>DVD drive with <a class="xref" href="#dma" title="2.5. Enabling DMA">DMA</a> enabled</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="symlink"></a>2.2. Creating the /dev/dvd symlink</h3></div></div></div><p>If you don't already have a <code class="filename">/dev/dvd</code> symbolic
link, then run (as root) the
command</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>ln -s</strong></span> /dev/hdc /dev/dvd</code></strong>
</pre><p>
to create a symbolic link from
<code class="filename">/dev/dvd</code> to the
actual hardware device representing your DVD-ROM drive
(which in this example is <code class="filename">/dev/hdc</code>, but you should
replace it with the actual device file used by your drive). The
<code class="filename">/dev/dvd</code> link is not merely a matter of
convenience; almost all of the player software mentioned in this HOWTO
assumes that the link is there.</p><p>If you don't know which device name your DVD-ROM drive uses, you
can usually find it with the command <span class="command"><strong>dmesg | grep
DVD</strong></span> in the console or a shell right after booting up the system.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="region"></a>2.3. Setting the DVD Region</h3></div></div></div><p>All DVD drives (except for <a class="ulink" href="http://www.dvdcca.org/rpc.html" target="_top">RPC Phase I drives</a> made in
1999 or before) enforce <a class="ulink" href="http://www.dvddemystified.com/dvdfaq.html#1.10" target="_top">region playback
restrictions</a> in the drive firmware and consequently are supposed to
be set to a specific region before they can play back discs from that
region (and only that region). In reality, most Linux DVD playback
software can bypass the DVD drive's built-in region locks, but it takes
extra time for the software to break the region lock, and it is better
to avoid the complications of region locks if you can.</p><p>
For the small minority of readers who own RPC-I drives, you do not need
to do anything: your drive is already capable of handling DVDs from all
geographical regions. These drives are old enough by now that everybody
who has one of them probably knows already that they have one.
</p><p>
For the majority of readers who have RPC-II drives, there are several
options available:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>If you only watch discs from one region, the easiest option
is to use the <a class="ulink" href="http://linvdr.org/projects/regionset/" target="_top">regionset</a> program to
set your DVD drive to the correct region.</p></li><li class="listitem"><p>If you want to watch discs from multiple regions, you can
try to find a firmware upgrade for your DVD drive in the <a class="ulink" href="http://www.firmware-flash.com/" target="_top">firmware-flash.com
collection</a> of unofficial firmware files. Note that most of these
files require you to boot to DOS or Windows to install.
</p></li><li class="listitem"><p>You can buy a separate DVD drive for each DVD region that you
wish to use. The prices for DVD-ROM drives have dropped low enough to make
this strategy feasible.
</p></li><li class="listitem"><p>Of course, you can simply do nothing, and rely on the
built-in ability of Linux software to bypass the region restrictions.
Note that even in this case you should use the <a class="ulink" href="http://linvdr.org/projects/regionset/" target="_top">regionset</a> program to
set the drive to the region that you will be using the most, because an
RPC-II drive without a region setting behaves as if
<span class="emphasis"><em>all</em></span> the regions are locked out.
</p></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="overlay"></a>2.4. X Video Overlay</h3></div></div></div><p>The XFree86 video overlay extension is a very poorly documented
standard feature of XFree86 4.x and is <span class="emphasis"><em>absolutely
essential</em></span> for high quality video playback under Linux. It is 
the only type of hardware playback acceleration that is widely
supported in Linux, and it is by far the single most important
configuration element for DVD playback on a Linux system. </p><p>To check if you have this extension, type
<span class="command"><strong>xvinfo</strong></span> in an X terminal. If the command returns
several screens full of important-looking output, then congratulations,
you have hardware video overlay and you need not worry about it anymore.
</p><p>
If, on the other hand, xvinfo returns with a negative answer like:
</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>xvinfo</strong></span></code></strong>
<code class="computeroutput">
X-Video Extension version 2.2
screen #0
 no adaptors present
</code>
</pre><p>
then that means you don't have hardware overlay support. See <a class="xref" href="#overlaytrouble" title="5.1.">Troubleshooting</a> for tips
on how to get overlay support working.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="dma"></a>2.5. Enabling DMA</h3></div></div></div><p>DMA drive access is critical for DVD playback because it lowers
the CPU overhead of disc reading and leaves more of the CPU free for
video playback. On most systems, enabling DMA support for the DVD drive
means the difference between choppy playback and smooth playback.</p><p>To see if you have DMA enabled, type (as root) the
command</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>hdparm</strong></span> -d /dev/hdc</code></strong>
</pre><p>(replacing <code class="filename">/dev/hdc</code> with
your DVD drive's actual device name). If DMA is already on, then you're
done.  Otherwise, you should turn it on by typing <span class="command"><strong>hdparm -d 1
/dev/hdc</strong></span>. You may want to add this command to a startup
script such as <code class="filename">/etc/rc.d/rc.local</code> to ensure that
the DMA support is active every time your computer boots.
</p><p>See the <a class="xref" href="#dmatrouble" title="5.3.">Troubleshooting</a> section
if DMA won't turn on even after you've typed the command to turn it
on.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="install"></a>3. Software Installation</h2></div></div></div><p>
Here we cover the installation of the DVD playback software on various
Linux distributions. For each Linux distribution we indicate how to
install <a class="ulink" href="http://www.mplayerhq.hu/" target="_top">MPlayer</a>, <a class="ulink" href="http://xine.sourceforge.net/" target="_top">Xine</a>, <a class="ulink" href="http://www.dtek.chalmers.se/groups/dvd/" target="_top">Ogle</a>, and <a class="ulink" href="http://www.videolan.org/" target="_top">VideoLAN</a> onto the system. These
are the four most popular software packages for DVD playback in Linux.
Usage instructions for these programs will be given in the next section.
</p><p>
Read the section that corresponds to your Linux distribution. All
of the installation commands given below should be run as root.
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="redhat"></a>3.1. Red Hat / Fedora</h3></div></div></div><p>If you run Red Hat Linux or Fedora, you can download all of the
DVD playback software from the <a class="ulink" href="http://freshrpms.net/" target="_top">FreshRPMS</a> package repository. Since
there are so many packages needed for DVD playback, the easiest way to
install all of them is to use <span class="command"><strong>apt-get</strong></span>. Here's how
to do it: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Follow the link to the version of apt that matches your Red Hat
version:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="ulink" href="http://ftp.freshrpms.net/pub/freshrpms/fedora/linux/1/apt/" target="_top">Fedora
Core 1</a></p></li><li class="listitem"><p><a class="ulink" href="http://ftp.freshrpms.net/pub/freshrpms/redhat/9/apt/" target="_top">Red Hat
Linux 9</a></p></li><li class="listitem"><p><a class="ulink" href="http://ftp.freshrpms.net/pub/freshrpms/redhat/8.0/apt/" target="_top">Red Hat
Linux 8</a></p></li><li class="listitem"><p><a class="ulink" href="http://ftp.freshrpms.net/pub/freshrpms/redhat/7.3/apt/" target="_top">Red Hat Linux 7.3</a></p></li></ul></div><p>Download the appropriate binary x86 RPM package (in this example,
<code class="filename">apt-0.5.15cnc3-0.1.fr.i386.rpm</code>) and install it
using the <span class="command"><strong>rpm</strong></span> command as follows:</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>rpm -Uvh</strong></span> apt-0.5.15cnc3-0.1.fr.i386.rpm</code></strong></pre></li><li class="listitem"><p>Run the
commands</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>apt-get</strong></span> update</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>apt-get</strong></span> install mplayer xine ogle_gui</code></strong>
</pre><p>to have apt install everything for you.</p></li></ol></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm167"></a>3.1.1. Special note about VideoLAN and Red Hat</h4></div></div></div><p>The FreshRPMS repository contains the
<code class="filename">videolan-client</code> package for Red Hat 9 and Red Hat
7.3, but not for Red Hat 8 or Fedora Core 1. If you want to install
VideoLAN on Red Hat 9 or Red Hat 7.3, you can just type
<span class="command"><strong>apt-get install videolan-client</strong></span> and let the 
program take care of it for you. Fedora Core 1 users who want VideoLAN
will need to visit the <a class="ulink" href="http://www.videolan.org/vlc/download-redhat.html" target="_top">official VideoLAN
Red Hat page</a> instead, and follow the instructions there. I do not
recommend that Fedora users install VideoLAN, since the VideoLAN
packages interfere to a large degree with the FreshRPMS packages installed in the previous step.</p><p>There appears to be no easy way to install VideoLAN on Red Hat 8.</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="debian"></a>3.2. Debian</h3></div></div></div><p>These instructions are for Debian, stable only (3.0r1 as of
this writing) -- it is assumed that if you run testing or unstable versions 
then you should already know what you are doing.
</p><p>
Make sure the following lines are in your
<code class="filename">/etc/apt/sources.list</code>
file:</p><pre class="programlisting">deb http://hpisi.nerim.net/ stable main
deb http://www.interq.or.jp/libra/oohara/debian-unofficial/ ./
deb http://download.videolan.org/pub/videolan/debian woody main
</pre><p>(The first line is for MPlayer, the second is for the Xine CSS
plugins, and the third is for VideoLAN.) Then run the
commands:</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>apt-get</strong></span> update</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>apt-get</strong></span> install mplayer-686 mplayer-fonts mplayer-doc ogle</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>/usr/share/doc/ogle/examples/install-css.sh</strong></span></code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>apt-get</strong></span> install xine-ui xine-d5d-plugin xine-d4d-plugin gnome-vlc libdvdcss2</code></strong>
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="slackware"></a>3.3. Slackware</h3></div></div></div><p>The best site for Slackware add-on packages is <a class="ulink" href="http://www.linuxpackages.net/" target="_top">http://www.linuxpackages.net/</a>. You can use their search
engine to find and download the Ogle, Xine, MPlayer, libdvdcss,
libdvdnav, libdvdread, lame, and a52dec packages from the web site. Put
the packages into a single directory and run
<span class="command"><strong>pkgtool</strong></span> to install the packages onto your
system.</p><p>For VideoLAN, you will have to build it from
source since there is no precompiled package on the LinuxPackages web
site yet. To make matters worse, the version of mpeg2dec included
with Slackware 9.1 is too old to be used with VideoLAN, so you have to
compile a newer version of mpeg2dec as well.
</p><p>That said, if you <span class="emphasis"><em>still</em></span> want to install
VideoLAN, then download the latest source packages for <a class="ulink" href="http://libmpeg2.sourceforge.net/" target="_top">mpeg2dec</a> and <a class="ulink" href="http://www.videolan.org/" target="_top">VideoLAN</a> and run the following
commands.  Note that you have to disable ffmpeg support for the VideoLAN
build because the Slackware MPlayer packages omit some of the header files
needed by ffmpeg.</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>tar </strong></span>xzvf mpeg2dec-0.4.0.tar.gz</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>cd </strong></span>mpeg2dec-0.4.0</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>./configure</strong></span> </code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>make</strong></span> </code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>make</strong></span> install </code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>cd </strong></span>..</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>tar </strong></span>xzvf vlc-0.7.0.tar.gz</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>cd </strong></span>vlc-0.7.0</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>./configure</strong></span> --disable-ffmpeg</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>make</strong></span> </code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>make</strong></span> install </code></strong>
</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="mandrake"></a>3.4. Mandrake</h3></div></div></div><p>Mandrake users can get packages for all of the video programs from
the <a class="ulink" href="http://plf.zarb.org/" target="_top">Penguin Liberation Front</a>
web site. The fastest way is to visit the <a class="ulink" href="http://urpmi.org/easyurpmi/" target="_top">Easy Urpmi</a> site and follow the
instructions to generate a listing of the commands you need to type for
PLF access in urpmi. You should then type in the commands returned by
the web site to set up your system for PLF access.
</p><p>After you have set up PLF access, type:
</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>urpmi.update</strong></span> -a</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>urpmi</strong></span> mplayer libdvdcss2 xine-ui ogle ogle_gui vlc</code></strong>
</pre><p>to install all the video programs.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="suse"></a>3.5. SuSE</h3></div></div></div><p>The YaST package program included with SuSE works only with
official packages, and there are no official packages that support DVD.
Therefore you will have to install the packages for all of the DVD
software manually.</p><p>MPlayer and Xine packages for SuSE are available on the <a class="ulink" href="http://packman.links2linux.org/?action=index" target="_top">PackMan site</a>.
For MPlayer, you need the MPlayer, lzo, and xvid packages on that
page as well as the <span class="quote">&#8220;<span class="quote">additionally needed binary packages</span>&#8221;</span> listed
on the page for each package. SuSE 9.0 users should note that as of this
writing the MPlayer package for SuSE 9.0 has a broken
<code class="filename">libsmbclient.so.0</code> dependency. You can work around
this problem with the commands</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>rpm -Uvh</strong></span> --nodeps MPlayer-1.0pre3-pm.1.i686.rpm</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>ln -s</strong></span> libsmbclient3.so.0 /usr/lib/libsmbclient.so.0</code></strong>
</pre><p>
</p><p>To install Xine, you should download and install the
libxine1-dvd and xine-ui packages from <a class="ulink" href="http://packman.links2linux.org/?action=index" target="_top">PackMan</a>.
Encrypted DVD support in Xine also requires installing <a class="ulink" href="http://download.videolan.org/pub/libdvdcss/1.2.8/rpm/redhat/" target="_top">
libdvdcss</a> from the VideoLAN site.</p><p>Ogle can be installed using the <a class="ulink" href="http://www.dtek.chalmers.se/groups/dvd/redhat.shtml" target="_top">Red Hat
RPMs</a> from the Ogle site. SuSE 9.0 users who want to install the
Ogle_gui package will also need to install <a class="ulink" href="ftp://rpmfind.net/linux/SuSE-Linux/i386/8.2/suse/i586/orbit-0.5.17-116.i586.rpm" target="_top">
orbit</a>,
<a class="ulink" href="ftp://rpmfind.net/linux/SuSE-Linux/i386/8.2/suse/i586/gdk-pixbuf-0.18.0-248.i586.rpm" target="_top">
gdk-pixbuf</a>, <a class="ulink" href="ftp://rpmfind.net/linux/SuSE-Linux/i386/8.2/suse/i586/gnome-libs-1.4.1.7-273.i586.rpm" target="_top">
gnome-libs</a>, and <a class="ulink" href="ftp://rpmfind.net/linux/SuSE-Linux/i386/8.2/suse/i586/libglade-0.16-1015.i586.rpm" target="_top">
libglade</a> from SuSE 8.2.</p><p>VideoLAN users will need to download the <a class="ulink" href="http://download.videolan.org/vlc/download-redhat.html" target="_top">Red Hat
RPMs</a> from the VideoLAN site and install them forcibly using
<span class="command"><strong>rpm --nodeps</strong></span>. The VideoLAN packages also require
<a class="ulink" href="ftp://rpmfind.net/linux/SuSE-Linux/i386/8.2/suse/i586/XFree86-compat-libs-4.3.0-19.i586.rpm" target="_top">XFree86-compat-libs</a>
and <a class="ulink" href="ftp://rpmfind.net/linux/SuSE-Linux/i386/8.2/suse/i586/freetype-1.3.1-801.i586.rpm" target="_top">freetype</a>
from SuSE 8.2 in order to run.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="gentoo"></a>3.6. Gentoo</h3></div></div></div><p>The basic command to use is:</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>emerge</strong></span> sync</code></strong>
<code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>USE="dvd mmx sse" emerge</strong></span> mplayer xine-ui vlc ogle-gui</code></strong>
</pre><p>
If you have an AMD processor, you should type <span class="command"><strong>USE="dvd
mmx 3dnow"</strong></span> instead of using the <code class="varname">sse</code> flag. 
Athlon XP owners can use the <code class="varname">3dnow</code> and 
<code class="varname">sse</code> flags together.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="usage"></a>4. Software Usage</h2></div></div></div><p>
Although I have tried very hard to keep this HOWTO focused on practical
advice instead of abstract theory, it is necessary to have some minimal
background in television video in order to understand how to get the
best possible video quality under Linux.
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="principles"></a>4.1. General principles: deinterlacing, telecine, and framerates</h3></div></div></div><p>
Regular television video is <span class="emphasis"><em>interlaced</em></span>, meaning
that the odd-numbered scanlines are recorded (and displayed) first,
followed by the even numbered scanlines, then the odd ones again, then
the even ones again, etc. Each individual line is displayed 30 times a
second (or 25, depending on where you live), but because of the
interlacing, the television image as a whole is refreshed 60 times a
second (or 50), with only half of the total lines being refreshed each
time.
</p><p>
In general, with interlaced motion pictures, there is no way to
reconstruct any single video frame perfectly without artifacts. This
point is important enough to repeat: <span class="emphasis"><em>there is no way to
perfectly reconstruct any single frame!</em></span> The reason is that
the odd-numbered lines are recorded onto the video tape with a timing
skew of one half-frame relative to the even-numbered lines. If the video
picture is still, this timing skew is no problem, but for moving
pictures it causes half the lines to be displaced from the other half.
On a television screen, you can't see this displacement, since TV
screens (except for high-end HDTV monitors) are of such low quality that
the artifacts aren't visible. However, on a computer screen, this
displacement is very visible and causes comb-like artifacts to appear in
the video.  You can see screenshots of interlacing artifacts in the
<a class="ulink" href="http://www.lukesvideo.com/interlacing.html" target="_top">interlacing
section</a> of <a class="ulink" href="http://www.lukesvideo.com/" target="_top">Luke's Video
Guide</a>.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="deinterlace"></a>4.1.1. How to fix interlacing artifacts</h4></div></div></div><p>The process of removing interlacing artifacts is called
<span class="emphasis"><em>deinterlacing</em></span>. Unfortunately, all deinterlacing
techniques are imperfect to some extent, and there is no single method
which works best in all situations. It is therefore important to
experiment with all of the different possible deinterlace settings to
see which one works best for a particular disc.
</p><p>
<a class="xref" href="#mplayer" title="4.2.1. MPlayer">MPlayer</a> users can get a list of deinterlacing options
by typing <span class="command"><strong>mplayer -pphelp</strong></span> at the command line.
Find the option that you want to use, and then use the <span class="command"><strong>-vf
pp=&lt;option&gt;</strong></span> syntax to activate the option. For example,
I usually use the <code class="varname">lb</code> option, which is
done with the command: <span class="command"><strong>mplayer -vf pp=lb</strong></span>, followed by
whatever other options you would normally use to play the DVD.
</p><p>
<a class="xref" href="#vlc" title="4.2.4. VideoLAN">VideoLAN</a> users can right-click on the movie to get a
list of deinterlacing options (under <span class="guimenuitem">Video
Settings</span> or <span class="guimenuitem">Deinterlace</span>,
depending on the program version).
</p><p>
<a class="xref" href="#xine" title="4.2.2. Xine">Xine</a> has a list of
deinterlacing options in the configuration panel; to get to it, right-click on the movie window, open the
<span class="guimenu">Settings</span> &#8594; <span class="guimenuitem">Setup</span> dialog, set <span class="quote">&#8220;<span class="quote">Configuration experience level</span>&#8221;</span> to
<span class="quote">&#8220;<span class="quote">Advanced</span>&#8221;</span>, and then look for <span class="quote">&#8220;<span class="quote">Software deinterlace 
method</span>&#8221;</span> under the <span class="quote">&#8220;<span class="quote">Video</span>&#8221;</span> tab.</p><p><a class="xref" href="#ogle" title="4.2.3. Ogle">Ogle</a> has no deinterlacing support, so it is not
recommended to use Ogle for watching interlaced video.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="telecine"></a>4.1.2. Telecined video</h4></div></div></div><p>This section only applies to video in NTSC format (used in North
America, east Asia, and parts of Latin America) -- PAL users (the rest of
the world) can skip ahead.</p><p>
The one exception to all of the above discussion about interlacing is in 
the case of telecined video. Briefly put, <span class="emphasis"><em>telecine</em></span>
is a special kind of interlacing that is done only to theatrical (i.e.
cinematic) movies and some forms of hand-drawn animated shows. The
special thing about telecine is that it can usually be perfectly undone.
The details are too complicated to explain here, but you can read about
it in <a class="ulink" href="http://www.lukesvideo.com/telecining.html" target="_top">Luke's
Video Guide</a> or <a class="ulink" href="http://www.access-one.com/rjn/laser/legacy/ld12.txt" target="_top">Bob Niland's
FAQs</a> if you're curious.
</p><p>The process of undoing the telecine artifacts is called
<span class="emphasis"><em>inverse telecine</em></span>. The good news is that inverse
telecine, done properly, fully restores the original video quality of
the source video with no artifacts whatsoever. The bad news is that
<a class="xref" href="#mplayer" title="4.2.1. MPlayer">MPlayer</a> is the only player program in the world right
now that can perform inverse telecine.</p><p>To perform inverse telecine in MPlayer, simply add the
<code class="varname">-vf ivtc</code> option to the MPlayer command. This
option is the right one to use if you are watching a movie you know
originated as a theatrical release, or if you are watching animated
shows. Warning: this option is very CPU intensive. You need at least a 1 GHz 
processor to even think about doing it.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="windows"></a>4.1.3. How come Windows users don't have to deal with all this?</h4></div></div></div><p>Windows DVD players hide most of the complexity of DVD playback
and fall back to the lowest common demoninator when playing DVDs. The
result is that you get playback quality which is decent in a wide range
of situations but not always the best that can be achieved in any given
situation. For example, no Windows DVD player in the world has an
inverse telecine filter like MPlayer does, so telecined material always
looks dramatically worse in Windows than in MPlayer under Linux.</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm345"></a>4.2. Specific usage instructions</h3></div></div></div><p>Here we give specific instructions for launching basic DVD
playback in the various player programs. These commands only cover the
basic steps of operating each program. You are encouraged to refer to
the man pages of each program for further instructions.</p><p>Put the DVD that you want to play into your drive before
attempting playback.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="mplayer"></a>4.2.1. MPlayer</h4></div></div></div><p>Type <span class="command"><strong>mplayer dvd://1</strong></span> to begin playing title
#1 on the disc. To play other title numbers, substitute the appropriate
number in place of <span class="command"><strong>1</strong></span>.
</p><p>Old versions of MPlayer, such as the one used in Debian, require
the command <span class="command"><strong>mplayer -dvd 1</strong></span> instead. In some cases
you also have to explicitly add the option <code class="varname">-vo xv</code>
in order to make MPlayer use the hardware video overlay port.</p><p>Subtitle and audio options for MPlayer have to be specified on the
command line. The format is <code class="varname">-alang NN</code> or
<code class="varname">-slang NN</code> where <code class="varname">NN</code> is the two-letter 
language code of the language you want. For example, to play back
Japanese audio with English subtitles, type:</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>mplayer</strong></span> dvd://1 -alang ja -slang en</code></strong>
</pre><p>
on the command line.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="xine"></a>4.2.2. Xine</h4></div></div></div><p>Simply type <span class="command"><strong>xine</strong></span> at the command prompt to
start the program.</p><p>The first time you start the program, it will display a
configuration screen with a bunch of options. In most cases you can
leave all of the options at the defaults.</p><p>The program has a graphical console with a row of labeled buttons
along the bottom. Press the DVD button to start playing the DVD. (However, if
your version of Xine has a D5D button, use that instead.)</p><p>Xine supports DVD menus, so you can set language or subtitling
options as you normally would via the disc's own menu.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="ogle"></a>4.2.3. Ogle</h4></div></div></div><p>Type <span class="command"><strong>ogle</strong></span> to start the program. Depending on
which version of the program you have, it may start playing the DVD
automatically. If it doesn't, then click on the <span class="guimenu">File</span>
menu and select <span class="guimenuitem">Open Disc</span> to begin reading
the disc.</p><p>Ogle, like Xine, supports DVD menus for setting the language or
subtitling options.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="vlc"></a>4.2.4. VideoLAN</h4></div></div></div><p>Use the <span class="command"><strong>vlc</strong></span> command to bring up the VideoLAN
GUI and click on the disc icon to open the disc and start playing.
Right click the playback window to bring up the options menu, which
includes deinterlacing, audio, and subtitle options.</p></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm383"></a>5. Troubleshooting</h2></div></div></div><div class="qandaset"><a name="idm385"></a><dl><dt>5.1. <a href="#idm386">xvinfo returns &#8220;no adaptors
present&#8221;</a></dt><dt>5.2. <a href="#idm406">xvinfo works but overlay output is
garbled</a></dt><dt>5.3. <a href="#idm413">DMA isn't working</a></dt><dt>5.4. <a href="#idm442">Video playback is choppy 
        </a></dt><dt>5.5. <a href="#idm451">Sound playback is choppy
        </a></dt><dt>5.6. <a href="#idm458">Out of region discs play back garbled
        </a></dt><dt>5.7. <a href="#idm464">Out-of-region discs hang on playback
        </a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question"><td align="left" valign="top"><a name="idm386"></a><a name="overlaytrouble"></a><p><b>5.1.</b></p></td><td align="left" valign="top"><p><span class="command"><strong>xvinfo</strong></span> returns <span class="quote">&#8220;<span class="quote">no adaptors
present</span>&#8221;</span></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Make sure you are running XFree86 4.1 or above. You can find
out your version of XFree86 by typing <span class="command"><strong>X
-version</strong></span> at the command prompt.</p><p>Use an appropriate driver for your video card. Some Linux
distributions default to using the generic XFree86 VESA driver instead
of the specific driver for your video card. You need to use the
hardware-specific driver for your card in order to get hardware
overlay support.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ATI users should try downloading the improved ATI XFree86
drivers from the <a class="ulink" href="http://gatos.sourceforge.net/" target="_top">GATOS</a> home page, or from the
<a class="ulink" href="http://www.ati.com/support/faq/linux.html" target="_top">official ATI
Linux support page</a>.</p></li><li class="listitem"><p>NVidia users should try downloading the <a class="ulink" href="http://www.nvidia.com/content/drivers/drivers.asp" target="_top">official NVidia
Linux drivers</a> for their video card.</p></li><li class="listitem"><p>Sometimes upgrading <a class="ulink" href="http://www.xfree86.org/" target="_top">XFree86</a> can provide you with an
improved driver that has hardware overlay support, but such an upgrade is
beyond the scope of this HOWTO.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="idm406"></a><a name="overlaybug"></a><p><b>5.2.</b></p></td><td align="left" valign="top"><p><span class="command"><strong>xvinfo</strong></span> works but overlay output is
garbled</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Problems with garbled or missing overlay output usually mean
that you don't have enough video RAM to hold both the regular desktop
display and the video overlay display at once. Typically you need twice
as much video RAM as normal at a given video resolution in order to use
hardware video overlay. In some cases you may even need 3 to 5 times more
RAM because of internal buffering in the video card.</p><p>The only easy way to lower your video RAM requirements is to
switch to a lower video resolution while playing videos.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="idm413"></a><a name="dmatrouble"></a><p><b>5.3.</b></p></td><td align="left" valign="top"><p>DMA isn't working</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>You can tell that DMA is broken if using the command
<span class="command"><strong>hdparm -d1</strong></span> on your DVD drive returns a message like the
following:</p><pre class="programlisting"><code class="prompt"># </code><strong class="userinput"><code><span class="command"><strong>hdparm</strong></span> -d1 /dev/hda</code></strong>
<code class="computeroutput"> 
/dev/hda:
 setting using_dma to 1 (on)
 HDIO_SET_DMA failed: Operation not permitted
 using_dma    =  0 (off)
</code></pre><p>
The only way to fix this problem is to compile a kernel with DMA support
for your particular chipset. It is beyond the scope of this HOWTO to
explain how to compile a kernel, but the steps which are particularly
relevant to DMA support are as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Download a <span class="emphasis"><em>recent</em></span> kernel so that
you have the greatest possible chance of DMA being supported on your
chipset.</p></li><li class="listitem"><p>Unpack your kernel and type <span class="command"><strong>make
xconfig</strong></span>
in the kernel build directory.  Under <span class="quote">&#8220;<span class="quote">ATA/IDE/MFM/RLL support</span>&#8221;</span>, 
select <span class="quote">&#8220;<span class="quote">IDE, ATA, and ATAPI Block devices</span>&#8221;</span> and enable 
<span class="quote">&#8220;<span class="quote">Generic PCI bus-master DMA support</span>&#8221;</span> and <span class="quote">&#8220;<span class="quote">Use DMA by 
default when available</span>&#8221;</span>.</p></li><li class="listitem"><p>On the same page there are several dozen chipset-specific DMA
drivers that continue downward for several screens. Find and select one 
relevant to your chipset, if there are any. For example if you have
an AMD Athlon based VIA chipset, enable the <span class="quote">&#8220;<span class="quote">VIA82CXXX chipset 
support</span>&#8221;</span> item.</p></li></ol></div><p>For more information on compiling kernels, see the <a class="ulink" href="http://en.tldp.org/HOWTO/Kernel-HOWTO/" target="_top">Kernel HOWTO</a> as
well as the <a class="ulink" href="http://www.tldp.org/HOWTO/Ultra-DMA.html" target="_top">Linux
Ultra-DMA Mini-Howto</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="idm442"></a><a name="choppyvideo"></a><p><b>5.4.</b></p></td><td align="left" valign="top"><p>Video playback is choppy 
        </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>On a fast enough computer (say, over 1 GHz), choppy video
playback usually means that your overlay support or DMA support is
misconfigured. See the previous troubleshooting items.
        </p><p>On a very slow computer (say, 0-500 MHz), there is nothing
you can do short of hardware upgrades to make DVD playback run well.
        </p><p>For borderline computers (anything in between), you can
gain a modest (~10%) performance boost by upgrading from kernel 2.2 to
kernel 2.4 and using an SSE-optimized player program like
MPlayer.
        </p><p>Finally, if all else fails, run MPlayer with the option
<span class="command"><strong>mplayer -framedrop</strong></span> to patch over occasional glitches
in video playback.
        </p></td></tr><tr class="question"><td align="left" valign="top"><a name="idm451"></a><a name="choppysound"></a><p><b>5.5.</b></p></td><td align="left" valign="top"><p>Sound playback is choppy
        </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The most common cause of sound playback problems is from 
sound cards that do not support 48 kHz audio playback. For people in
this category, I strongly suggest that you purchase a new sound card.
Even a cheap PCI sound card can give you a substantial upgrade in sound
quality for less than the cost of two DVDs.
        </p><p>Failing that, you can lighten the load on your sound playback
system by not using a sound daemon such as ESounD or aRts and playing
the DVD audio directly to the OSS driver. To do this with MPlayer, run
<span class="command"><strong>mplayer -ao=oss</strong></span> along with whatever other options
you normally use.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="idm458"></a><a name="cssgarbled"></a><p><b>5.6.</b></p></td><td align="left" valign="top"><p>Out of region discs play back garbled
        </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>In the past, older versions of most of the programs 
discussed here have had trouble decrypting out-of-region discs. The
result of a failed decryption looks like the colored video noise that
you see.
</p><p>Upgrading to the newest available version of any of the
programs should solve this problem.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="idm464"></a><a name="csstimeout"></a><p><b>5.7.</b></p></td><td align="left" valign="top"><p>Out-of-region discs hang on playback
        </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Watch the DVD drive's access light while the program is
hanging. Is the light still blinking in an access pattern? If it is (and
usually it will be), that means the program is still in the middle of
decrypting the disc.
</p><p>Decrypting the DVD involves mounting a fairly
large-scale computational effort to recover the key. It is not at all
unusual for a computer to take five or even ten minutes to decrypt a
single DVD key.</p><p>In-region discs never have this problem because the DVD drive
firmware automatically decrypts discs that match with the drive's own
region.</p></td></tr></tbody></table></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="moreinfo"></a>6. Further Information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="ulink" href="http://dag.wieers.com/howto/dvd/" target="_top">Dag
Wieers' overview</a> of the Linux DVD playback programs</p></li><li class="listitem"><p><a class="ulink" href="http://www.bunkus.org/dvdripping4linux/en/separate/index.html" target="_top">Moritz
Bunkus's DVD ripping guide</a> for Linux</p></li></ul></div></div></div></body></html>
