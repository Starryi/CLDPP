<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.72">
 <TITLE>Linux Portuguese-HOWTO</TITLE>
</HEAD>
<BODY>
<H1>Linux Portuguese-HOWTO</H1>

<H2>Configurações do Linux para a Língua Portuguesa</H2>
<H2>Carlos A. M. dos Santos &lt;
<A HREF="mailto:casantos@cpmet.ufpel.tche.br">casantos@cpmet.ufpel.tche.br</A>&gt;</H2>
<H3>CPMet/UFPEL -- Pelotas, RS, Brasil</H3>
v3.2, 24 May 1999
<HR>
<EM>Este documento pretende ser um guia de referência de configuração do
<B>Linux</B> e seus programas, teclados e fontes de caracteres, permitindo
sua utilização mais confortável por pessoas que falem a Língua Portuguesa.</EM>
<HR>
<H2><A NAME="s1">1. Introdução</A></H2>

<P>À semelhança de outras línguas faladas na Europa, a Língua Portuguesa tem
características especiais, como a utilização de caracteres acentuados, que
tornam o seu suporte difícil, pouco intuitivo ou até mesmo impossível, por
parte do software utilizado nos nossos computadores. </P>
<P>Nossa língua assume particularidades em cada um dos países em que é falada e
mesmo dentro de um único país como o Brasil, de dimensões continentais e com
influências culturais de muitos outros povos. Este documento foi originalmente
escrito por um português, mas agora é mantido por um brasileiro. Há uma
mistura de sotaques que deve se manter por um bom tempo, pois não há razão
para alterar o texto original senão para fazer de adições e correções, até por
respeito ao primeiro autor. Termos ``estrangeiros'' desnecessários foram
substituídos por correspondentes da Língua Portuguesa, preservando-se apenas
os que já fazem parte do jargão da informática.</P>

<H2><A NAME="ss1.1">1.1 Finalidades deste HOWTO</A>
</H2>

<P>Este HOWTO é um guia de referência de configuração do sistema operativo Linux
e seus programas, teclados e fontes de caracteres, permitindo sua utilização
mais confortável por pessoas que falem a Língua Portuguesa. Como os programas
mais antigos não foram desenhados com suporte a caracteres acentuados ou
internacionalização, às vezes é preciso usar algum artifício que permita
contornar o problema, mas o resultado nem sempre é totalmente satisfatório e
em alguns casos chega ser frustrante. As dificuldades encontradas centram-se
essencialmente em torno de quatro pontos: </P>
<P>
<UL>
<LI>a introdução de caracteres acentuados através do teclado, como seja a
escrita de jo~ao em vez da sua forma correcta: joão; </LI>
<LI>a exibição dos mesmos na tela do computador. O suporte resume-se
normalmente à correcta localização das teclas, nada mais;</LI>
<LI>o correto tratamento de convenções nacionais de formato de datas, horas e
valores monetários;</LI>
<LI>a exibição de mensagens, títulos e demais informações dos programas em
outra língua que não o Inglês, que é a língua original da maioria desses
programas.</LI>
</UL>
</P>
<P>Versões anteriores do Portuguese HOWTO concentravam-se em contornar as duas
primeiras dificuldades mencionadas, de forma a fazer que, dentro do possível,
tanto o sistema operativo como os programas nele utilizados aceitassem os
caracteres acentuados e usassem os teclados com suporte para o Português.
Embora esse objetivo ainda seja perseguido, os problemas de teclado e
caracteres já têm soluções satisfatórias, pelo menos para as aplicações mais
usadas. As próximas versões deverão se dedicar mais aos dois últimos
problemas.</P>
<P>O texto contém uma já não tão breve discussão sobre o tratamento
do teclado e das fontes de caracteres do console pelo Linux, bem como do
suporte a várias línguas nacionais. O Sistema de Janelas X também é discutido,
fazendo-se uma comparação entre ele e o modo de texto. Por fim, são fornecidas
instruções para a configuração do sistema operativo e de diversos aplicativos
importantes.</P>
<P>O documento tem se tornado menos <EM>slackwariano</EM>, incluindo cada vez mais
informações relativas a outras distribuições. Slackware e Caldera
ainda se baseiam na versão 5 da biblioteca de funções do sistema para Linux
(<EM>libc</EM>), enquanto Debian, Red Hat, TurboLinux, S.u.S.E e Stampede já
suportam a versão 6 (que na verdade é a glibc versão 2). Esta nova versão da
biblioteca está um passo adiante no suporte a internacionalização e
localização.  A partir da versão 3.2 do Portuguese-HOWTO as particularidades
de cada distribuição serão destacadas quando houver necessidade. A tentativa
de tornar Debian uma distribuição ``de referência'' a partir da versão 3.0 do
HOWTO fracassou miseravelmente porque o número de diferenças entre as
distribuições é muito grande.</P>
<P>A intenção original de não tentar concentrar toda a informação em um único
texto, tratando apenas de alguns temas essenciais e fornecendo referências
para outras fontes, também fracassou. O HOWTO em sua versão 3.1 já alcançava
38 páginas impressas em formato A4, o que está longe de poder ser chamado de
sucinto. As principais razões para tal gigantismo são a necessidade de
discutir diferenças entre as distribuições e a necessidade de fornecer
informações mais detalhadas sobre aplicativos.</P>
<P>Excetuando-se aspectos muito específicos do Linux, como a configuração do modo
texto e do <EM>kernel</EM>, a maioria das informações contidas neste documento
pode ser aplicada a outros sistemas Unix. Exemplos são as configurações do
Sistema de Janelas X e de vários aplicativos, que foram aplicadas em Solaris
2.{5,6,7} e Digital UNIX 3.2. Os mapas de teclado para terminais X e
estações de trabalho Sun foram criados e são usados em máquinas que rodam
Solaris. O documento poderá um dia se tornar o ``Unix Portuguese HOWTO'',
embora no momento não se tenha intenção ou meios de fazê-lo.</P>

<H2><A NAME="SEC:ONDE"></A> <A NAME="ss1.2">1.2 Onde encontrar a versão mais atual</A>
</H2>

<P>Os Linux HOWTO fazem parte do Projeto de Documentação Linux (Linux
Documentation Project -- LDP). Os documentos do LDP são mantidos em servidores
da Universidade da Carolina do Norte (UNC) e do Instituto de Tecnologia de
Massachusetts (MIT), nos Estados Unidos da América, e podem ser obtidos via
FTP anônimo nos seguintes endereços:
<UL>
<LI>
<A HREF="ftp://metalab.unc.edu/pub/Linux/docs/HOWTO">ftp://metalab.unc.edu/pub/Linux/docs/HOWTO</A> (conhecida
anteriormente como <CODE>sunsite.unc.edu</CODE>).</LI>
<LI>
<A HREF="ftp://tsx-11.mit.edu/pub/linux/docs/HOWTO">ftp://tsx-11.mit.edu/pub/linux/docs/HOWTO</A></LI>
</UL>
</P>
<P>Pode-se também folhear os documentos HOWTO em formato HTML no endereço
<UL>
<LI>
<A HREF="http://metalab.unc.edu/LDP/HOWTO">http://metalab.unc.edu/LDP/HOWTO</A></LI>
</UL>
</P>
<P>Muitas localidades mantêm cópias desses documentos. Deve-se dar preferência ao
acesso à cópia mais próxima, para economizar o precioso tráfego internacional
na Internet e também evitar a sobrecarga da máquina metalab.unc.edu. Uma lista
completa dessas localidades pode ser obtida em 
<UL>
<LI>
<A HREF="http://metalab.unc.edu/LDP/mirrors.html">http://metalab.unc.edu/LDP/mirrors.html</A></LI>
</UL>
</P>
<P>Eis uma lista dos endereços recomendados:</P>
<P>Brasil
<UL>
<LI>
<A HREF="http://linusp.usp.br/LDP/">http://linusp.usp.br/LDP/</A></LI>
<LI>
<A HREF="http://www.conectiva.com.br/LDP/">http://www.conectiva.com.br/LDP/</A></LI>
<LI>
<A HREF="http://www.opensite.com.br/linux/">http://www.opensite.com.br/linux/</A></LI>
<LI>
<A HREF="http://taubate.valley-bbs.com.br/LDP/">http://taubate.valley-bbs.com.br/LDP/</A></LI>
<LI>
<A HREF="http://linux.unicamp.br/docs/">http://linux.unicamp.br/docs/</A></LI>
</UL>
</P>
<P>Portugal
<UL>
<LI>
<A HREF="http://gil.di.uminho.pt/mirrors/LDP/">http://gil.di.uminho.pt/mirrors/LDP/</A></LI>
<LI>
<A HREF="http://deneb.cec.pt/LDP/">http://deneb.cec.pt/LDP/</A></LI>
<LI>
<A HREF="http://ftp.dei.uc.pt/LDP/">http://ftp.dei.uc.pt/LDP/</A></LI>
<LI>
<A HREF="http://www.sc.uevora.pt/LDP/">http://www.sc.uevora.pt/LDP/</A></LI>
<LI>
<A HREF="http://lwp.ualg.pt/docs/LDP/">http://lwp.ualg.pt/docs/LDP/</A></LI>
<LI>
<A HREF="http://linux.global-one.pt/LDP/">http://linux.global-one.pt/LDP/</A></LI>
<LI>
<A HREF="http://linux.ispgaya.pt/LDP/">http://linux.ispgaya.pt/LDP/</A></LI>
<LI>
<A HREF="http://ae.fe.up.pt/LDP/">http://ae.fe.up.pt/LDP/</A></LI>
</UL>
</P>
<P>Os Linux HOWTO estão disponíveis em diversos formatos: texto simples,
PostScript, DVI, HTML, RTF e Lyx. O formato original é SGML e os demais são
gerados usando o SGMLtools (maiores informações em 
<A HREF="http://www.sgmltools.org/">http://www.sgmltools.org/</A>).</P>

<H2><A NAME="ss1.3">1.3 Página oficial na WWW</A>
</H2>

<P>A página oficial do Linux Portuguese-HOWTO, assim como os diversos arquivos de
configuração do sistema e programas aplicativos mencionados no texto, podem
ser encontrados nos seguintes endereços:</P>
<P>
<UL>
<LI>Brasil: 
<A HREF="http://linusp.usp.br/~casantos/">http://linusp.usp.br/~casantos/</A></LI>
<LI>Portugal: 
<A HREF="http://linux.fe.up.pt/howto/">http://linux.fe.up.pt/howto/</A></LI>
</UL>
</P>

<H2><A NAME="ss1.4">1.4 Como enviar colaborações</A>
</H2>

<P>Toda a formatação deste HOWTO, incluindo a numeração das seções é feita pelo
SGMLtools. Por isso, ao enviar sugestões ou correções, mencione <B>os
títulos das seções</B> onde as alterações sugeridas devem ocorrer e não os
números. Nunca refira-se a um parágrafo como sendo ``o terceiro da seção
3.1''; cite as palavras inicias do trecho a ser modificado.</P>
<P>Envie sugestões e correções via correio eletrônico em texto simples,
opcionalmente com acentuação no código ISO-8859-1.  Se o texto não for
composto em um sistema *NIX, certifique-se de usar a codificação correta.
Todas as mensagens recebidas serão lidas, mas nem todas receberão resposta
direta, devido à falta de tempo para tanto.</P>
<P>Não envie documentos no formato proprietário de processadores de texto nem
em formato HTML (o que infelizmente parece ser o comportamento
normal do Netscape Communicator e do Microsoft Outlook).</P>
<P>Mensagens perguntando como configurar seu modem, placa de vídeo ou rede
não serão respondidas. Para esse tipo de consulta é aconselhável
procurar uma lista de discussão sobre Linux em Português ou acompanhar os
grupos de discussão de Linux na USENET <CODE>comp.os.linux.*</CODE>.</P>
<P>``Flames'' terão o destino costumeiro: <CODE>/dev/null</CODE>.</P>

<H2><A NAME="s2">2. Informações gerais</A></H2>

<H2><A NAME="ss2.1">2.1 Conjuntos de caracteres</A>
</H2>

<P>Um conjunto de caracteres é definido de acordo com os símbolos constantes no
alfabeto utilizado para escrita em uma ou mais línguas. A Organização
Internacional de Normas (<EM>International Standards Organization</EM> - ISO)
padronizou através da norma ISO-8859 vários desses conjuntos, identificados
por ISO-8859-<EM>x</EM> onde o <EM>x</EM> corresponde a um determinado alfabeto. O
conjunto ISO-8859 utiliza 8 bits para representar cada caracter, o que permite
uma gama de 256 sinais (valores de zero a 255). Em cada um dos conjuntos, os
códigos zero a 127 correspondem ao conjunto ASCII (<EM>American Standard Code
for Information Interchange</EM>) e os códigos 160 a 255 são usados para
caracteres nacionais.</P>
<P>Para a língua portuguesa, recomenda-se o uso do conjunto ISO-8859-1, que
compreende o alfabeto latino e letras acentuadas usadas pelas línguas do
oeste da Europa e América. Este conjunto de caracteres também é frequentemente
chamado de Latin-1 ou ISO Latin-1.</P>
<P>Um padrão mais recente é o Unicode, definido pela norma ISO-10646, que permite
definir caracteres cuja representação interna no computador utiliza mais de um
byte (ou <EM>octeto</EM> na nomenclatura ISO). Todas as versões mais recentes de
sistemas Unix suportam Unicode (ou pelo menos seus fabricantes alegam
suportar).</P>
<P>Além dos caracteres alfanuméricos e sinais de acentuação, é possível também
gerar sinais <EM>semigráficos</EM> para desenho de linhas e bordas.
Esses sinais podem aproveitar códigos não utilizados pelo conjunto oficial,
tornando-os não portáveis.</P>
<P>O <B>Linux</B> foi desenhado internamente de modo a facilitar a sua fácil
configuração e extensão em tempo de execução, não constituindo o tratamento do
teclado e fontes de caracteres excepção. Ele possui uma implementação ``nível
1'' do padrão Unicode. Maiores detalhes podem ser encontrados nos manuais do
Linux, que podem ser lido com os comandos
<PRE>
    man unicode
    man utf-8
    man iso_8859_1
    man ascii
</PRE>

mas antes disso certifique-se de que o <EM>man</EM> está configurado corretamente,
conforme mostrado na seção 
<A HREF="#SEC:MAN">Man, groff, troff</A>.</P>

<H2><A NAME="SEC:DIFXC"></A> <A NAME="ss2.2">2.2 Modo texto versus Sistema de Janelas X</A>
</H2>

<P>Alguns sistemas operativos, tais como MacOS, Microsoft Windows e NeXT, possuem
interfaces gráficas próprias. No Linux, assim como na maioria dos
sistemas compatíveis com Unix, é de uso corrente um ambiente gráfico criado
para ser ``multiplataforma'': o X Window System, que também foi projetado para
suportar diversos conjuntos de caracteres, idiomas e formatos de teclado, mas
ainda <B>não</B> suporta totalmente o padrão Unicode e sim uma extensão do
ISO-8859.</P>
<P>
<BLOCKQUOTE>
A rigor o X Window System <B>não</B> é uma interface gráfica com o usuário, mas
a combinação de um protocolo de comunicação com uma interface com programas
aplicativos (API) <EM>sobre a qual</EM> se construíram várias interfaces gráficas.
Tanto o protocolo quanto o Sistema de Janelas definem um conjunto de
<EM>mecanismos</EM> e não <EM>políticas</EM> (elementos característicos da política de
uma Interface Gráfica com o Usuário são menus, botões e caixas de diálogo).
O uso do termo ``XWindows'' é incorreto e deve ser evitado, dando-se
preferência ao nome genérico ``X''.
</BLOCKQUOTE>
</P>
<P>Existem muitas semelhanças entre os dois ambientes.  Ambos se baseiam em
padrões internacionais para definição de conjuntos de caracteres. Tanto no X
quanto no console do Linux pode-se definir uma tecla chamada <EM>Compose</EM>
cujo pressionamento seguido de duas outras gerará o caracter correspondente.
Assim sendo, o pressionamento da seqüência <B>compose-,-c</B> gerará um c
cedilhado.</P>
<P>O tratamento do console é feito diretamente pelo sistema operativo e
aplicações comuns não se envolvem com o processamento dos códigos de varredura
do teclado, recebendo um caracter ou uma seqüência deles ao ser pressionada
cada tecla, de tal sorte que tendo sido corretamente configurados o
teclado e a fonte de caracteres pouco mais se tem a fazer.</P>
<P>O X possui uma arquitetura muito diferente: tanto o teclado quanto a(s)
tela(s) -- pode haver mais de uma tela -- são controlados por uma aplicação
especial chamada <EM>servidor X</EM>. O pressionamento de uma tecla gera uma
mensagem (chamada de <EM>evento</EM>) que é passada pelo servidor X à aplicação
<EM>cliente</EM>. Há um programa muito útil chamado <EM>xev</EM> que permite observar
cada evento a ele transmitido. Cliente e servidor se comunicam via
rede usando um conjunto de regras chamado <EM>protocolo X</EM> e podem rodar em
máquinas diferentes. A máquina onde roda o servidor é chamada <EM>estação de
trabalho</EM> ou <EM>terminal X</EM> e a máquina onde roda a aplicação (programa
cliente) também é chamada de <EM>cliente</EM>.</P>
<P>Foge ao escopo deste texto a discussão mais profunda do tratamento de eventos
no X. Para maiores informações, sugere-se a consulta aos documentos
mencionados na seção 
<A HREF="#SEC:BIBLIOGRAFIA">Leituras recomendadas</A>, mas
é importante esclarecer que o evento enviado pelo servidor ao cliente não
contém o código numérico da tecla, chamado <EM>keycode</EM> na terminologia do X.
Ao invés disso, é enviado um símbolo, chamado <EM>keysymbol</EM> ou <EM>keysym</EM>,
obtido pela consulta a uma tabela de conversão mantida na memória do servidor.
Esta tabela pode ser modificada total ou parcialmente a qualquer momento por
meio de requisições definidas no protocolo X.</P>
<P>Existe um programa chamado <EM>xmodmap</EM> capaz de ler um arquivo contendo uma
tabela de conversão <EM>keycode</EM>--&gt;<EM>keysym</EM> e enviá-la, também na forma
de mensagens no protocolo X, ao servidor. É responsabilidade do cliente e
não do servidor interpretar o <EM>keysym</EM>, o que significa que a
aplicação deve saber esperar mais um caracter ao receber uma ``tecla
morta'' para compor uma letra acentuada.</P>
<P>Desde a revisão 5 do X existe na bibliotaca de funções (<EM>Xlib</EM>) um
mecanismo sofisticado de suporte à geração de caracteres em diversos códigos.
A função de tratamento de entrada de texto que já existia nas versões
anteriores, chamada <B>XLookupString</B>, entretanto,  não processa as
seqüências de acentos e letras de modo transparente às aplicações. Ao invés
disso foi incluído um método de composição usando <EM>contextos de entrada</EM>
(<EM>input contexts</EM>) por meio das funções <B>XmbLookupString</B> e
<B>XwcLookupString</B>, cujo uso é responsabilidade da aplicação -- ou do seu
programador, melhor dizendo -- mesmo no caso da tecla <EM>Compose</EM>.  Isto
deve-se so fato de o <EM>X Consortium</EM> ter chegado à conclusão de que o
sistema de mapeamento de teclas não tratava de forma satisfatória toda a
imensa variedade de línguas escritas nas várias partes do mundo. Deste modo,
decidiu-se que o ``peso'' relativo à gestão do teclado fosse transferido para
as aplicações X, o que cria uma dificuldade quando usamos aquelas mais
antigas, que não usam o novo método de tratar a entrada.</P>
<P>Por essas razões é normalmente mais difícil conseguir acrescentar suporte à
geração de caracteres acentuados em aplicativos que rodam sob o X,
principalmente quando não se possui o código fonte. Aplicativos feitos para
rodar apenas em modo texto, tais como <B>vi</B> e <B>minicom</B> dependerão
totalmente dos recursos do emulador de terminal em uso quando rodando em uma
janela do X. Se for usada uma versão atual do <EM>xterm</EM> ou <EM>rxvt</EM> o
emulador fará o tratamento correto dos acentos.</P>
<P>O francês Thomas Quinot, cansado de esperar uma solução melhor para o problema
da acentuação no X, resolveu implementar uma modificação para a Xlib proposta
por André D. Balsa, que adiciona suporte à acentuação direta conforme mostrado
na seção&nbsp;
<A HREF="#SEC:CONTOR-X">Contornando os limites do X</A>. Isso
permite usar aplicações como <EM>xfig</EM> ou <EM>xedit</EM> sem que seja necessário
alterá-las. O truque parece funcionar apenas para caracteres do código
ISO-8859-1 mas é suficiente para o Português e outras línguas. Como bem
observa Balsa, a longo prazo todos os programas deverão ser modificados para
usar os novos recursos do X, mas como a longo prazo estaremos todos mortos a
solução de curto prazo de Quinot torna-se bastante atraente...</P>

<H2><A NAME="CONF-CONS"></A> <A NAME="s3">3. Configuração do console (modo texto)</A></H2>

<P>O documento de referência sobre a configuração do console do Linux é o
<A HREF="http://metalab.unc.edu/pub/Linux/docs/HOWTO/Keyboard-and-Console-HOWTO">Keyboard and Console HOWTO</A>, de Andries Brouwer, que pode ser
encontrado nos repositórios do LDP. Conforme lá descrito, a configuração da
fonte de caracteres e mapa de teclado é feita usando o pacote KBD, encontrado
em todas as distribuições de Linux. </P>

<H2><A NAME="ss3.1">3.1 Mapas de teclado</A>
</H2>

<P>Cada tecla do PC possui um código numérico. Ao pressionarmos uma delas o
processador controlador do teclado envia ao computador esse código <EM>de
varredura</EM>, também conhecido como <EM>scancode</EM>, junto com um sinal de que a
tecla foi pressionada ou solta. As seqüências de eventos são então
processadas pelo <EM>driver</EM> de teclado e armazenadas em uma fila de
caracteres que é lida pelas aplicações por meio da chamada de funções do
sistema operativo. </P>
<P>Um mapa de teclado é um arquivo de texto que estabelace as correspondências
entre o <EM>scancode</EM> de tecla e o caracter (ou seqüência de caracteres)
a gerar quando ela for pressionada, chamado <EM>keycode</EM>. Por exemplo:
<PRE>
    # atribuição da tecla '-' do teclado numérico à tecla com código 74
    keycode  74 = KP_Subtract     

    # atribuição da tecla '4' do teclado numérico à tecla com código 75
    keycode  75 = KP_4            

    # etc...

    keycode  76 = KP_5            # tecla 5
    keycode  77 = KP_6            # tecla 6
    keycode  78 = KP_Add          # soma
    keycode  79 = KP_1            # tecla 1
    keycode  80 = KP_2            # tecla 2
</PRE>
</P>
<P>Além das teclas alfabéticas, numéricas e de símbolos, existem outras
chamadas <EM>modificadoras</EM> que permitem gerar códigos que não
correspondem a nenhum sinal gráfico: <EM>Shift Control
Alt</EM> e <EM>Meta</EM>. Esta última normalmente não é encontrada em
teclados de PCs, apenas em estações de trabalho de fabricantes como Sun,
SGI, HP e Digital (eles não gostam de ser chamados de ``DEC''). O editor de
texto Emacs usa muito a tecla <EM>Meta</EM>.</P>
<P>O arquivo de mapa permite também especificar teclas especiais chamadas
``teclas mortas'' (<EM>deadkeys</EM>). Quando pressionadas elas não resultam no
aparecimento de um caracter na tela, limitando-se a alterar o comportamento da
tecla pressionada a seguir para que, por exemplo, ao se digitar um
<B>~</B> seguida de um <B>a</B>, seja gerado um `ã'.</P>

<H2><A NAME="ss3.2">3.2 Mapas de tradução de tela</A>
</H2>

<P>Um mapa de tradução de tela permite especificar qual o caracter X a ser
exibido na tela, quando um programa deseja exibir um caracter Y.  Desta
forma, poderíamos fazer com que ao escrever o caracter com o código do
<CODE>c-cedilhado</CODE> na tela, fosse na realidade exibido um outro caracter de
código diferente mas cuja <EM>imagem</EM> na nossa fonte de caracteres
correspondesse à imagem de um <CODE>c-cedilhado</CODE>.</P>
<P>Este mapeamento é necessário apenas quando queremos usar uma fonte cujos
caracteres não possuem códigos diretamente correspondentes aos do conjunto
usado no mapa de teclado.</P>


<H2><A NAME="ss3.3">3.3 Comandos do pacote KBD</A>
</H2>

<P>
<DL>
<DT><B>Loadkeys</B><DD>
<P>Permite carregar um mapa de teclado. Por exemplo, o comando 
a seguir carrega o mapa armazenado no arquivo <CODE>portugal.map</CODE>.
<PRE>
    loadkeys /usr/lib/kbd/keytables/portugal.map
</PRE>
</P>
<DT><B>Setfont</B><DD>
<P>Permite o carregamento de uma fonte de caracteres de tela, possibilitando a
alteração das fontes utilizadas em modo de texto. O comando a seguir, por
exemplo, irá carregar uma fonte com o conjunto Latin-1: 
<PRE>
    setfont lat1u-16.psf
</PRE>
</P>
<DT><B>Showfont</B><DD>
<P>mostra todos os caracteres existentes na fonte que está atualmente em uso
no console. O X também tem um comanto chamado showfont, que serve para
mostrar as características de uma determinada fonte, mas não os caracteres
em si. Para esta última finalidade se usa o comando <EM>xfd</EM>. Se o
programa showfont do pacote KBD for invocado em um emulador de terminal X,
como <EM>xterm</EM>, ele gerará um erro ``GIO_SCRNMAP: Invalid argument'', mas
não provocará nenhum dano.</P>
<DT><B>Mapscr</B><DD>
<P>Permite carregar um mapa de tradução de tela. Suponhamos que exista o arquivo
<CODE>/etc/portugal.trad</CODE>. Se executarmos o comando
<PRE>
    mapscrn /etc/portugal.trad
</PRE>

então a partir deste momento as traduções lá definidas serão usadas.</P>
<DT><B>Loadunimap</B><DD>
<P>Carrega um mapa de tradução de Unicode para a fonte de tela. O mapa padrão,
chamado ``def.uni'' considera que estamos usando a fonte normal do IBM-PC.
Este comando <B>não</B> é necessário quando usamos uma fonte com caracteres
definidos no padrão Unicode, pois o programa setfont carrega
automaticamente a tabela de mapeamento adequada. O comando a seguir
carregará o mapa de tradução para as fontes latin-1:
<PRE>
    loadunimap lat1
</PRE>
</P>
</DL>
</P>


<H2><A NAME="SEC:CARFONTE"></A> <A NAME="ss3.4">3.4 Carregamento de uma fonte de caracteres</A>
</H2>

<P>O pacote KBD contém dois tipos de fontes com codificação latin-1:
<UL>
<LI>as que já possuem uma tabela de mapeamento unicode, carregada
automaticamente pelo programa <CODE>setfont</CODE>. Estas fontes têm nomes
<CODE>lat1u-*.psf</CODE>;</LI>
<LI>as que não possuem tabela de mapeamento. Neste caso é preciso carregar
uma com o programa <CODE>loadunimap</CODE>. Estas têm nomes <CODE>lat1-*.psf</CODE>
(o ``u'' indica Unicode).</LI>
</UL>
</P>
<P>Nas versões mais novas do KBD os arquivos são comprimidos com <CODE>gzip</CODE>.  É
preciso carregar uma fonte que tenha os caractres latinos acentuados no padrão
ISO 8859-1 e <EM>também</EM> os símbolos semigráficos. As fontes de nome
<CODE>iso01.*</CODE> não possuem esses símbolos. A fonte mais recomendada é a
<CODE>lat1u-16.psf</CODE>.</P>
<P>As versões mais antigas do pacote KBD mantinham essas fontes no diretório
<CODE>/usr/lib/kbd/consolefonts</CODE>, que foi trocado depois da versão 0.92 por
<CODE>/usr/share/consolefonts</CODE>. Dependendo da sua distribuição e do quanto
ela esteja atualizada o diretório poderá ser um ou outro.</P>

<H3>Slackware</H3>

<P>Foi criado o script <CODE>/etc/rc.d/rc.font</CODE>, contendo o seguinte: </P>
<P>
<PRE>
    #!/bin/sh
    #
    # /etc/rc.d/rc.font
    #
    # Seleciona uma das fontes de caracteres disponiveis em
    # /usr/lib/kbd/consolefonts.
    #
    setfont lat1u-16.psf

    # O comando a seguir é totalmente desnecessário
    # com a fonte lat1u-16.psf.
    # loadunimap lat1u

    # Remova o comentário da linha abaixo se estiver usando uma fonte sem
    # tabela de mapeamento de Unicode para tela:
    # loadunimap lat1
</PRE>
</P>

<H3>Debian</H3>

<P>Edite o arquivo <CODE>/etc/kbd/config</CODE> e coloque uma linha contendo
<PRE>
    CONSOLE_FONT=lat1u-16.psf
</PRE>

esse arquivo é processado pelo script <CODE>/etc/rc.boot/kbd</CODE>. Execute-o
para ativar a nova fonte sem ter que dar ``reboot''. Lembre-se sempre: Linux
<B>não</B> é Windows!</P>

<H3>Red Hat</H3>

<P>Edite o arquivo <CODE>/etc/sysconfig/i18n</CODE> e veja se contém o seguinte:
<PRE>
    LANG=pt_BR
    LINGUAS=pt_BR
    LC_CTYPE=ISO-8859-1
    LC_ALL=pt_BR
    SYSFONT=lat1u-16
    SYSTERM=linux-lat
</PRE>
</P>

<H3>Conectiva Red Hat Linux</H3>

<P>Se você selecionar a língua correta durante a instalação não há nada mais a
fazer. A configuração é feita extatamente como do Red Hat.</P>

<H3>S.u.S.E.</H3>

<P>Edite o arquivo <CODE>/etc/rc.config</CODE> e procure uma linha que começa com
``FONT='' (linha 64, em minha máquina com S.u.S.E. verão 5.6) e coloque
<PRE>
    FONT=lat1u-16.psf
</PRE>
</P>
<P>Edite os scripts <CODE>boot.setup</CODE> e <CODE>single</CODE> contidos no diretório
<CODE>/etc/rc.d</CODE>. Procure a linha contendo o comando
<CODE>/usr/bin/loadunimap</CODE> e remova-a ou ponha no seu início um ``#''
para deixá-la como comentário. Veja comentários sobre este comando na
seção&nbsp;
<A HREF="#SEC:CARFONTE">Carregamento de uma fonte de caracteres</A>.</P>

<H3>Testando a fonte</H3>

<P>Experimente algumas teclas como ``,.|!"#$%&amp;/()=?'',
etc. e use o comando <CODE>showfont</CODE> para mostrar a fonte em uso.</P>

<H2><A NAME="ss3.5">3.5 Carregando um mapa de teclado</A>
</H2>

<P>A seguir é necessário carregar o mapa de teclado adequado. Até a versão 0.92
do pacote KBD esses mapas ficavam no diretório <CODE>/usr/lib/kbd/keytables</CODE>
passando mais tarde para <CODE>/usr/share/keytables</CODE>.  Dependendo da
distribuição você terá um diretório ou outro. Os mapas para diversos tipos de
teclados são apresentados mais adiante. </P>

<H3>Slackware.</H3>

<P>Foi criado o script <CODE>/etc/rc.d/rc.keyboard</CODE>, contendo o seguinte: 
<PRE>
    #!/bin/sh
    #
    # /etc/rc.d/rc.keyboard
    #
    # Seleciona um dos mapas de teclado disponíveis no diretório
    # /usr/lib/kbd/keytables
    #
    loadkeys abnt2
</PRE>

e acrescentei as seguintes linhas ao <CODE>/etc/rc.d/rc.S</CODE>,
imediatamente antes do tratamento do <CODE>/etc/rc.d/rc.keyboard</CODE>: 
<PRE>
    # Carrega uma fonte de caracteres se existe um script rc.font.
    if [ -x /etc/rc.d/rc.font ]; then
      /etc/rc.d/rc.font start
    fi

    # Carrega um mapa de teclado se existe um script rc.keyboard.
    if [ -x /etc/rc.d/rc.keyboard ]; then
      /etc/rc.d/rc.keyboard start
    fi
</PRE>
</P>

<H3>Debian.</H3>

<P>Certifique-se de ter instalado o pacote <EM>kbd</EM> e depois faça o seguinte:
<UL>
<LI>copie os arquivos com os mapas de teclado fornecidos (veja a seção 
<A HREF="#SEC:FICHEIROS">Ficheiros necessários</A>) para o diretório
<CODE>/usr/share/keytables/</CODE>. Não é necessário descomprimi-los;</LI>
<LI>copie o mapa correspondente ao seu teclado para o arquivo
<CODE>/etc/kbd/default.map.gz</CODE>.</LI>
<LI>rode o script <CODE>/etc/init.d/keymaps.sh</CODE>.</LI>
</UL>
</P>

<H3>Red Hat.</H3>

<P>Certifique-se de ter instalado o pacote <EM>kbd</EM>. Copie os arquivos com os
mapas de teclado fornecidos (veja a seção 
<A HREF="#SEC:FICHEIROS">Ficheiros necessários</A>) para o diretório
<CODE>/usr/lib/kbd/keytables/</CODE> (ou
<CODE>/usr/lib/kbd/keymaps/i386/qwerty/</CODE>, a pertir do Red Hat 5.2). Não
é necessário descomprimi-los.</P>
<P>Edite o arquivo /etc/sysconfig/keyboard e coloque o nome do mapa a usar na
variável KEYTABLE, como por exemplo
<PRE>
    KEYTABLE="abnt2"
</PRE>
</P>

<H3>Conectiva Red Hat Linux.</H3>

<P>O CRHL já vem com os mapas de teclado para Português. Se você selecionou o
teclado correto durante a instalação, não há mais nada a fazer. Caso
contrário, edite o arquivo <CODE>/etc/sysconfig/keyboard</CODE> e coloque
<PRE>
    KEYTABLE="nome"
</PRE>

Onde ``nome'' é <EM>br-abnt2</EM>, <EM>pt</EM> ou <EM>us-acentos</EM> caso o desenho do
seu teclado seja ABNT-2, português ou americano.</P>


<H3>S.u.S.E..</H3>

<P>Certifique-se de ter instalado o pacote <EM>kbd</EM>. Copie os arquivos com os
mapas de teclado fornecidos (veja a seção 
<A HREF="#SEC:FICHEIROS">Ficheiros necessários</A>) para o diretório
<CODE>/usr/lib/kbd/keytables/</CODE>. Não é necessário descomprimi-los.</P>
<P>Descomprima o mapa de teclado adequado, copiando para o arquivo
<CODE>/etc/default.keytab</CODE>, usando por exemplo um comando como
<PRE>
    zcat /usr/lib/kbd/keytables/pt.map.gz &gt; /etc/default.keytab
</PRE>
</P>

<H3>Testando o teclado</H3>

<P>Experimente pressionar a tecla <B>c-cedilhado</B> (se o teclado não tem esta
tecla, digite <CODE>'c</CODE>). Verifique se todas as letras acentuadas, maiúsculas e
minúsculas são geradas corretamente e aparecem na tela. Se aparecer algum
caracter estranho verifique se carregou o mapa de teclado e a fonte de
caracteres corretos, pois provavelmente uma dessas operações foi mal sucedida.</P>
<P>Se ao invés de c-cedilha minúsculo aparecer um maiúsculo é provável que uma
tabela de mapeamento Unicode incorreta esteja a ser carregada. Este problema
ocorrerá na distribuição S.u.S.E. se não se fizerem as alterações nos scripts
do sistema mencionadas anteriormente.</P>
<H2><A NAME="ss3.6">3.6 Verificando erros</A>
</H2>

<P>Mas, e se alguns dos caracteres continuarem a não aparecer? Bem, antes de mais
nada verifique se a fonte e o mapa de teclado adequados foram carregados. Um
caso especial é quando queremos usar uma fonte que não segue a codificação ISO
Latin-1 (é o caso da fonte padrão do console do PC). Teríamos então de
<EM>convencer</EM> a tela a mostrar os caracteres certos em cada caso.</P>
<P>Poderíamos recorrer ao comando <EM>mapscrn</EM>.  O arquivo com a tabela de
tradução teria no entanto de ser criado por nós, seguindo um processo moroso
de tentativa e erro até encontrar o caracter cuja imagem desejávamos. Ou, de
uma forma mais fácil, poderíamos usar o comando <EM>showfont</EM>. </P>
<P>Se usarmos a fonte de caracteres correta, o uso deste último comando será
desnecessário. É até recomendável que não se use tal recurso, pois embora ele
permita criar uma tabela de caracteres ``personalizada'' em um computador,
será difícil que um documento acentuado produzido nessa máquina possa ser lido
em outra que não tenha a mesma configuração. </P>

<H2><A NAME="SEC:LIBC"></A> <A NAME="s4">4. Biblioteca de funções libc e aplicativos GNU</A></H2>

<P>A biblioteca padrão de funções do Linux suporta Internacionalização e
Localização segundo o padrão POSIX (Portable Operating System Interface).
Trata-se de uma norma estabelecida pelo IEEE (Institute of Electrical and
Electronics Engineers) para intercomunicação entre diferentes sistemas
operativos. Existe também um padrão estabelecido pelo ANSI (American National
Standards Institute) para a linguagem de programação C que permite escrever
programas com suporte internacional.</P>

<H2><A NAME="ss4.1">4.1 Configurando o suporte internacional</A>
</H2>

<P>Resumidamente, podemos dizer que as funções que tratam informações dependentes
da língua ou do país podem ter seu comportamento modificado, bastando para
tanto estabelecer algumas variáveis de ambiente. E que funções são essas?
Podemos citar as de formatação de datas, valores monetários e mensagens de
erro do sistema. Se você não sabe o que é uma variável de ambiente, sugiro que
leia o manual com o comando
<PRE>
    man environ
</PRE>
</P>
<P>O padrão POSIX permite usar diversas variáveis de configuração, cada uma delas
definindo o tratamento dado a um tipo de informação, a saber
<DL>
<DT><B>LC_COLLATE</B><DD>
<P>Define regras para comparação entre caracteres no alfabeto local. Por
exemplo, a letra `ã' deve ser tratada como idêntica ao `a' no Português
quando ordenamos alfabeticamente.</P>

<DT><B>LC_CTYPE</B><DD>
<P>Define regras para comparação entre caracteres maiúsculos e
minúsculos. Se estivermos trabalhando com o código ASCII, sabemos que o
código numérico de uma letra minúscula é 32 a mais do que a maiúscula
correspondente, mas para uma letra acentuada esta regra não é válida!</P>

<DT><B>LC_MONETARY</B><DD>
<P>Muda o comportamento das funções de formatação de valores monetários e
permite descobrir, por exemplo, o símbolo da moeda local, ou se usa ponto
ou vírgula como separador de milhares e de casas decimais.</P>

<DT><B>LC_MESSAGES</B><DD>
<P>Estabelece a língua em que as mensagens serão apresentadas e como é uma
resposta afirmativa ou negativa (S/N).</P>

<DT><B>LC_NUMERIC</B><DD>
<P>Estabelece o comportamento das funções de leitura/escrita de valores
numéricos permitindo, por exemplo que usemos a vírgula decimal.</P>

<DT><B>LC_TIME</B><DD>
<P>Define a formatação de datas e horas.</P>

<DT><B>LC_ALL</B><DD>
<P>Define de uma só vez todas as categorias. Se usarmos LC_ALL, não
precisaremos definir nenhuma das outras, a não ser que queiramos um
comportamento diferente para aquele ítem específico.</P>

<DT><B>LANG</B><DD>
<P>Define de uma só vez todas as categorias, se LC_ALL não estiver definida.
Também é usada pelo comando <CODE>man</CODE> para compor os caminhos pelos quais
ele procurará as páginas do manual. Veja as observações a respeito desta
variável nas seções 
<A HREF="#SEC:LOCALE">Locale</A>, 
<A HREF="#SEC:LOCALE">Locale</A> e 
<A HREF="#SEC:LOCALE">Locale</A>.</P>
</DL>
</P>
<P>Maiores informações podem ser obtidas no manual do sistema com o comando
<PRE>
    man 7 locale 
</PRE>

O `7' no comando anterior é necessário para evitar confusão com uma função
homônima da linguagem Perl. Note que as configurações acima afetam, em
princípio, apenas as funções disponíveis na biblioteca de funções da linguagem
C. Na prática, todos os programas que rodam em Linux usam aquela biblioteca,
mas o sistema operativo não provê, catálogos de mensagens em
diversas línguas para todos os programas.</P>
<P>A identificação da língua e do local é feita por dois códigos de duas letras,
separados por um sinal ``_''. Se omitirmos o código de país, assume-se o país
padrão para a língua informada, mas deve haver um catálogo correspondente.
Deste modo, o código ``pt_PT'' significa Português de Portugal, enquanto
``pt_BR'' significa Português do Brasil. Escolher uma combinação língua/local
basta então colocar em seu arquivo <CODE>/etc/profile</CODE> uma linha contendo
<PRE>
    LC_ALL="pt_PT"
    export LC_ALL
</PRE>

Usuários brasileiros devem usar ``pt_BR'' ao invés de ``pt_PT''. Teste o
resultado com os comandos a seguir (<CODE>/inexistente</CODE> é o nome de um
arquivo que <B>não</B> existe):
<PRE>
    echo ÁÉÍÓÚ | tr '[:upper:]' '[:lower:]'
    tar tf /inexistente
    ls -l /
    date
    cal 1 1999
</PRE>

O resultado do primeiro deverá ser ``<CODE>áéíóú</CODE>''. Os comandos <CODE>tar</CODE> e
<CODE>ls</CODE> devem retornar mensagens em Português e <CODE>cal</CODE> deve mostrar um
calendário de janeiro de 1999, com <EM>do se te qu qu se sá</EM> no cabeçalho dos
dias da semana.</P>
<P>Na distribuição Debian, certifique-se de ter instalado o pacote ``locales'',
que pertence ao grupo ``admin''. O nome do arquivo que contém o pacote (na
versão 2.0 da distribuição) é <CODE>locales_2.0.7t-1.deb</CODE> e em meu CD
está no diretório <CODE>debian/main/binary-i386/admin</CODE>.</P>
<H2><A NAME="ss4.2">4.2 Problemas com a libc 5</A>
</H2>

<P>Até meados de 1997 todas as distribuições de Linux usavam a mesma biblioteca
<EM>libc</EM>, que estava na versão 5, desenvolvida a partir de uma versão
mais antiga da libc do projeto GNU. Esta biblioteca possuia suporte muito
limitado à internacionalização e normalmente nenhum dos catálogos de locais
era incluído na distribuição, ficando o inglês como língua padrão.</P>
<P>A versão 6 da libc do Linux baseia-se na versão 2 da libc do projeto GNU. O
suporte à internacionalização foi muito melhorado, além de incluir outros
atributos que não interessam para os fins deste HOWTO. Se sua distribuição for
a Debian versão 2, Red Hat versão 5 ou qualquer outra que use a nova libc,
então não há mais nada a fazer além do descrito na seção anterior.</P>
<P>Mas se você usa uma distribuição ainda baseada na libc 5 (Slackware, Caldera
1.x ou uma versão mais antiga de Debian ou Red Hat) é preciso instalar a
coleção de locais. Não tente copiar a coleção de uma distribuição mais
recente, pois os formatos dos arquivos são incompatíveis. Pegue na página do
Portuguese HOWTO o arquivo <CODE>locales-pt.tgz</CODE>. Para instalá-lo na
distribuição Slackware, basta (como usuário <B>root</B>) usar o comando
<PRE>
    installpkg locales-pt.tgz
</PRE>

e para outras distribuições use o comando
<PRE>
    tar xzf locales-pt.tgz -C /
</PRE>
</P>
<P>Verifique se há dois subdiretórios do <CODE>/usr/share/locale</CODE> chamados
<CODE>pt_BR</CODE> e <CODE>pt_PT</CODE>. Basta então configurar a variável de ambiente
LC_ALL, como já descrito.</P>

<H2><A NAME="CONF-X"></A> <A NAME="s5">5. Configuração do X</A></H2>

<P>Quando o servidor X está ativo, ele coloca o teclado do computador em um modo
de operação chamado <EM>raw</EM> (cru), em oposição ao modo normal, chamado
<EM>cooked</EM> (isto mesmo: cozido). No modo raw o sistema operativo não processa
seqüências acento-letra. O servidor X é uma daquelas raras aplicações que,
por dever de ofício, tem que tratar o teclado ``em baixo nível''.</P>
<P>O X vem equipado com um utilitário destinado à configuração do teclado,
chamado <EM>xmodmap</EM>, que cumpre uma função correspondente à do comando
<EM>loadkeys</EM>, ou seja, lê um arquivo de mapa de teclado do X, expecificando
as equivalências entre os <EM>keycodes</EM> e respectivos <EM>keysymbols</EM>.</P>
<P>Eis um excerto deste arquivo:
<PRE>
    keycode 47 = ccedilla Ccedilla dead_acute dead_doubleacute
    keycode 48 = masculine ordfeminine dead_circumflex dead_caron
    keycode 49 = backslash bar notsign
    keycode 50 = Shift_L
    keycode 51 = dead_tilde dead_circumflex dead_grave dead_breve
</PRE>

Observem que, ao contrário do loadkeys, o xmodmap não possui um diretório
padrão onde o arquivo é procurado. </P>
<P>A configuração do X não interfere de forma alguma com a configuração do modo
de texto.  De facto, é possível ter o seu X bem configurado, e no entanto
não ter realizado qualquer tipo de configuração ao modo de texto, e
vice-versa.  Outro ponto importante de se observar é que os códigos numéricos
das teclas no X não correspondem aos do console. A tecla <B>Backspace</B>, por
exemplo, tem o número 14 no console, e 22 no X (em um computador do tipo
IBM-PC). </P>
<P>As versões 3.2 e posteriores do XFree86 permitam definir <EM>dead-keys</EM>, mas
o seu tratamento é responsabilidade da aplicação, conforme visto na seção&nbsp;
<A HREF="#SEC:DIFXC">Modo texto versus Sistema de Janelas X</A>. Há modos de
contornar esta limitação e tornar o tratamento de <EM>dead-keys</EM> transparente
às aplicações, conforme mostrado na seção 
<A HREF="#SEC:CONTOR-X">Contornando os limites do X</A>.</P>
<P>Dividimos a configuração em duas partes: Uma que deve ser feita antes do
<EM>login</EM> do usuário e outra depois.</P>

<H2><A NAME="ss5.1">5.1 Configuração do xinit</A>
</H2>

<P>Junto com este documento são fornecidos vários mapas de teclado para uso no
X. Para automatizar o processo de configuração do teclado basta copiar o
arquivo adequado para o diretório <CODE>/usr/X11R6/lib/X11/xinit</CODE>, onde
normalmente ficam os arquivos de início da seção de trabalho no X. Na
distribuição Slackware esse diretório é um link simbólico para
<CODE>/var/X11R6/lib/xinit</CODE> e na Debian e na Red Hat para
<CODE>/etc/X11/xinit</CODE>. </P>
<P>Nas distribuições Slackware e Red Hat, verifique se no referido diretório
existe um arquivo chamado <CODE>.Xmodmap</CODE>. Se existir, copie o
<CODE>Xmodmap.</CODE>&lt;alguma-coisa&gt;  para ele, ou faça um link.
Normalmente o arquivo de configuração <CODE>xinitrc</CODE> possui os comandos
para carregá-lo automaticamente. Veja o seguinte trecho: </P>
<P>
<PRE>
    #!/bin/sh
    # $XConsortium: xinitrc.cpp,v 1.4 91/08/22 11:41:34 rws Exp $

    userresources=$HOME/.Xresources
    usermodmap=$HOME/.Xmodmap
    sysresources=/usr/X11R6/lib/X11/xinit/.Xresources
    sysmodmap=/usr/X11R6/lib/X11/xinit/.Xmodmap

    # merge in defaults and keymaps

    if [ -f $sysresources ]; then
        xrdb -merge $sysresources
    fi

    if [ -f $sysmodmap ]; then
        xmodmap $sysmodmap
    fi
</PRE>
</P>
<P>Na distribuição Debian o mapa de teclado padrão do X é
<CODE>/etc/X11/Xmodmap</CODE>, basta copiar o mapa desejado para aquele
arquivo.  Ele será carregado pelo xinitrc, que por sua vez é um link simbólico
para <CODE>/etc/X11/Xsession</CODE>, sempre que iniciar a seção de trabalho do
usuário.</P>

<H2><A NAME="ss5.2">5.2 Configuração do XDM</A>
</H2>

<P>Existe ainda um pequeno problema: no meu computador, por exemplo, o
sistema carrega diretamente o X ao dar boot e o login é feito pelo X
Display Manager (xdm). Como o xdm faz o login <B>antes</B> de iniciar a
seção de trabalho, o mapa de teclado não será carregado, o que pode criar
problemas se o usuário usa caracteres como ``['' ou ``]'' em sua
senha, pois nos teclados ABNT-2 e português esses símbolos são gerados por
teclas cujos códigos numéricos não são os mesmos do teclado americano. </P>
<P>É preciso fazer uma pequena alteração no arquivo de configuração Xsetup_0.
Esse arquivo deve estar no diretório <CODE>/usr/X11R6/lib/X11/xdm</CODE>, que
na Slackware é um link simbólico para <CODE>/var/X11R6/lib/xdm</CODE> e
<CODE>/etc/X11/xdm</CODE> na Debian e -- sujeito a confirmação -- RedHat. Eis
o conteúdo completo desse arquivo: 
<PRE>
    #!/bin/sh
    #
    # /usr/X11R6/lib/X11/xdm/Xsetup_0
    #

    sysresources=/usr/X11R6/lib/X11/xinit/.Xresources
    sysmodmap=/usr/X11R6/lib/X11/xinit/.Xmodmap

    # merge in defaults and keymaps

    if [ -r $sysresources ]; then
        xrdb -merge $sysresources
    fi

    if [ -r $sysmodmap ]; then
        xmodmap $sysmodmap
    fi

    xconsole -geometry 480x130-0-0 -daemon -notify -verbose -exitOnFail
</PRE>
</P>
<P>A distribuição Debian tem um <CODE>Xsetup_0</CODE> um pouco diferente, em
<CODE>/etc/X11/xdm/Xsetup_0</CODE>, mas basta acrescentar-lhe o seguinte:</P>
<P>
<PRE>
    sysmodmap=/etc/X11/Xmodmap
    sysresources=/etc/X11/Xresources

    if [ -f $sysresources ]; then
      xrdb -merge $sysresources
    fi

    if [ -f $sysmodmap ]; then
      xmodmap $sysmodmap
    fi
</PRE>
</P>
<P>Se no seu computador o login do usuário também for feito sempre via xdm, não é
necessário mexer no xinitrc, como mostrado na seção anterior, já que o mapa de
teclado será carregado antes do início na seção do usuário.</P>

<H2><A NAME="ss5.3">5.3 Compose</A>
</H2>

<P>Uma das coisas mais importantes a definir quando vamos utilizar acentuação
por meio de <EM>dead-keys</EM> é o conjunto de <EM>regras de composição</EM>. Essas
regras determinam, por exemplo que a composição do caracter <B>'</B>&nbsp;com
a letra <B>e</B> gerará um <B>é</B>.</P>
<P>Ao contrário do console, no qual podemos definir as regras de composição no
próprio mapa de teclado, no X essas regras são colocadas no arquivo
<CODE>/usr/X11R6/lib/X11/locale/???/Compose</CODE>, onde ??? é a codificação
em uso (no nosso caso, iso8859-1).</P>
<P>Para facilitar o uso dos mapas para teclados que não têm o c-cedilhado, como o
US+ (veja adiante) é conveniente definirmos uma nova regra de composição,
permitindo que o <B>Ç</B> seja gerado pela seqüência <CODE>'C</CODE>. Se não fizermos
isso, seremos obrigados a digitar <CODE>&lt;dead_cedilla-C&gt;</CODE>, sedo o
<EM>dead_cedilla</EM> produzido pela combinação <CODE>AltGR-=</CODE>, o que não é nada
confortável. Além disso, no teclado americano somos obrigados a usar as aspas
duplas para gerar o trema.</P>
<P>O arquivo <CODE>Compose</CODE> fornecido foi feito procurando imitar ao máximo o
comportamento do console e possui as seguintes facilidades para geração de
caracteres:
<UL>
<LI>C-cedilha: tecla <CODE>Ç</CODE> ou seqüência
&lt;acento-agudo&gt;-C</LI>
<LI>Apóstrofo: tecla <CODE>'</CODE> ou seqüências
&lt;acento-agudo&gt;-&lt;acento-agudo&gt; e
&lt;acento-agudo&gt;-&lt;espaço&gt;</LI>
<LI>Acento grave: seqüências &lt;acento-grave&gt;-&lt;acento-grave&gt; e
&lt;acento-grave&gt;-&lt;espaço&gt;</LI>
<LI>Aspas: tecla <CODE>&#34;</CODE> ou seqüência &lt;trema&gt;-&lt;trema&gt;</LI>
<LI>Trema: seqüência &lt;trema&gt;-&lt;espaço&gt;</LI>
<LI>Til: seqüências &lt;til&gt;-&lt;espaço&gt; e &lt;til&gt;-&lt;til&gt;</LI>
<LI>Circumflexo: seqüências &lt;circumflexo&gt;-&lt;espaço&gt; e
&lt;circumflexo&gt;-&lt;circumflexo&gt;</LI>
</UL>
</P>
<P>Para incluirmos as novas regras, basta aplicar uma alteração à definição
original. O arquivo <CODE>Compose.patch</CODE> pode ser obtido via WWW na página do
Portuguese HOWTO. Para aplicar a atualização, copie-o para o diretório
<CODE>/usr/X11R6/lib/X11/locale/iso8859-1/</CODE>, faça uma cópia de reserva do
<CODE>Compose</CODE> original e invoque o utilitário <EM>patch</EM>:
<PRE>
    cp -p Compose Compose.backup
    patch &lt; Compose.patch
</PRE>
</P>
<P>Caso você prefira não aplicar o ``patch'', um arquivo <CODE>Compose</CODE> pronto
também é fornecido. Lembre-se de fazer cópia do original <B>antes</B> de
substituí-lo!</P>
<H2><A NAME="SEC:LOCALE"></A> <A NAME="ss5.4">5.4 Locale</A>
</H2>

<P>Para os usuários brasileiros, pode haver mais uma alteração a fazer no X.
Conforme vimos na seção&nbsp;
<A HREF="#SEC:LIBC">Biblioteca libc</A>, uma
variável de ambiente (LANG ou LC_ALL) configura o suporte internacional
existente na biblioteca de funções padrão do sistema (<EM>libc</EM>). A biblioteca
de funções do X (<EM>Xlib</EM>) usa a variável LANG para identificar a língua em
uso mas até a revisão 6.3, na qual é baseado o XFree86, não era incluída a
combinação ``pt_BR'', correspondente a Português/Brasil. Como resultado, cada
vez que executarmos um aplicativo X com LC_ALL definido como ``pt_BR'' ele
emitirá a mensagem ``Warning: locale not supported by Xlib, locale set to C''.</P>
<P>Para incluir o local pt_BR no X11R6.3 basta alterar três arquivos existentes
no diretório <CODE>/usr/X11R6/lib/X11/locale</CODE>. Pegue o arquivo
<CODE>Xlocale.patch</CODE> via WWW na página do Portuguese HOWTO. Para aplicar a
atualização, copie-o para o diretório <CODE>/usr/X11R6/lib/X11/locale</CODE>,
faça uma cópia de reserva dos arquivos a serem alterados e invoque o
utilitário <EM>patch</EM>:
<PRE>
    cp -p compose.dir compose.dir.backup
    cp -p locale.alias locale.alias.backup
    cp -p locale.dir locale.dir.backup
    patch &lt; Xlocale.patch
</PRE>
</P>
<P>Caso você prefira não aplicar o ``patch'', arquivos prontos também são
fornecidos. Lembre-se de fazer cópias dos originais <B>antes</B> de
substituí-los!</P>
<P>Em setembro de 1998 o fix-2 da revisão 6.4 do X Window System incluiu
oficialmente o suporte ao local pt_BR. Infelizmente neste mesmo fix-2 foi
introduzida uma falha em uma das funções de tratamento de <EM>input contexts</EM>
da Xlib que provoca violações de acesso à memória. Uma das aplicações afetadas
é o processador de textos LyX. Uma correção provavelmente será incluída no
fix-4. O X11R6.4 deverá ser a base para a versão 4 do XFree86.</P>

<H2><A NAME="ss5.5">5.5 Geração de mapas com o XKeyCaps</A>
</H2>

<P>O programa XKeyCaps, criado por 
<A HREF="http://www.jwz.org/">Jamie Zawinski</A> é uma interface gráfica para o <CODE>xmodmap</CODE>, que mostra na tela o
desenho de um teclado e permite modificar interativamente os símbolos gerados
por cada tecla e gerar automaticamente o arquivo <CODE>.Xmodmap</CODE> correspondente.</P>
<P>Ele pode ser obtido via WWW em 
<A HREF="http://www.jwz.org/xkeycaps/">http://www.jwz.org/xkeycaps/</A> e, a
partir da versão 2.43, já incoropra também suporte para o desenho brasileiro
(ABNT2), uma contribuição de Andre Gerhard.</P>

<H2><A NAME="SEC:CONTOR-X"></A> <A NAME="ss5.6">5.6 Contornando os limites do X</A>
</H2>

<P>Conforme foi explicado na seção 
<A HREF="#SEC:DIFXC">Modo texto versus Sistema de Janelas X</A>, o tratamento de acentos deve ser feito pela aplicação,
mas ainda há muitos programas que não levam isto em consideração, tais como
Netscape Navigator/Communicator e Nedit. Como não é possível modificar muitos
deles, é preciso encontrar outro tipo de solução.</P>

<H3>Alteração da biblioteca Xlib</H3>

<P>Linux, assim como a maioria dos sistemas operacionais modernos, usa um
sistema de vínculo de programas a bibliotecas de funções chamado ``ligação
dinâmica'' (<EM>dynamic binding</EM>). Deste modo, podemos modificar o
comportamento de um programa alterando uma dessas bibliotecas. Maiores
informações sobre este tema pode ser obtida nos manuais do Linux com os
comandos
<PRE>
    man ld.so
    man ldconfig
    man ldd
    man dlopen
</PRE>

Thomas Quinot criou uma alteração para a biblioteca de funções do X
(<EM>Xlib</EM>) introduzindo o tratamento de acentos na função <B>XLookupString</B>,
Tudo que se tem a fazer é substituir o arquivo contendo esta biblioteca por
outro, que pode ser obtido via internet no endereço</P>
<P>
<BLOCKQUOTE>
<A HREF="http://web.fdn.fr/~tquinot/dead-keys.en.html">http://web.fdn.fr/~tquinot/dead-keys.en.html</A></BLOCKQUOTE>
</P>
<P>Existem duas versões do arquivo, uma para sistemas onde as bibliotecas do X
suportam o uso seguro de <EM>threads</EM> (Debian 2.x, Red Hat 5.x, etc.) e outra
para os sistemas que não possuem tal atributo (Slackware, Caldera 1.x). Se
você não sabe o que são threads não se preocupe com isso, mas saiba que eles
permitem criar um programa capaz de se dividir em sub-processos que rodam
concorrentemente em um computador. Para analisar sua <EM>Xlib</EM> rode o seguinte
comando:</P>
<P>
<BLOCKQUOTE>
nm --dynamic /usr/X11R6/lib/libXext.so.6|grep _Xglobal_lock
</BLOCKQUOTE>
</P>
<P>Se aparecer ``<CODE>U _Xglobal_lock</CODE>'' seu sistema suporta threads e o arquivo
a obter é <CODE>libX11-XF3.3.1-TS.tar.gz</CODE>. Se não aparecer, seu sistema não
suporta threads e o arquivo a obter é <CODE>libX11-XF3.3.1.tar.gz</CODE>. Tendo
obtido o arquivo, copie-o para um diretório temporário e extraia seu conteúdo.
Mova o arquivo <CODE>/usr/X11R6/libX11.so.6.1</CODE> para outro diretório,
para preservá-lo. Não é suficiente renomeá-lo! Remova-o para um diretório cujo
nome <B>não</B> esteja contido no arquivo <CODE>/etc/ld.so.conf</CODE>. Depois,
mova o novo arquivo para o lugar do antigo e rode o programa <EM>ldconfig</EM>
(isto deve ser feito pelo usuário <B>root</B>):
<PRE>
    cp libX11-XF3.3.1-TS.tar.gz /tmp
    cd /tmp
    tar xzf libX11-XF3.3.1-TS.tar.gz
    mkdir /usr/X11R6/oldlib
    mv /usr/X11R6/lib/libX11.so.6.1 /usr/X11R6/oldlib
    mv libX11.so.6.1 /usr/X11R6/lib
    chown root:root /usr/X11R6/lib/libX11.so.6.1
    chmod 755 /usr/X11R6/lib/libX11.so.6.1
    /sbin/ldconfig
</PRE>
</P>
<P>É aconselhável que a operação seja realizada quando nenhuma aplicação X
estiver rodando. A seguir, edite o arquivo de configuração do servidor X,
chamado <CODE>XF86Config</CODE>. Este arquivo fica no diretório <CODE>/etc</CODE>
(Slackware) ou <CODE>/etc/X11</CODE> (Debian, Red Hat). Procure a seção
``Keyboard'' e inclua a opção ``XkbDisable'', conforme mostrado a seguir:
<PRE>
    Section "Keyboard"
       Protocol        "Standard"
       XkbDisable
    EndSection
</PRE>
</P>
<P>A opção XkbDisable inabilita a extensão XKEYBOARD do servidor X, o que neste
caso serve para sinalizar à função <B>XLookupString</B> que ela deve tratar os
acentos. Se quisermos voltar ao comportamento normal, basta retirar a opção
do <CODE>XF86Config</CODE>.</P>
<P>Configure o mapa de teclado do X conforme explicado nas seções anteriores
deste documento. Para testar o resultado, rode o programa <EM>xedit</EM> e digite
alguns caracteres acentuados.</P>

<H3>Alteração no kernel do Linux</H3>

<P>
<BLOCKQUOTE>
Esta seção é baseada em contribuição enviada por Bruno Barberi Gnecco
e na documentação do diacrd. Podem haver ainda alguns erros e se alguém os
detectar, por favor avise-me.
</BLOCKQUOTE>
</P>
<P>Seguindo a regra geral do mundo *nix, existe sempre mais de um modo se
resolver o mesmo problema. Conforme vimos anteriormente, existem dois modos de
operação do teclado, chamados <EM>raw</EM> e <EM>cooked</EM>. Estes modos de operação
podem ser mudados com o programa <B>kbd_mode</B>, integrante do pacote kbd, o
que não é recomendável fazer a não ser para restaurar o estado do console após
um desastre com o servidor X, por exemplo. No modo raw o kernel não processa
os diacríticos (acentos).</P>
<P>Cedric Adjih criou uma alteração para o kernel que permitia tratar os acentos
mesmo em modo raw, inicialmente voltada para o teclado de desenho francês.
Enéas Queiroz, André D. Balsa e Claudemir Todo Bom fizeram melhorias e o
adaptaram para os teclados internacional, português e ABNT. O tratemanto de
acentos é feito parte pelo kernel, parte por um processo que roda em
retaguarda (<EM>daemon</EM>) chamado <B>diacrd</B>, conforme descrito a seguir:
<UL>
<LI>Uma modificação no kernel faz que todos os dados lidos do teclado
sejam redirecionados para um dispositivo especial do sistema chamado
<CODE>/dev/rawkbd</CODE> quando o teclado estiver em modo <EM>raw</EM>.</LI>
<LI>Os dados que o kernel grava no <CODE>/dev/rawkbd</CODE> são lidos pelo
programa <CODE>diacrd</CODE>, que processa as seqüências acento-letra e reescreve
no <CODE>/dev/rawkbd</CODE> os caracteres acentuados na forma de códigos de
varredura (<EM>scancodes</EM>) que normalmente não existem no teclado.</LI>
<LI>O kernel lê no <CODE>/dev/rawkbd</CODE> os códigos gravados pelo
<CODE>diacrd</CODE> e os passa à aplicação, que no caso é o servidor X.</LI>
<LI>O servidor X mapeia os códigos de varredura para caracteres. Um mapa de
teclado especial permite então gerar as letras acentuadas.</LI>
</UL>
</P>
<P>O diacrd pode ser obtido via FTP anônimo no endereço
<BLOCKQUOTE>
<A HREF="ftp://metalab.unc.edu/pub/Linux/system/keyboards">ftp://metalab.unc.edu/pub/Linux/system/keyboards</A></BLOCKQUOTE>

Há versões diferentes, de acordo com o tipo de teclado e, pelo menos por
enquanto, não se pode reconfigurá-lo sem recompilar. Para fazer a
instalação, de acordo com o arquivo ``README'', deve-se fazer o seguinte (pelo
usuário <B>root</B>):
<UL>
<LI>Obtenha o arquivo -.tar.gz correspondente a seu teclado. Extraia seu
conteúdo, o que deverá criar um diretório chamado
<CODE>diacrd-&lt;versão&gt;</CODE>.</LI>
<LI>Edite o arquivo <CODE>diacrd.c</CODE> e remova os comentários desejados, de
acordo com suas preferências. Pode-se incluir capacidade de rodar o
programa <B>xmodmap</B> e ejetar o CD-ROM sob controle do pressionamento de
uma combinação de teclas.</LI>
<LI>Aplique a modificação no kernel. Para isto, execute o comando
``make&nbsp;patch-usr-src''.</LI>
<LI>Crie o dispositivo <CODE>/dev/rawkbd</CODE> executando o comando
``make&nbsp;rawkbd''.</LI>
<LI>Compile o diacrd e instale-o executando os comandos ``make'' e
``make&nbsp;install''.</LI>
<LI>Compile e instale o kernel, com os comandos
<PRE>
    cd /usr/src/linux
    make config
    make zlilo
</PRE>

Para maiores informações sobre compilação/instalação do kernel, leia o
Kernel-HOWTO, disponível via Internet nos repositórios do LDP mencionados
na seção 
<A HREF="#SEC:ONDE">Onde encontrar a versão mais atual</A>.</LI>
<LI>Dê um ``reboot'' no computador. Verifique se o suporte ao dispositivo
rawkbd foi instalado com sucesso com o comando
<PRE>
    dmesg | grep RAWKBD
</PRE>

Deve aparecer
<PRE>
    RAWKBD interface for diacriticals translation enabled...
</PRE>

e teste o dispositivo <CODE>/dev/rawkbd</CODE> com o comando
<PRE>
    printf "### TESTANDO ###" &gt;&gt; /dev/rawkbd
</PRE>

Veja na seção 
<A HREF="#CONF-CONS">Configuração do console</A> como
carregar um mapa com suporte à acentuação. O pacote diacrd vem com um
arquivo chamada <CODE>usintl.map</CODE>, que corresponde ao nosso
<CODE>us+.map</CODE>. Se seu teclado não for do tipo americano, use o
<CODE>pt.map</CODE> ou <CODE>abnt-2.map</CODE>.</LI>
<LI>Substitua o arquivo <CODE>/usr/X11R6/lib/X11/xkb/keycodes/xfree86</CODE>
pelo arquivo fornecido junto com o diacrd.</LI>
<LI>Se tudo correr bem, rode o programa <B>diacrd</B>. Depois ative o X e
use o <B>xmodmap</B> para carregar o mapa <CODE>xmodmap.diacrd</CODE>.</LI>
</UL>
</P>
<P>Se a geração de acentos funcionar, é preciso tornar permanentes as alterações
necessárias. Pode-se fazê-lo incluindo a carga do diacrd no arquivo
<CODE>/etc/rc.d/rc.local</CODE> (Slackware).
<BLOCKQUOTE>
Se algum dos leitores tiver criado um script de ativação do diacrd para a
distribuição Debian ou Red Hat, por favor envie-o para que seja incluído
aqui.
</BLOCKQUOTE>

Mais informações sobre o diacrd podem ser encontradas no ``Dead keys
Mini-HOWTO'' de Claudemir Todo Bom, disponível em 
<A HREF="http://linux.unicamp.br/docs/diversos/deadkeys.html">http://linux.unicamp.br/docs/diversos/deadkeys.html</A>.</P>

<H3>Comparação entre as duas soluções</H3>

<P>Em termos de resultados práticos, a Xlib modificada e o diacrd são
equivalentes. Há porém algumas diferenças entre as duas soluções que merecem
atenção.</P>
<P>Diacrd exige uma alteração no kernel do Linux para resolver um problema que o
kernel já resolve, o que não deixa de parecer um tanto redundante. A
dependência de um processo de usuário (o <EM>daemon</EM> kerneld) é uma
desvantagem, pois se esse programa deixar de funcionar perde-se o suporte à
acentuação no X. Trata-se de uma solução ainda em desenvolvimento e, segundo o
conteúdo da documentação que o acompanha, o ideal seria que todo o tratamento
fosse feito pelo kernel, sem depender de outro programa.</P>
<P>Até o momento da publicação deste HOWTO, o diacrd ainda não era compatível com
a versão 2.2 do kernel do Linux.</P>
<P>A solução via Xlib é, pelo menos em teoria, totalmente transparente às
aplicações e permite reconfiguração em tempo de execução, bastando alterar o
mapa de teclado do X e as regras de composição. Já o diacrd precisa ser
recompilado se quisermos trocar o tipo de teclado, mas é possível que novas
versões incorporem algum recurso de reconfiguração.</P>
<P>O diacrd só funciona no teclado do próprio computador. Se quisermos usar um
<EM>display</EM> remoto, seja um terminal X, seja um outro computador, não teremos
suporte à acentuação. A troca da Xlib, por outro lado, enquadra-se plenamente
na filosofia do X de que o servidor provê <EM>mecanismo</EM>, deixando a cargo da
aplicação a definição de <EM>políticas</EM>. Exemplo da vantagem deste paradigma é
poder usar as técnicas descritas na seção 
<A HREF="#CONF-X">Configuração do X</A> em outros sistemas operativos e com terminais X.</P>
<P>A solução via Xlib parece-me mais ``limpa'' e é minha predileta, mas, como
sempre, fica a critério do usuário ou do administrador do sistema qual
alternativa escolher. De qualquer modo, sempre é bom lembrar qua ambas as
soluções são remendos. Considerando-se a rápida evolução que está a ocorrer no
campo do software livre, com o desenvolvimendo de ambientes de trabalho como
<A HREF="http://www.kde.org/">KDE</A>, 
<A HREF="http://www.gnome.org/">GNOME</A> e 
<A HREF="http://www.gnustep.org/">GNUStep</A>, podemos supor que em breve
nenhum desses remendos será mais necessário.</P>

<H2><A NAME="s6">6. Configuração dos vários programas </A></H2>


<H2><A NAME="ss6.1">6.1 Aplicativos</A>
</H2>

<P>A maioria das aplicações que rodam no Unix usa algum tipo de arquivo de
configuração que o usuário coloca em seu diretório de trabalho (home) e
cujo nome normalmente é <CODE>.alguma-coisarc</CODE>. Tanto quanto possível,
tentei evitar que isso fosse necessário, pois além de dar mais trabalho ao
usuário (e ao administrador da rede ;-) pode dificultar um pouco as
coisas. Por exemplo, aqui no CPMet temos o diretório <EM>home</EM>
compartilhado entre um servidor Alpha rodando DEC UNIX com os PCs rodando
Linux via NFS (até a maior parte do Linux está instalada no Alpha, os
PCs só têm a partição raiz e uma área de swap). Os arquivos podem
necessitar algum ajuste dependendo da plataforma e nem todos os programas
possuem flexibilidade bastante para isso.</P>
<P>Uma opção que muitos programas também oferecem é especificar em uma
variável de ambiente o nome do arquivo de configuração ou o uso de
arquivos padrão que normalmente ficam em um diretório
<CODE>/usr/lib/alguma-coisa</CODE> ou <CODE>/etc/alguma-coisa</CODE>. </P>

<H3>Bash (biblioteca GNU readline)</H3>

<P>Os programas que utilizam a biblioteca GNU readline para ler a linha
de comando procuram por um arquivo chamado <CODE>.inputrc</CODE> no diretório ``HOME''
do usuário caso não exista uma variável de ambiente <CODE>INPUTRC</CODE> contendo o
caminho para um arquivo de configuração.</P>
<P>Coloque uma linha no seu arquivo <CODE>/etc/profile</CODE> contendo
<PRE>
    INPUTRC="/etc/inputrc"
    export INPUTRC
</PRE>

e crie um arquivo /etc/inputrc contendo
<PRE>
    set meta-flag on
    set convert-meta off
    set output-meta on
</PRE>

Outra alternativa é criar um arquivo <CODE>.inputrc</CODE> no diretório <EM>home</EM>
do usuário com o conteúdo acima, mas é muito difícil manter atualizados
os arquivos de todos os usuários, principalmente quando eles são muitos.
Um <CODE>inputrc</CODE> mais completo pode ser obtido via WWW na página do
Portuguese HOWTO. Ele contém opções para vários tipos de terminal e permite
usar as teclas de movimento de cursor para percorrer o histórico de
comandos (setas para cima e para baixo); ir para o primeiro e para o último
comandos do histórico (teclas PageUp e PageDown); posicionar o cursor na linha
(setas para a esquerda e direita) e posicionar o cursor no início e no fim da
linha (teclas Home e End).</P>
<P>Para maiores informações leia os manuais do <B>bash</B> e da biblioteca
<B>readline</B> com os comandos
<PRE>
    man bash
    man readline
</PRE>
</P>

<H3>Emacs</H3>

<P>O pai de todos os editores pode ser configurado criando-se um arquivo
chamado <CODE>.emacs</CODE> no diretório do usuário, contendo as seguintes linhas: 
<PRE>
    (set-input-mode nil nil 1)
    (standard-display-european t)
    (require 'iso-syntax)
</PRE>
</P>
<P>Para tornar esta configuração global, na distribuição Slackware coloque os
comandos no arquivo <CODE>/usr/lib/emacs/site-lisp/site-start.el</CODE>. Na
distribuição Debian o emacs executa todos os scripts contidos no diretório
<CODE>/etc/emacs/site-start.d</CODE> ao ser carregado. Tudo que se tem a fazer
é colocar esses comandos em um arquivo chamado, por exemplo,
<CODE>01portugues-emacs.el</CODE>.</P>
<P>Se o estimado leitor, assim como eu, não se agrada do tratamento dado pelo
Emacs às teclas de <EM>Delete</EM>, <EM>Home</EM> e <EM>End</EM>, aproveite a oportunidade
e acrescente ao mesmo arquivo o seguinte:
<PRE>
    (global-unset-key [backspace] )
    (global-set-key [backspace] 'delete-backward-char)
    (global-unset-key [delete] )
    (global-set-key [delete] 'delete-char)
    (define-key global-map [home] 'beginning-of-line)
    (define-key global-map [C-home] 'beginning-of-buffer)
    (define-key global-map [end] 'end-of-line)
    (define-key global-map [C-end] 'end-of-buffer)
</PRE>
</P>
<P>Arquivos de configuração prontos podem ser obtidos via WWW na página do
Portuguese HOWTO. Para Slackware, há um <CODE>site-start-emacs.el</CODE>, que deve
ser copiado para o diretório <CODE>/usr/lib/emacs/site-lisp</CODE> com o nome
de <CODE>site-start.el</CODE>. Para Debian, há um <CODE>01portugues-emacs.el</CODE> que
deve ser copiado para o diretório <CODE>/etc/emacs/site-start.d</CODE>.</P>
<P>Certifique-se de estar usando a versão 24-out-1998 ou mais recente do arquivo
de mapa de teclado para o X, pois ela possui uma correção no tratamento das
teclas modificadoras Alt e Meta, que são muito usadas pelo Emacs.</P>

<H3>flex</H3>

<P>Especifique a opção <B>-8</B> se o <EM>parser</EM> a gerar necessitar de ler
dados de 8 bit. </P>

<H3>Fortune</H3>

<P>Fortune é aquele programa que toda vez que é invocado apresenta uma
pequena mensagem, geralmente bem humorada. Ele é inspirado nos biscoitos
da fortuna chineses (em inglês <EM>fortune cookies</EM>, daí o nome).
Eis algumas mensagens típicas:
<PRE>
    dROGA!!oNDE ESTA O cAPSLOCK??

    Mouse não encontrado, bater no gato? (S/N)

    Que fio é ess&lt;=V++088.../NO CARRIER

    Quem ri por último está conectado a 2400Bit/s.
</PRE>

Tudo que o programa faz é escolher aleatoriamente uma mensagem em um
repositório mantido no diretório <CODE>/usr/games/fortunes</CODE> (Slackware)
ou <CODE>/usr/share/games/fortunes</CODE> (Debian). Neste diretório existem
diversos arquivos com as ``fortunas'' e um arquivo índice para cada um deles,
que possui a extensão <CODE>.dat</CODE>. O formato dos arquivos é muito simples:
cada fortuna é composta de uma série de linhas de texto. As fortunas são
separadas umas das outras por linhas contendo apenas um caracter <B>%</B>. Veja
o trecho a seguir:
<PRE>
    O que são quatro pontos na parede? Four migas. Ugh!
    %
    Errar é humano, botar a culpa no computador é mais humano ainda.
    %
    Aí ela me disse: Ou eu ou o modem! Sinto muitas saudades dela...
</PRE>

Tudo que temos a fazer é criar um arquivo com as fortunas chamado, digamos
<CODE>fortunes</CODE> com o formato descrito acima. Depois basta usar o programa
<CODE>strfile</CODE> para gerar o índice:
<PRE>
    strfile fortunes
</PRE>

e um arquivo chamado <CODE>fortunes.dat</CODE> será criado. Claro que se quisermos
que o fortune mostre apenas mensagens em Português, teremos que remover os
arquivos existentes no diretório original. Sugiro simplesmente renomeá-lo para
<CODE>fortunes-en</CODE> (de <EM>En</EM>glish) e criar outro vazio.  Eu coletei algumas
fortunas e as coloquei no arquivo <CODE>fortunes-pt.tar.gz</CODE> que pode ser
obtido via WWW na página do Portuguese HOWTO. Não esqueça de colocar no seu
/etc/profile algumas linhas contendo uma chamada ao fortune, por exemplo
<PRE>
    if [ -x /usr/games/fortune -a ! -e $HOME/.hushlogin ]; then
       echo
       /usr/games/fortune
       echo
    fi
</PRE>

Uma última informação: se o nome de um arquivo termina com o sufixo
<CODE>-o</CODE> o fortune só o consulta se for chamado com a opção
<CODE>-o</CODE>. Esses arquivos são os que contém mensagens cujo conteúdo pode
ser considerado ofensivo por algumas pessoas, tais como
<PRE>
    Só não mando a sogra pro inferno, com pena do Diabo.
</PRE>

Claro que existem coisas muito mais ofensivas por aí, mas este é um
Linux HOWTO e não queremos realmente ofender ninguém, certo?</P>

<H3>Ispell</H3>

<P>Dicionários para o Português de Portugal podem ser obtidos via WWW
na página do <EM>Projecto Natura</EM> em
<A HREF="http://www.di.uminho.pt/~jj/pln/pln.html">http://www.di.uminho.pt/~jj/pln/pln.html</A>. Para o Brasil, há
uma versão compilada pelo Ueda:
<A HREF="http://www.ime.usp.br/~ueda/">http://www.ime.usp.br/~ueda/</A>.</P>
<P>
<BLOCKQUOTE>
Eu gostaria de poder
colocar maiores informações, mas ainda não tenho conhecimento suficiente
sobre o Ispell e não posso ensinar o que não sei. Preciso de ajuda
aqui.
</BLOCKQUOTE>
</P>

<H3>JDK (inclui ICQJava)</H3>

<P>
<BLOCKQUOTE>
Esta informação é baseada em uma mensagem da qual guardei o conteúdo mas não o
remetente. Peço desculpas e espero que perdoe a falha. Não testei pessoalmente
a informação e peço que me escrevam confirmando tanto a correção quanto, se
possível, a identidade do autor.
</BLOCKQUOTE>
</P>
<P>O JDK utiliza fontes padrão que não suportam acentos. Isto quer dizer que
letras com acentos são ignoradas e, geralmente, confundem o resto do texto.
Resolver isto é extremamente fácil:
<UL>
<LI>entre no diretório <CODE>jdk1.1.5/lib</CODE> (no meu caso,
<CODE>/jdk1.1.5/lib</CODE>);</LI>
<LI>copie o arquivo <CODE>font.properties.hu</CODE> sobrescrevendo o
<CODE>font.properties</CODE> atual (lembre-se de fazer backups!);</LI>
<LI>entre no jdk e divirta-se! Fazendo isto, seu ICQ e todos os
aplicativos que usem o jdk estarão aptos a lerem acentos! (fácil, não?)</LI>
</UL>
</P>

<H3>Joe</H3>

<P>Invoque o joe com a opção <CODE>-asis</CODE> na linha de comando ou altere os
arquivos de configuração para ativar tal opção. Na Slackware eles estão no
diretório <CODE>/usr/lib/joe</CODE>. Tudo que se tem a fazer é remover o
espaço em branco existente no início de cada linha. Outra alternativa é
acrescentar a seguinte linha ao arquivo <CODE>/etc/profile</CODE>:
<PRE>
    alias joe='joe -asis'
</PRE>
</P>
<P>Joe pode emular os editores Pico, emacs e WordStar. Um arquivo <EM>joerc</EM> está
disponível via WWW na página do Portuguese HOWTO, contendo configurações que
permitem usar as teclas <EM>Home</EM> e <EM>End</EM> para movimentar o cursor para o
início e fim da linha.</P>

<H3>Less</H3>

<P>Coloque as seguintes linhas no seu arquivo <CODE>/etc/profile</CODE>: 
<PRE>
    LESS="-MM -i"
    LESSCHARSET="latin1"
    LESSKEY="/etc/lesskey"
    LESSOPEN='|lesspipe.sh "%s"'
    export LESS LESSCHARSET LESSKEY LESSOPEN
</PRE>

LESSKEY informa o nome de um arquivo contendo uma tabela de seqüências de
caracteres geradas por cada tecla e as ações a serem tomadas pelo less.  Para
criar o arquivo <CODE>/etc/lesskey</CODE>, crie primeiro o arquivo
<CODE>/etc/lesskey.in</CODE> contendo as seguintes linhas: 
<PRE>
    # Termianl ANSI (console do Linux, XTerm, etc)
    \e[1~       goto-line
    \e[4~       goto-end
    \e[5~       back-screen
    \e[6~       forw-screen
    \e[7~       goto-line
    \e[8~       goto-end
    \e[A        back-line
    \e[B        forw-line
    # XTerm
    \eOH        goto-line
    \eOF        goto-end
    \e[H        goto-line
    \e[F        goto-end
    # Console Sun (testado com teclados Type 4/5)
    \e[214z     goto-line
    \e[220z     goto-end
    \e[216z     back-screen
    \e[222z     forw-screen
    # Arquivo seguinte/anterior
    :n  next-file
    :N  next-file
    :p  prev-file
</PRE>

Depois ``compile-o'' usando o comando
<PRE>
    # lesskey -o /etc/lesskey /etc/lesskey.in
</PRE>

Crie o arquivo <CODE>/usr/bin/lesspipe.sh</CODE> contendo
<PRE>
    #!/bin/sh
    # This is a preprocessor for 'less'.  It is used when this environment
    # variable is set:   LESSOPEN="|lesspipe.sh %s"

    case "$1" in
      *.rpm) rpm -qilp "$1" 2>/dev/null ;;
      *.tar) tar tvvf "$1" 2>/dev/null ;;
      *.tgz | *.tar.gz | *.taz | *.tar.Z | *.tar.z)
        tar tzvvf "$1" 2>/dev/null ;;
      *.tbz2 | *.tar.bz2)
        bzip2 -dc "$1" | tar tvvf - 2>/dev/null ;;
      *.Z) gzip -dc "$1"  2>/dev/null ;;
      *.z) gzip -dc "$1"  2>/dev/null ;;
      *.[1-9].gz | *.n.gz | *.man.gz)
        FILE=`file -Lz "$1" | cut -d ' ' -f 2`
        if [ "$FILE" = "troff" ]; then
          gzip -dc "$1" | groff -s -p -t -e -Tlatin1 -mandoc
        fi ;;
      *.gz) gzip -dc "$1"  2>/dev/null ;;
      *.zip) unzip -l "$1" 2>/dev/null ;;
      *.[1-9] | *.n | *.man)
        FILE=`file -L "$1" | cut -d ' ' -f 2`
        if [ "$FILE" = "troff" ]; then
          groff -s -p -t -e -Tlatin1 -mandoc "$1"
        fi ;;
    esac
</PRE>

Não esqueça de torná-lo executável:
<PRE>
    chmod 755 /usr/bin/lesspipe.sh
</PRE>
</P>
<P>Na distribuição Debian já existe um script <CODE>/usr/bin/lesspipe</CODE>
(note a ausência da extensão <CODE>.sh</CODE>). Para os curiosos a
respeito da referência a ``*.rpm'', embora na máquina em questão se use
Slackware, é possível ter o utilitário RPM instalado também, o que facilita
tomar ``emprestados'' pacotes do Red Hat, Caldera e S.u.S.E.. Existe um
<EM>RPM+Slackware Mini-HOWTO</EM> que explica como fazer isso.</P>

<H3>ls</H3>

<P>Acrescente a seguinte linha ao arquivo <CODE>/etc/profile</CODE> :
<PRE>
    alias ls="ls -N"
</PRE>

ou
<PRE>
    alias ls="ls -b"
</PRE>

Se a sua distribuição de Linux usa o GNU ls (todas as que eu conheço usam)
basta acrescentar ao arquivo <CODE>/etc/profile</CODE> ou <CODE>.profile</CODE> as
seguintes linhas:
<PRE>
    # -----------------------------------------
    # Set up the color-ls environment variables
    # -----------------------------------------
    if [   "$SHELL" = "/bin/bash" -o \
           "$SHELL" = "/bin/sh" ]; then
       eval `dircolors -b`
    elif [ "$SHELL" = "/bin/zsh" ]; then
       eval `dircolors -z`
    elif [ "$SHELL" = "/bin/ash" ]; then
       eval `dircolors -s`
    elif [ "$SHELL" = "/bin/ksh" -o \
           "$SHELL" = "/bin/pdksh" ]; then
       eval `dircolors -k`
    elif [ "$SHELL" = "/bin/csh" -o \
           "$SHELL" = "/bin/tcsh" ]; then
       eval `dircolors -c`
    else
       eval `dircolors -b`
    fi
</PRE>

Se o seu shell é o csh ou tcsh, acrescente a seguinte linha ao arquivo
<CODE>/etc/csh.login</CODE> ou <CODE>~/.login</CODE>:
<PRE>
    alias ls 'ls --color'
</PRE>
</P>

<H3><A NAME="SEC:LYX"></A> LyX</H3>

<P>Para aqueles que acham trabalhoso escrever documentos para o LaTeX usando um
simples editor de texto (e realmente é) LyX é uma excelente opção.  Este
programa cria uma interface gráfica através da qual editamos os documentos que
serão depois formatados pelo LaTeX. O ambiente é quase-WYSIWYG (What You See
Is What You Get - O que tu vês é o que tu obténs). LyX não roda apenas em
Linux, mas em qualquer Unix. Maiores informações podem ser obtidas em</P>
<P>
<BLOCKQUOTE>
<A HREF="http://www.lyx.org">http://www.lyx.org</A></BLOCKQUOTE>
</P>
<P>A partir da versão 1.0.1 do LyX já tem a interface com o usuário em Português,
traduzida por Pedro Kröger, que também está traduzindo os manuais, junto
com Roberto Mello. Estas traduções já fazem parte da
distribuição oficial do LyX.</P>
<P>Tendo o LyX instalado, é muito fácil criar documentos com acentuação em
Português. Seguindo as seguintes regras:</P>
<P>
<UL>
<LI>Se o teclado foi configurado para ter <EM>dead keys</EM> usando um dos
mapas aqui fornecidos, não é necessário fazer mais nada. Basta digitar o
texto normalmente usando as seqüências de acentuação. A única exceção é
o c-cedilha que não pode ser gerado usando a seqüência <CODE>'c</CODE>, pois o
LyX gera um c com acento. Temos que usar a seqüência Compose-vírgula-c.</LI>
<LI>Se o teclado <B>não</B> foi configurado para ter <EM>dead keys</EM> ainda
assim é possível acentuar no LyX. Selecione o <EM>menu</EM>
<CODE>Options/Keyboard</CODE>. Na caixa de diálogo ``Key Mappings'',
selecione no ítem <CODE>Language/Primary</CODE> a opção ``American''.
Com isto o LyX fará a composição dos caracteres acentuados usando regras
semelhantes às das <EM>dead keys</EM>.
<UL>
<LI>A vírgula será tratada como cedilha. Para obter um `Ç'digite
<CODE>,C</CODE> e para obter uma vírgula digite <CODE>,,</CODE>. Cuidado! A
seqüência <CODE>,</CODE>&lt;espaço&gt; gerará uma cedilha isolada e
não uma vírgula!</LI>
<LI><CODE>~ ^ ' e `</CODE> serão tratados como acentos. Vale a mesma
regra anterior: para obter apenas o acento, pressione a tecla duas
vezes consecutivas. </LI>
<LI><CODE>: ; . / ?</CODE> e <CODE>-</CODE> também serão tratados como
acentos. <CODE>?a</CODE> gerará um `&aring;' e assim por diante.</LI>
</UL>
</LI>
</UL>
</P>
<P>Para o LyX imprimir corretamente, é necessário que, ao criar um novo
documento, sejam selecionados a língua e a codificação de caracteres
adequadas. Crie um documento selecionando o <EM>menu</EM> <CODE>File/New</CODE>.
Depois selecione o <EM>menu</EM> <CODE>Layout/Document</CODE>. Na caixa de diálogo
``Document Layout'' selecione no ítem <CODE>Language</CODE> a opção ``brazil'' ou
``portuges'' (sem o <EM>u</EM> mesmo); no ítem <CODE>Encoding</CODE> selecione
``latin1''.</P>
<P>Veja a observação sobre o pacote <EM>algorithm</EM> na seção&nbsp;
<A HREF="#SEC:LATEX">TeX e LaTeX</A></P>
<P>Uma observação final sobre o LyX: a versão atual (1.0.x) utiliza a biblioteca
XForms para construir a interface com o usuário. Como essa biblioteca não tem
suporte para acentuação, não é possível digitar letras acentuadas nas caixas
de diálogo, somente no corpo do documento editado. Segundo os desenvolvedores,
nas novas versões do LyX será possível escolher o tipo de interface ao
compilar o programa, o que permitirá o uso de <EM>toolkits</EM> mais flexíveis. Já
existe uma versão de LyX portada para o toolkit Qt, usado no KDE, chamada
KLyX. Os autores são Matthias Ettrich -- autor original do LyX -- e Kalle
Dalheimer. Para maiores informações, consulte via WWW: 
<A HREF="http://www-pu.informatik.uni-tuebingen.de/users/ettrich/">http://www-pu.informatik.uni-tuebingen.de/users/ettrich/</A>.</P>

<H3><A NAME="SEC:MAN"></A> Man, groff, troff</H3>

<P>Pode-se usar a opção de linha de comando <CODE>-Tlatin1</CODE> para o groff,
mas é mais simples colocar uma linha no seu arquivo <CODE>/etc/profile</CODE>
contendo
<PRE>
    GROFF_TYPESETTER="latin1" 
    export GROFF_TYPESETTER
</PRE>

Para maiores informações leia o manual do groff com o comando
<PRE>
    man groff
</PRE>
</P>
<P>No Linux, o comando <EM>man</EM> usa o <EM>groff</EM> para formatar os manuais e deve
ser configurado para usar o conjunto Latin 1, ou não será possível formatar
satisfatoriamente manuais que contenham caracteres não pertencentes ao
conjunto ASCII, como é o caso do ``man iso_8859_1''. Na distribuição
Slackware, é preciso editar o arquivo <CODE>/usr/lib/man.config</CODE> e
alterar as definições NROFF e NEQN, trocando a opção ``-Tascii'' para
``-Tlatin1'':
<PRE>
    NROFF           /usr/bin/groff -Tlatin1 -mandoc
    NEQN            /usr/bin/geqn -Tlatin1
</PRE>

ou, se usarmos a variável de ambiente GROFF_TYPESETTER, podemos simplesmente
eliminar a opção -Tascii. Na distribuição Debian não é necessário fazer
nenhuma configuração para o man, bastando configurar GROFF_TYPESETTER e na
Red Hat (incluindo Conectiva) o arquivo é <CODE>/etc/man.config</CODE></P>
<P>Groff também pode ser configurado para fazer a separação silábica em
português, o que é muito útil se tivermos páginas de manual em Português. Isto
é bastante simples, porque quando James Clarck pôs suporte a hifenização no
groff ele usou o mesmo algoritmo de hifenização do TeX. Para ter hifenização
em português, basta copiar o arquivo de regras do TeX e fazer o <CODE>groff</CODE>
usá-lo. O arquivo <CODE>hyphen.pt</CODE> pode ser obtido junto com os demais na página
do HOWTO. Trata-se do arquivo <CODE>pt8hyph.tex</CODE> (ver seção 
<A HREF="#SEC:LATEX">TeX e LaTeX</A>) ao qual foi adicionado apenas um comentário.</P>
<P>Ele deve ser copiado para o diretório
<CODE>/usr/share/groff/tmac/</CODE> ou <CODE>/usr/lib/groff/tmac/</CODE>,
dependendo da distribuição. É conveniente criar um ``link'' simbólico para
<CODE>hyphen.br</CODE>. Para usar esse arquivo, basta colocar no início do seu
documento troff/groff as linhas a seguir:
<PRE>
    .if \n(.g \{\
    .hla pt
    .hpf hyphen.pt
    .\}
</PRE>

O <CODE>.if</CODE> não é necessário para a acentuação, mas ele testa se o
processador usado é o groff. Deste modo pode-se usar o mesmo documento em
outros UNIX nos quais se use o troff normal sem que ele gere mensagens de erro
sobre comandos desconhecidos.</P>

<H3>Midnight Comander (mc)</H3>

<P>No menu <CODE>Options</CODE> sub-menu <CODE>Display bits...</CODE> ligue a opção
``Full 8 bits'' ou ``ISO 8859-1''. Na versão 3.2.11 isso permite
que sejam mostrados nomes de arquivos contendo caracteres acentuados, mas
não foi possível digitar tais caracteres na linha de comando ou nas caixas
de diálogo.</P>

<H3>Minicom</H3>

<P>Coloque uma linha no seu arquivo <CODE>/etc/profile</CODE> contendo
<PRE>
    MINICOM="-m -c on" 
    export MINICOM
</PRE>

Isso permitirá usar a tecla Alt para ativar os comandos (exatamente como o
Telix) e também usar cores. Para maiores informações, leia o manual do
Minicom usando o comando
<PRE>
    man minicom
</PRE>

Mais uma dica sobre o Minicom: para fazê-lo usar usar corretamante a tecla
<EM>Meta</EM> para ativação dos comandos rodando dentro de um <EM>xterm</EM>, deve-se
invocá-lo com a opção ``-m'' e passar a opção ``-xrm "*eightBitInput: false"''
para o xterm. Se usarmos o <EM>rxvt</EM> então o minicom deve ser chamado com a
opção ``-m'' e a tecla de ativação dos comandos será <EM>Alt</EM>. Fiz uma
adaptação no script <CODE>xminicom</CODE> que pode ser obtido via WWW na página do
Portuguese HOWTO.</P>
<P>Segundo Arnaldo Carvalho de Melo, as versões mais recentes do Minicom suportam
internacionalização. Suporte para o Português foi acrescentado pelo pessoal da
Conectiva. O código fonte pode ser obtido na página do Jukka (atual mantenedor
do Minicom) em
<BLOCKQUOTE>
<A HREF="http://www.clinet.fi/~walker/minicom.html">http://www.clinet.fi/~walker/minicom.html</A></BLOCKQUOTE>
</P>

<H3>Netscape Communicator</H3>

<P>O Communicator, assim como muitas aplicações que utilizam <EM>toolkits</EM>
baseados no X Toolkit (Xt), permite que se modifiquem muitas de suas
características por meio de arquivos de configuração (X Resources). No caso
específico do Communicator, pode-se criar um arquivo chamado <CODE>Netscape</CODE>
no diretório <CODE>/usr/X11R6/lib/X11/app-defaults</CODE> contendo estas
opções.</P>
<P>Na distribuição brasileira Conectiva, o pacote do Communicator vem com um
arquivo <CODE>/usr/lib/netscape/i18n/Netscape.ad.pt_BR</CODE> e um script
<CODE>/usr/bin/netscape</CODE> que executa o Communicator fazendo-o ler este
arquivo. Uma cópia do <CODE>Netscape.ad.pt_BR</CODE> pode ser obtida na página
oficial do Portuguese-HOWTO. Para usá-lo, simplesmente copie-o para
<CODE>/usr/X11R6/lib/X11/app-defaults/Netscape</CODE>, se sua distribuição não
o possuir, mas fique atento que seu uso pode criar problemas com novas versões
do programa.</P>
<P>Maiores informações sobre ``X Resources'' podem ser obtidas em [GET94],
[McC94] e no manual do programa <CODE>xrdb</CODE>, com o comando</P>
<P>
<PRE>
    man xrdb
</PRE>
</P>

<H3>nn</H3>

<P>
<BLOCKQUOTE>
Alô, alô, alguém usa nn? Informação mais atualizada será bem recebida.
</BLOCKQUOTE>

Acrescente a seguinte linha ao arquivo <CODE>~/.nn/init</CODE>:
<PRE>
    set data-bits 8
</PRE>
</P>

<H3>Pine e Pico</H3>

<P>Para o Pine utilizar o conjunto de caracteres Latin 1, coloque uma linha
no arquivo .pinerc, no diretório do usuário, contendo
<PRE>
    character-set=ISO-8859-1
</PRE>

ou crie um arquivo geral de configuração contendo tal linha. Esse arquivo
normalmente é <CODE>/usr/local/lib/pine.conf</CODE> ou
<CODE>/usr/lib/pine.conf</CODE></P>
<P>A configuração também pode ser feita usando o próprio programa. No <EM>menu</EM>
de entrada selecione as opções Setup/Configuration. Vá até o ítem
``character-set'' e preencha-o com ``ISO-8859-1''. Para maiores informações
leia o manual do pine com o comando
<PRE>
    man pine
</PRE>
</P>

<H3>tcsh</H3>

<P>Nenhuma medida especial é necessária se for feita a correta configuração das
variáveis de ambiente ``LANG'' e ``LC_ALL'', conforme mostrado mostrado na
seção&nbsp;
<A HREF="#SEC:LIBC">Biblioteca libc</A>.</P>
<P>Tcsh tem suporte a internacionalização e na distribuição Debian há um pacote
chamado tcsh-i18n com suporte para French, German, Greek and Spanish.</P>

<H3><A NAME="SEC:LATEX"></A> TeX e LaTeX</H3>

<P>
<BLOCKQUOTE>
Esta seção foi escrita com ajuda de Klaus Steding-Jessen.
</BLOCKQUOTE>
</P>

<H3>O pacote Babel</H3>

<P>O pacote <EM>Babel</EM>, criado por Johannes Braams provê suporte a um grande
número de idiomas para o LaTeX. De acordo com o idioma selecionado ele define
muitas coisa como, por exemplo, os títulos dos capítulos (Chapter, Capítulo,
Kapitel) e o título das tabelas (Tabela, Table, Tabelle). Para usar o pacote,
basta incluir no preâmbulo de seu documento LaTeX o comando</P>
<P>
<PRE>
    \usepackage[portuges]{babel}

    ou

    \usepackage[brazil]{babel}
</PRE>
</P>
<P>Há diferenças sutis entre o Portugues do Brasil e o de Portugal, tais como
as normas para escrita de datas e nomes de meses com a primeira letra
maiúscula ou minúscula.</P>
<P>Pode-se misturar mais de um idioma no mesmo documento. Para Alemão e
Português ficaria:</P>
<P>
<PRE>
    \usepackage[german,brazil]{babel}
</PRE>
</P>
<P>Nesse caso a última opção (brazil) fica sendo o idioma corrente. Para
mudar ao longo do texto, entre um e outro, use:</P>
<P>
<PRE>
    \selectlanguage{german}

    [...]

    \selectlanguage{brazil}
</PRE>
</P>
<P>Isto é muito útil também quando queremos que uma palavra não seja separada.
Basta definir um novo idioma e usá-lo nas palavras que não podem ser
separadas. Coloque no preâmbulo:</P>
<P>
<PRE>
    \newlanguage\nohyphen
    \newcommand\nh[1]{{\language\nohyphen #1}}
</PRE>
</P>
<P>E use com \nh{FOO BAR}. É melhor do que usar <CODE>\mbox</CODE>, que
impede quebra no espaco em <CODE>\mbox{FOO BAR}</CODE>.</P>

<H3>Separação silábica</H3>

<P>Normalmente apenas os suportes a separação silábica para Inglês e Alemão são
carregados.  Para configurar hifenização no <B>teTeX</B>, execute o utilitário
<EM>texconfig</EM>, que na distribuição Slackware deve ser o programa
<CODE>/usr/lib/teTeX/bin/texconfig</CODE> e na Debian é
<CODE>/usr/bin/texconfig</CODE>.  Digite o comando</P>
<P>
<PRE>
    texconfig hyphen
</PRE>
</P>
<P>O editor usado normalmente é o <B>vi</B>. Se o seu editor predileto for
outro, crie uma variável de ambiente chamada <B>EDITOR</B> contendo o nome desse
programa, como no exemplo a seguir:</P>
<P>
<PRE>
    EDITOR=pico
    export EDITOR
</PRE>
</P>
<P>O editor de texto será carregado, para editar o arquivo
<CODE>language.dat</CODE>. Procure uma linha que começa por <B>%portuges</B> e
remova o <B>%</B>. Grave o arquivo e saia do editor. O texconfig atualizará
diversos arquivos de configuração (não se assuste com a quantidade de
mensagens que aparecem na tela).</P>
<P>Se o nome da tabela de hifenização que consta no seu <CODE>language.dat</CODE>
é <CODE>pthyph.tex</CODE> então provavelmente trata-se da versão 1.0, de
1987. A versão 1.2, de 1996, pode ser obtida via FTP anônimo em
<BLOCKQUOTE>
<A HREF="ftp://ftp.tex.ac.uk/tex-archive/language/portuguese/pt8hyph.tex">ftp://ftp.tex.ac.uk/tex-archive/language/portuguese/pt8hyph.tex</A></BLOCKQUOTE>

Copie-o para o mesmo diretório onde se encontra o <CODE>pthyph.tex</CODE>, que
dependendo de sua distribuição pode ser
<CODE>/usr/lib/texmf/tex/generic/hyphen</CODE>
<CODE>/usr/share/texmf/tex/generic/hyphen</CODE> ou
<CODE>/usr/lib/teTeX/texmf/tex/generic/hyphen</CODE>. Execute o comando
<CODE>texconfig~hash</CODE> e na mesma linha mencionada anteriormente insira um `8'
no nome do arquivo, de modo que fique <CODE>pt8hyph.tex</CODE>.</P>

<H3>Uso de Font Encoding T1</H3>

<P>Se o conjunto de caracteres (<EM>encoding</EM>) de uma fonte não provê acesso
direto a caracteres acentuados, (como é o caso do OT1, padrão do LaTeX) então
o TeX gera estes caracteres sobrepondo o caracter base mais o acento. O
algoritmo de hifenização, contudo, não hifeniza palavras formadas dessa forma.</P>
<P>Se uma fonte já provê acesso direto a caracteres acentuados, como as de
codificação T1, estes caracteres são usados diretamente sem prejuízo do
algoritmo de hifenização.  O uso de <EM>encoding</EM> T1 é fundamental para a
correta hifenização em Português.</P>
<P>Note que trata-se da mesma fonte, por falta a Computer Modern, apenas o que
muda é o seu <EM>encoding</EM>, isto é, a ordem/disponibilidade dos caracteres
dentro da mesma. Para selecionar estas fontes, inclua no preâmbulo do seu
documento o comando</P>
<P>
<PRE>
    \usepackage[T1]{fontenc}
</PRE>
</P>
<P>O antigo pacote <CODE>t1enc</CODE> não deve mais ser usado e existe hoje apenas por
questões de compatibilidade com documentos antigos. O <CODE>fontenc</CODE> é mais
atual, continua a ser mantido e é de uso mais geral, portanto preferível.</P>

<H3>Edição de documentos</H3>

<P>Normalmente a introdução de caracteres acentuados no texto exige o uso
de <EM>seqüências de escape</EM> bastante trabalhosas. Para gerar um ``ö''
deve-se digitar \"o. Com <EM>babel</EM> pode-se digitar apenas "o, o que não
deixa de ser inconveniente para ler o fonte do documento. Há um pacote chamado
<B>inputenc</B> que permite especificar a codificação em que estão os
caracteres de um documento. Lembre-se porém que se o seu documento for
enviado para outro usuário que não possua o <B>inputenc</B> ele poderá não
conseguir processá-lo, mas esse recurso já está disponível desde a
liberação do LaTeX2e em dezembro 1994. Todas as distribuições de Linux
atuais o incluem.</P>
<P>Sugestão: uma configuração do GNU Emacs para gerar caracteres
acentuados, própria para o uso com o pacote inputenc:</P>
<P>
<PRE>
    (add-hook 'LaTeX-mode-hook
              (lambda ()
                (standard-display-european 1)
                (load-library "iso-acc")
                (iso-accents-mode 1)
                (iso-accents-customize "portuguese")
                (auto-fill-mode 1)
                ))
</PRE>
</P>
<P>E outra que não requer o inputenc.  O uso da biblioteca `iso-cvt' faz a
transformação de ISO-8859-1 (no buffer do Emacs) para o padrão do LaTeX (no
arquivo).</P>
<P>
<PRE>
    (add-hook 'LaTeX-mode-hook
              (lambda ()
                (standard-display-european 1)
                (load-library "iso-cvt")
                (load-library "iso-acc")
                (iso-accents-mode 1)
                (iso-accents-customize "portuguese")
                (auto-fill-mode 1)
                ))
</PRE>
</P>
<P>Muitas vezes o usuario já possui muitos arquivos num formato de acento do
LaTeX e gostaria de passar tudo para o formato ISO, próprio para uso do pacote
inputenc. Uma boa opção para isto é usar o programa <CODE>recode</CODE>. Se você
possui arquivos .tex e deseja converte-lo para formato ISO-8859-1 pode usar:</P>
<P>
<PRE>
    recode -d LaTeX:l1 file.tex
</PRE>
</P>
<P>O código-fonte do GNU recode pode ser obtido via FTP anônimo em 
<A HREF="ftp://prep.ai.mit.edu/pub/gnu/recode/recode-3.4.tar.gz">ftp://prep.ai.mit.edu/pub/gnu/recode/recode-3.4.tar.gz</A> e em muitos
espelhos do GNU mundo afora. A distribuição Debian tem um pacote pronto e
outras também devem ter.</P>

<H3>Teste da configuração do LaTeX</H3>

<P>Para testar a nova configuração copie o seguinte trecho para um arquivo
chamado, digamos, <CODE>exemplo.tex</CODE>:</P>
<P>
<PRE>
    \documentclass[a4paper]{article}
    \usepackage[latin1]{inputenc}
    \usepackage[T1]{fontenc}
    \usepackage[portuges]{babel}
    %%
    %% ou \usepackage[brazil]{babel}
    %%

    \begin{document}
    \title{Linux Portuguese-HOWTO}
    \author{Carlos Augusto Moreira dos Santos}
    \date{\today}

    \maketitle

    \section{Introdução}

    Este documento pretende ser um guia de referência de configuração
    do \textbf{Linux} e seus programas, teclados e fontes de
    caracteres, permitindo sua internacionalização/utilização confortável
    por pessoas que falem a Língua Portuguesa.

    \end{document}
</PRE>
</P>
<P>Esse texto contém de propósito uma ``palavra'' bastante longa para forçar a
separação silábica. Ele está disponível via WWW no arquivo <CODE>exemplo.tex</CODE>
na página do Portuguese HOWTO. Para processá-lo, use o comando <CODE>latex</CODE>,
conforme mostrado a seguir:
<PRE>
    bash$ latex exemplo.tex
    This is TeX, Version 3.14159 (C version 6.1)
    (exemplo.tex
    LaTeX2e &lt;1996/06/01>
    Hyphenation patterns for english, german, portuges, loaded.
    (/usr/lib/teTeX/texmf/tex/latex/base/article.cls
    Document Class: article 1996/05/26 v1.3r Standard LaTeX document class
    (/usr/lib/teTeX/texmf/tex/latex/base/size10.clo))
    (/usr/lib/teTeX/texmf/tex/latex/base/inputenc.sty beta test version
    (/usr/lib/teTeX/texmf/tex/latex/base/latin1.def))
    (/usr/lib/teTeX/texmf/tex/latex/base/fontenc.sty
    (/usr/lib/teTeX/texmf/tex/latex/base/T1enc.def))
    (/usr/lib/teTeX/texmf/tex/generic/babel/babel.sty (portuges.ldf
    (/usr/lib/teTeX/texmf/tex/generic/babel/babel.def))) (exemplo.aux) [1]
    (exemplo.aux) )
    (see the transcript file for additional information)
    Output written on exemplo.dvi (1 page, 812 bytes).
    Transcript written on exemplo.log.
</PRE>

A mensagem ``Hyphenation patterns for english, german, <B>portuges</B>,
loaded.'' indica que a configuração foi bem sucedida. Se o seu computador
está rodando o X o documento formatado poderá ser visto com
o comando
<PRE>
    xdvi exemplo.dvi
</PRE>
</P>
<P>Observe que o ``<CODE>\today</CODE>'' gera a data corrente. No ``portugues'' seria
``17 de Julho de 1998'' mas no ``brazil'' seria ``17 de julho de 1998''.</P>

<H3>Problemas com alguns pacotes do teTeX</H3>

<P>Há um problema com o pacote <EM>algorithm</EM> do LaTeX, que não é suportado pelo
babel, fazendo com que a lista de algoritmos saia com o título ``List of
Algorithms'' e o título de cada um deles seja impresso como ``Algorithm #''.
Para evitar esse problema, coloque no preâmbulo de seu documento LaTeX, após o
comando ``<CODE>\usepackage{algorithm}</CODE>'' o seguinte:</P>
<P>
<PRE>
    \makeatletter
    \renewcommand{\ALG@name}}{Algoritmo}}
    \makeatother
    \renewcommand{\listalgorithmname}}{Lista de Algoritmos}}
</PRE>
</P>
<P>No teTeX 0.4 (versão 1.2h do portuges.ldf) o título do ambiente <EM>proof</EM>,
encontrado nas classes <EM>amsbook</EM>, <EM>amsart</EM>, etc., sai como ``Proof.''.
Para corrigir isso, coloque no preâmbulo de seu documento o comando</P>
<P>
<PRE>
    \renewcommand{\proofname}}{Demonstra\c{c}\~ao}
</PRE>
</P>
<P>mas o mais recomendável é que se atualize a versão do teTeX.</P>
<P>Usuários do LyX podem incluir esses comandos no preâmbulo do documento usando
o menu <CODE>Layout/LaTeX Preamble</CODE>. Pode-se resolver o problema
alterando o arquivo <CODE>portuges.ldf</CODE> que contém as definições necessárias
ao Português, mas esta solução não é portável, pois exigirá que tal arquivo
seja alterado em todas os computadores em que o documento deva ser processado.</P>
<P>A licença do Babel não me permite distribuir o <CODE>portuges.ldf</CODE> separado do
resto do pacote, mas para os interessados, coloquei à disposição na página do
HOWTO um arquivo chamado <CODE>portuges.ldf.patch</CODE> que criei para o meu teTeX
antigo (Slackware 3.4).  Para aplicar a atualização, copie-o para o diretório
<CODE>/usr/lib/teTeX/texmf/tex/generic/babel</CODE> (Slackware), faça uma
cópia de reserva do <CODE>portuges.ldf</CODE> original e invoque o utilitário
<CODE>patch</CODE>:</P>
<P>
<PRE>
    cp -p portuges.ldf portuges.ldf.backup
    patch &lt; portuges.ldf.patch
</PRE>
</P>
<P>Use o patch por sua conta e risco! Se você deixar o backup no diretório
original ele será incluído no arquivo <CODE>ls-R</CODE> da próxima vez que o
programa <EM>texhash</EM> for executado.  Isso não fará mal algum, mas pode-se
mover o backup para algum lugar seguro (eu uso <CODE>/usr/backup</CODE>).</P>

<H3>Lista TeX-BR</H3>

<P>Há uma lista de discussão brasileira de usuários de TeX/LaTeX, chamada TeX-BR,
que roda no servidor de listas da FURG. Para entrar da lista mande um mail
contendo apenas a palavra ``subscribe'' no corpo para &lt;
<A HREF="mailto:tex-br-request@listas.furg.br">tex-br-request@listas.furg.br</A>&gt;. Esta lista é administrada por Rafael
Rodrigues Obelheiro.</P>
<P>Há uma página na WWW em 
<A HREF="http://biquinho.furg.br/tex-br/">http://biquinho.furg.br/tex-br/</A> por meio
da qual se pode ler o histórico de mensagens. Também há referências para
muitos documentos sobre LaTeX, alguns em Português e outros em Inglês.</P>

<H3>LaTeX-demo</H3>

<P>Pode ser útil também um documento de exemplo para ter onde começar.  Pensando
nisso, Klaus Steding-Jessen preparou
um pequeno documento em Português com o objetivo de ser um guia ``by example''
para o usuário de LaTeX iniciante e intermediário, que pode ser obtido via WWW
em 
<A HREF="http://biquinho.furg.br/doc/LaTeX-demo/">http://biquinho.furg.br/doc/LaTeX-demo/</A>.</P>
<P>Klaus ecreveu também uma série três artigos destinados a ``descrever o sistema
LaTeX como uma alternativa mais eficiente aos processadores de texto WYSIWYG''
que podem ser lidos via WWW em 
<A HREF="http://biquinho.furg.br/tex-br/doc/artigo-1-jessen/">http://biquinho.furg.br/tex-br/doc/artigo-1-jessen/</A>.</P>


<H3>WordPerfect</H3>

<P>O Corel Wordperfect para Linux versão 8 suporta a acentuação por teclas
mortas. Não é necessário nenhum procedimento especial. Como um entusiasta de
software livre, entretanto, recomendo enfaticamente que se use o 
<A HREF="http://www.lyx.org/">LyX</A>, que já foi inclusive traduzido para
nossa língua, conforme mencionado na seção&nbsp;
<A HREF="#SEC:LYX">LyX</A>.</P>

<H3>Xemacs (antigo lucid emacs)</H3>

<P>
<BLOCKQUOTE>
Agradeço a colaboração de Judson Santos Santiago e Goedson Teixeira
Paixão que ajudaram a identificar os problemas com o Xemacs.
</BLOCKQUOTE>
</P>
<P>O 
<A HREF="http://www.xemacs.org/">Xemacs</A> já tem suporte à
acentuação direta no teclado usando ``dead keys'', mas há um erro na
configuração original que o impede de reconhecer o acento circunflexo.  Este
problema não ocorre se for usada a biblioteca <EM>Xlib</EM> aterada por Thomas
Quinot, mencionada na seção&nbsp;
<A HREF="#SEC:CONTOR-X">Contornando os limites do X</A>, mas mesmo que não a usemos, basta colocar os seguintes
comandos no seu arquivo de configuração <CODE>.emacs</CODE>:
<PRE>
    ;; Ajuste para fazer o acento circunflexo funcionar
    ;; Contribuição de Goedson Teixeira Paixao &lt;gopaixao@dcc.ufmg.br>
    (require 'x-compose)
    (define-key global-map 'dead-circumflex compose-circumflex-map)
</PRE>
</P>
<P>Na distribuição Debian 2.0 o Xemacs 20.4 executa todos os scripts contidos no
diretório <CODE>/etc/xemacs20/site-start.d</CODE> ao ser carregado. Tudo que
se tem a fazer é colocar esses comandos em um arquivo chamado, por exemplo,
<CODE>01portugues-xemacs.el</CODE>. Não é necessário instalar o <EM>xemacs20-mule</EM>,
que possui extensões para línguas que não usam o alfabeto romano. Os pacotes a
instalar são os seguintes:</P>
<P>
<UL>
<LI>xemacs20-bin</LI>
<LI>xemacs20-nomule</LI>
<LI>xemacs20-support</LI>
<LI>xemacs20-supportel</LI>
</UL>
</P>
<P>Se você instalou o Xemacs no Slackware ou outro Unix, à moda antiga (dowload,
compilação, instação), então o arquivo a alterar é o <CODE>site-start.el</CODE>, que
deve estar no diretório <CODE>/usr/lib/xemacs/site-lisp</CODE> ou
<CODE>/usr/local/lib/xemacs/site-lisp</CODE>, dependendo de sua instalação.</P>
<P>Observe que a partir da versão 20.3 o Xemacs usa uma variável especial para
controlar o comportamento da tecla ``Delete'', não existente nos outros emacs
chamada <B>delete-key-deletes-forward</B>. Para ativar este comportamento
coloque no seu arquivo <CODE>.emacs</CODE> uma linha contendo</P>
<P>
<PRE>
    (setq delete-key-deletes-forward t)
</PRE>
</P>
<P>Arquivos de configuração prontos podem ser obtidos via WWW na página do
Portuguese HOWTO. Para Slackware, há um <CODE>site-start-xemacs.el</CODE>, que deve
ser copiado para o diretório correto com o nome de <CODE>site-start.el</CODE>. Para
Debian, há um <CODE>01portugues-xemacs.el</CODE> que deve ser copiado para o
diretório <CODE>/etc/xemacs20/site-start.d</CODE>.</P>
<P>Certifique-se de estar usando a versão 24-out-1998 ou mais recente do arquivo
de 
<A HREF="#SEC:FICHEIROS">mapa de teclado</A> para o X, pois ela possui
uma correção no tratamento das teclas modificadoras Alt e Meta, que são muito
usadas pelo Xemacs.</P>


<H2><A NAME="ss6.2">6.2 Rede local e Internet</A>
</H2>


<H3>FTP (File Transfer Protocol)</H3>

<P>Existem dois modos de transferência de arquivos: <EM>binary</EM> e <EM>ASCII</EM>,
sendo este  utilizado para textos.  Deve-se tomar cuidado ao transferir um
arquivo, pois o modo de transfêrencia
<CODE>ASCII</CODE> remove o oitavo bit de cada caracter transmitido, o que terá como
conseqüência a perda de todos os caracteres acentuados. Desta forma é
aconselhado o envio de documentação em modo <CODE>binary</CODE> de forma a manter a
integridade da mesma.</P>
<P>Cuidado! Algumas versões mais antigas do pacote net-tools do Linux têm
um cliente FTP que não reconhece corretamente quando o servidor remoto
roda Unix. Deste modo ele não comutará o modo de transferência para
binário automaticamente. Além disso,
alguns servidores FTP também não fornecem a informação corretamente.
Certifique-se de digitar o comando <CODE>bin</CODE> antes de um <CODE>get</CODE> quando
quiser que a transferência seja binária!</P>

<H3>Correio eletrônico</H3>

<P>O mesmo tipo de restrições do FTP se aplica ao envio de documentos contendo
caracteres acentuados através de correio eletrônico. Embora isto não aconteça
em todos os sistemas em uso na internet, bastará que o correio enviado passe
no seu trajecto por um sistema que não suporte 8 bits de informação para que o
nosso documento seja deturpado. </P>
<P>Para que não hajam problemas, deve-se utilizar um programa de emeil, que
suporte o formato MIME (Multipurpose Internet Mail Extensions), formato
este que permite o envio de documentação em modo 8 bits.  Exemplos de
programas de correio eletrônico com suporte para MIME, são o Eudora e o
Pine. </P>
<P>Se o destinatário da mensagem não usa um agente com suporte para MIME,
existe a opção de codificar os documentos com o utilitário UUENCODE. Para
maiores informações a esse respeito, leia a documentação usando os
comandos</P>
<P>
<PRE>
    man uuencode
    man uudecode
</PRE>
</P>

<H2><A NAME="SEC:FICHEIROS"></A> <A NAME="s7">7. Ficheiros necessários</A></H2>

<P><B>Atenção!</B> Os mapas de teclado para o X fornecidos mapeiam a função das
teclas segundo a lista a seguir:
<UL>
<LI>Alt esquerdo: Alt</LI>
<LI>Alt direito: AltGr</LI>
<LI>Control esquerdo: Control</LI>
<LI>Control direito: Control</LI>
<LI>ScrollLock: ScrollLock</LI>
<LI>Janela esquerda: Meta</LI>
<LI>Janela direita: Compose</LI>
<LI>Menu: Menu</LI>
</UL>
</P>
<P>Se o seu teclado não possuir as teclas <EM>para Windows 95</EM> então pode ser
melhor restabelecer a distribuição padrão: edite o mapa e coloque um ponto de
exclamação no início das linhas que definem os <EM>keycodes</EM> 64, 113, 115, 116
e 117.</P>
<P>Foram elaborados mapas com suporte à acentuação para seis modelos de teclado,
tanto para uso no console quanto para o X. Eles podem ser obtidos via WWW em
um dos repositórios da página do Portuguese HOWTO:</P>
<P>
<UL>
<LI>
<A HREF="http://linusp.usp.br/~casantos/">http://linusp.usp.br/~casantos/</A></LI>
</UL>
</P>
<P>Ao instalar um dos mapas fornecidos, lembre-se de ler os comentários
contidos neles, pois há informações importantes sobre opções de configuração
e aproveitamento das teclas adicionais dos teclados padrão <EM>Windows&nbsp;95</EM>.
As instruções para instalação estão nas seções 
<A HREF="#CONF-CONS">Configuração do console</A> e 
<A HREF="#CONF-X">Configuração do X</A>.</P>
<P>
<DL>

<DT><B>O mapa US+ (us+.map e Xmodmap.us+)</B><DD>
<P>Mapas para os teclados que seguem o padrão americano. Como não existem teclas
especiais para gerar o c-cedilhado nem o trema, foi usado um pequeno truque: o
c-cedilhado é gerado pela seqüência <CODE>'C</CODE>.  No console pode-se fazê-lo com
a seqüência <CODE>AltGR-C</CODE>.  O trema é gerado pela tecla <CODE>&#34;</CODE>. Para
gerar as aspas duplas é necessário digitar a seqüência
<CODE>&#34;&lt;espaço&gt;</CODE> e no console pode-se usar <CODE>&#34;&#34;</CODE>;
opcionalmente pode-se usar <CODE>AltGR-&#34;</CODE>, o que não é uma solução muito
confortável, mas funciona...</P>
<P>Testados com teclados de várias marcas (e alguns sem marca :-).</P>

<DT><B>O mapa Portugal (pt.map e Xmodmap.pt)</B><DD>
<P>Mapas para teclados com desenho português. Esses teclados são os que possuem
uma tecla com os caracteres <B>«</B> e <B>»</B>. Não são muito confortáveis,
porque para gerar o símbolos <B>@ [ ] { }</B> e o trema é
necessário usar a tecla <B>Alt-GR</B>.</P>
<P>Testado com um teclado da marca Key Tronic.</P>

<DT><B>O mapa ABNT-2 (abnt-2.map e Xmodmap.abnt2)</B><DD>
<P>Os computadores vendidos no Brasil fabricados pela IBM, Compaq e Itautec,
entre outros, vêm com esses teclados. Eles também pode ser adquiridos avulsos
e são fabricados pela UIS e Keytec (não confundir com Key Tronic).  Este
desenho é o mais confortável de todos, pois tem a mesma distribuição dos
acentos encontrada nas máquinas de escrever.</P>
<P>Testado com teclados das marcas UIS e IBM.</P>

<DT><B>Sun Type 4 e Type 5 (Xmodmap.Sun4+ e Xmodmap.Sun5c+)</B><DD>
<P>Encontrados nas máquinas fabricadas pela Sun.  Estes mapas foram testados em
SPARCstations modelos 1, 4, IPC e Classic rodando SunOS 4.1, Solaris 2.5.1 e
Linux 2.0.33 (Red Hat 4.2). Como esses teclados não possuem o c-cedilhado, foi
usado o mesmo truque do mapa US+. Apenas o mapa para o X é fornecido.</P>

<DT><B>NCD+ (Xmodmap.NCD+)</B><DD>
<P>Este mapa é para o teclado modelo N107 e foi testado em terminais X modelo 16r
fabricados pela Network Computing Devices Inc.&nbsp;(NCD).  Embora a distribuição
de teclas seja idêntica à do Sun <EM>Type 4</EM>, os <EM>keycodes</EM> das teclas
são diferentes. Esses teclados também não possuem o c-cedilhado, por isso foi
usado o mesmo truque do mapa US+.  Apenas o mapa para o X é fornecido.</P>
</DL>
</P>
<P>A geração dos caracteres acentuados é feita de acordo com a tabela a seguir:</P>
<P>
<PRE>
    Para gerar              Digitar
    -------------------------------------------------
    ç                       'c ou compose-,-c
    á é í ó ú               'a 'e 'i 'o 'u
    à è ì ò ù               `a `e `i `o `u
    ã õ                     ~a ~o
    â ê î ô û               ^a ^e ^i ^o ^u
    ä ë ï ö ü               "a "e "i "o "u
    " (aspas)               "" ou AltGR-" no mapa US+
    ¨ (trema)               "-espaço
    ' (apóstrofo)           '' ou AltGR-' no mapa US+
    ` (grave)               `` ou AltGR-` no mapa US+
    ®                       compose-O-R
    ©                       compose-O-C
    -------------------------------------------------
</PRE>
</P>

<H2><A NAME="s8">8. Informações Adicionais</A></H2>

<H2><A NAME="ss8.1">8.1 Fontes de informação sobre Linux em Português</A>
</H2>

<P>
<DL>
<DT><B>Grupo de Investigação Linux</B><DD>
<P>Grupo de usuários de linux da Universidade do Minho, em Portugal que pode
ser visitado em 
<A HREF="http://gil.di.uminho.pt">http://gil.di.uminho.pt</A>.</P>
<DT><B>Grupo de Utilizadores de Linux do ISCTE</B><DD>
<P>Pode ser visitado em 
<A HREF="http://www.students.iscte.pt/~a12593/gul.html">http://www.students.iscte.pt/~a12593/gul.html</A>.</P>
<DT><B>Linux Brasil</B><DD>
<P>Servidor da Universidade Estadual de Campinas, Brasil, contendo
informações sobre Linux no Brasil, que absorveu o antigo projeto LDP-br.
Pode ser visitado em 
<A HREF="http://linux.unicamp.br">http://linux.unicamp.br</A>.</P>
<DT><B>Projeto LinUSP</B><DD>
<P>Desenvolvido na Universidade de São Paulo, Brasil, coordenado por Jorge L.
deLyra. Pode ser visitado em 
<A HREF="http://linusp.usp.br/">http://linusp.usp.br/</A>.</P>
</DL>
</P>

<H2><A NAME="ss8.2">8.2 Free Translation Project</A>
</H2>

<P>Programadores que quiserem desenvolver aplicações com suporte a mais de uma
língua devem usar algum método de definir mensagens em tempo de execução,
possivelmente usando uma biblioteca de funções para este fim. O projeto GNU
criou o ``Free Translation Project'', com esta finalidade. Muitos
aplicativos GNU já permitem que se troquem as mensagens bastando criar um
catálogo que é lido pelo programa ao iniciar. Há equipes de tradução
responsáveis por cada língua.</P>
<P>Há uma lista de discussão via emeil para cada equipe de tradução, rodando em
um servidor provido pela &lt;
<A HREF="http://www.li.org">Linux International</A>&gt;. Para fazer contato com a equipe de tradução para
Português, envie um emeil para &lt;
<A HREF="mailto:pt@li.org">pt@li.org</A>&gt; e para assinar a lista envie emeil para &lt;
<A HREF="mailto:pt-request@li.org">pt-request@li.org</A>&gt; contendo apenas a
palavra ``subscribe''. Assine a lista somente se você quiser fazer parte da
equipe de tradutores, pois ela <B>não</B> se destina ao esclarecimento de
dúvidas de usuários!</P>
<P>Mais informações podem ser encontradas na documentação do pacote <EM>gettext</EM>
disponível via FTP anônimo em qualquer repositório de software do GNU.
Provavelmente sua distribuição já tem um pacote pronto para ser instalado, mas
se você desejar, os fontes da versão mais recentes podem ser encontrados em
<BLOCKQUOTE>
<A HREF="ftp://ftp.gnu.org/pub/gnu/">ftp://ftp.gnu.org/pub/gnu/</A></BLOCKQUOTE>

e o nome do arquivo a copiar é ``gettext-&lt;versão&gt;.tar.gz''.</P>

<H2><A NAME="ss8.3">8.3 LIE-BR</A>
</H2>

<P>
<BLOCKQUOTE>
A informação a seguir é baseada no conteúdo da página de apresentação da
lie-br, escrita por Jorge Godoy.
</BLOCKQUOTE>

A lie-br foi criada com o intuito de auxiliar a comunidade Linux brasileira a
obter softwares e documentação em sua língua nativa: o português.  Essa lista
é uma ramificação de outra maior, a LIE que visa a internacionalização do
Linux e sua posterior tradução para todos os idiomas (português incluso). </P>
<P>Resumo dos objetivos da lie-br:
<UL>
<LI>contribuir para o projeto de internacionalização do Linux fazendo a parte
relativa ao português para o Brasil;</LI>
<LI>internacionalizar programas, de modo a poderem ser usados nas línguas
nativas de cada país, e não ficar preso ao idioma original ou ao inglês;</LI>
<LI>disponibilizar (sic) material em português para consulta e documentação;</LI>
<LI>aumentar o acervo de documentação disponível e, indiretamente, auxiliar
no desenvolvimento iniciado pelo projeto LDP-BR.</LI>
</UL>
</P>
<P>Mais informações podem ser encontradas na página WWW da lie-br, no endereço
<BLOCKQUOTE>
<A HREF="http://lie-br.conectiva.com.br/">http://lie-br.conectiva.com.br/</A></BLOCKQUOTE>

Ainda há uma quantidade enorme de documentos por traduzir. Se você tem bom
domínio do Inglês e deseja colaborar, então <B>primeiro</B> leia as instruções
na página mencionada e assine a lista ``lie-br'', enviando um emeil para
&lt;
<A HREF="lie-br-subscribe@bazar.conectiva.com.br">lie-br-subscribe@bazar.conectiva.com.br</A>&gt;. Não é preciso especificar
o assunto (subject) nem colocar nada no corpo da mensagem.</P>

<H2><A NAME="SEC:VERSTEST"></A> <A NAME="ss8.4">8.4 Versões de software testadas</A>
</H2>

<P>Todas as informações presentes neste documento foram testadas nas
seguintes versões de software: </P>
<P>
<UL>
<LI>Distribuições Slackware 3.2 (muito modificada), Debian 2.0, Red Hat 5.2,
Conectiva 3.0 (Guarani) e S.u.S.E. 5.6</LI>
<LI>XFree86 versões 3.3 a 3.3.3.1</LI>
<LI>Fvwm 2.0.46</LI>
<LI>Rxvt versão 2.4.5</LI>
<LI>Kernel versões 2.0.33 a 2.0.36</LI>
<LI>Kbd versões 0.92 a 0.96</LI>
<LI>GNU emacs versões 19.34 a 20.3</LI>
<LI>Less versões 321 e 332</LI>
<LI>GNU Bash versões 1.14.7 a 2.01.1</LI>
<LI>tcsh versões 6.07.02 e 6.07.06</LI>
<LI>LyX 0.12.0 a 1.0.0pre6</LI>
<LI>XForms 0.88</LI>
<LI>Joe 2.8</LI>
<LI>Pine 3.96 e 4.0</LI>
<LI>Pico 2.9</LI>
<LI>teTeX versões 0.4 e 0.9-9</LI>
<LI>XEmacs versões 20.3 e 20.4</LI>
</UL>
</P>



<H2><A NAME="s9">9. Observações finais</A></H2>

<H2><A NAME="ss9.1">9.1 Futuras adições a este documento</A>
</H2>

<P>As próximas versões do HOWTO deverão conter, entre outros assuntos, os
seguintes:
<UL>
<LI>suporte à distribuição Caldera;</LI>
<LI>informações sobre compartilhamento de arquivos em rede usando NFS, SAMBA
e Mars-NWE;</LI>
<LI>configuração de <EM>toolkits</EM> de interface gráfica: Qt, GTK, XForms,
Tk (Tcl) e os baseados em Xt, como Motif, Lesstif, Xaw (*international
ainda não está funcionando);</LI>
<LI>uma seção sobre desenvolvimento de programas;</LI>
<LI>referências ao Ispell (usá-lo para corrigir o próprio HOWTO :-);</LI>
<LI>informações sobre X/Open, XPG4 e POSIX, ou pelo menos ponteiros para
elas.</LI>
</UL>

Aceitam-se voluntários para qualquer uma destas tarefas.</P>
<P>Parece cada vez mais claro que as informações sobre configuração de
aplicativos devem ser movidas para outro documento, independente do HOWTO. Na
forma como ele está hoje já chega a quase quarenta páginas impressas e com a
adição de outras distribuições e aplicações em breve chegará às 50. Um
documento tão grande foge ao espírito de um HOWTO, que deve ser sucinto e
concentrado em um assunto específico.</P>

<H2><A NAME="ss9.2">9.2 Nota de Direitos de Autor</A>
</H2>

<P>Este HOWTO teve como autor João Carlos Rodrigues Pereira, baseado em
documentação escrita por José Bandeira além dos restantes HOWTO's do Linux.
Atualmente ele é mantido por Carlos Augusto Moreira dos Santos, com a
colaboração de muitos outros.</P>
<P>Os documentos HOWTO do Linux podem ser reproduzidos e distribuídos
em todo ou em parte, segundo qualquer meio físico ou electrónico, desde que
esta Nota de Direitos de Autor se mantenha intacta em todas as cópias dos
mesmos.  A distribuição comercial é autorizada e encorajada, no entanto, o
autor gostaria de ser notificado de tais ocorrências.</P>
<P>Todas as traduções, trabalhos derivados, ou trabalhos agregando qualquer dos
documentos HOWTO do Linux deverão estar abrangidos por esta Nota de
Direitos de Autor, ou seja, não poderá ser imposta qualquer restrição
adicional a trabalhos efectuados a partir de um dos documentos HOWTO do
Linux nomeadamente no que diz respeito à sua distribuição.</P>
<P>Exceções a estas regras poderam ser obtidas. Para tal, dever-se-á contactar o
coordenador dos documentos HOWTO do Linux no endereço &lt;
<A HREF="mailto:linux-howto@metalab.unc.edu">linux-howto@metalab.unc.edu</A>&gt;.</P>

<H2><A NAME="ss9.3">9.3 Garantia (inexistência de) e nota de responsabilidade</A>
</H2>

<P>Apesar de ter sido feito o máximo esforço possível para que o conteúdo deste
documento esteja correto, não há nenhuma garantia de que ele não possua erros,
nem de que tenha algum tipo de utilidade ou aplicação comercial, técnica,
educacional ou medicinal.  O autor não se responsabiliza por prejuízos
decorrentes do seu uso. Em resumo: se a informação aqui contida quebrar seu
computador em mil pedacinhos, junte tudo e cole, mas <B>não reclame para
mim</B>! </P>
<P>Documentos escritos por terceiros são de responsabilidade exclusiva deles e
sua referência neste HOWTO não representa nenhum tipo de recomendação,
abono ou garantia de suporte.</P>

<H2><A NAME="ss9.4">9.4 Agradecimentos</A>
</H2>

<P>Deixo aqui os meus agradecimentos a todos os que de alguma forma me ajudaram
quer através das suas sugestões quer através de contribuições de outro tipo,
em especial a</P>
<P>
<DL>
<DT><B>João Carlos Rodrigues Pereira</B><DD>
<P>Autor original deste documento que agora
mantenho. Nunca tive contato com ele, nem sei por onde andará.  Sua
página no Departamento de Informática da Faculdade de Ciências da
Universidade de Lisboa (http://caravela.di.fc.ul.pt/~jcrp/) não
existe mais. Lembro-me de tê-la visto, anos atrás.</P>
<DT><B>Greg Hankins</B><DD>
<P>Ex-coordenador dos <B>Linux HOWTO</B>, por me permitir assumir
a manutenção deste documento e fornecer as primeiras dicas sobre autoria
de documentos SGML.</P>
</DL>
</P>
<P>As pessoas listadas a seguir enviaram mensagens diretamente para mim ou para
as listas Linux-BR da UNICAMP e TeX-BR com informações, sugestões ou
comentários que foram incluídas neste texto. Se alguém foi esquecido, por
favor desculpe a falha.</P>
<P>
<BLOCKQUOTE>
Andre Gerhard &lt;andre@lme.usp.br&gt;<BR>
Arnaldo Carvalho de Melo &lt;acme@conectiva.com.br&gt;<BR>
Bruno Barberi Gnecco &lt;brunobg@geocities.com&gt;<BR>
Cees de Groot &lt;cg@pobox.com&gt;<BR>
Francisco Semeraro &lt;semeraro@sti.com.br&gt;<BR>
Goedson Teixeira Paixao &lt;gopaixao@dcc.ufmg.br&gt;<BR>
Joao Carvalho &lt;foxfire@fe.up.pt&gt;<BR>
Jorge Carvalho Pinto &lt;jmcpinto@yahoo.com&gt;<BR>
Judson S Santiago &lt;judson@costeira.dimap.ufrn.br&gt;<BR>
Ken MacLeod &lt;ken@bitsko.slc.ut.us&gt;<BR>
Klaus Steding-Jessen &lt;jessen@acm.org&gt;<BR>
Lamarque Vieira Souza &lt;lamarque@dcc.ufmg.br&gt;<BR>
Marcelo Malheiros &lt;malheiro@dca.fee.unicamp.br&gt;<BR>
Marcos Vinicius Lannes dos Santos &lt;lannes@cnpgl.embrapa.br&gt;<BR>
Pedro Kröger &lt;kroger@e-net.com.br&gt;<BR>
Rafael Caetano dos Santos &lt;rcaetano@linux.ime.usp.br&gt;<BR>
Rafael Rodrigues Obelheiro &lt;obelix@biquinho.furg.br&gt;<BR>
Ramiro Morales &lt;morales@siscard.com.ar&gt;<BR>
Raul Carvalho &lt;rmpc@ip.pt&gt;<BR>
Ricardo Y. Igarashi &lt;iga@originet.com.br&gt;<BR>
Roberto Mello &lt;mello@internext.com.br&gt;<BR>
Wanderlei Antonio Cavassin &lt;cavassin@conectiva.com.br&gt;<BR>
</BLOCKQUOTE>
</P>
<P>Os seguintes agradecimentos são do primeiro autor:
<DL>
<DT><B>Carlos Ferreira</B><DD>
<P>Pela luta que trava pela defesa da lingua portuguesa, bem
patente na sua <EM>Página Portuguesa</EM> disponível no URL:
<CODE>http://lila.dei.uc.pt/~cjrf/po/</CODE> [Nota do mantenedor
atual: esta página não existe]</P>
<DT><B>João C. Silva</B><DD>
<P>Pelo apoio e incentivo e criticas (bem como por me deixar
testar os meus conhecimentos no SEU computador). </P>
<DT><B>José Bandeira</B><DD>
<P>Autor dos ficheiros <CODE>port.map</CODE> e <CODE>xmodmap</CODE>.  Pelo seu
apoio e por ter escrito alguma da documentação mais elucidativa que eu já
li sobre o assunto.</P>
</DL>
</P>

<H2><A NAME="SEC:BIBLIOGRAFIA"></A> <A NAME="s10">10. Bibliografia comentada</A></H2>

<P>Esta seção ainda está incompleta e deve ser melhorada nas próximas versões.
Os HOWTOs mencionados aqui geralmente são distribuídos nos CDs de
instalação e todas as distribuições possuem pelo menos alguns deles em pacotes
prontos para instalar.  Na Slackwre esses pacotes são os da série F e os
documentos ficam instalados no diretório <CODE>/usr/doc/faq/howto</CODE> e na
Debian o diretório é <CODE>/usr/doc/HOWTO</CODE>. Eles também podem ser obtidos
via WWW em 
<A HREF="http://metalab.unc.edu/LDP/HOWTO/">http://metalab.unc.edu/LDP/HOWTO/</A>.</P>
<P>
<DL>
<DT><B>[BAL97]&nbsp;BALSA,&nbsp;André&nbsp;D. Linux and X11 internationalization</B><DD>
<P>Disponível via WWW em 
<A HREF="http://wauug.erols.com/~balsa/linux/deadkeys/">http://wauug.erols.com/~balsa/linux/deadkeys/</A></P>
<P>Uma discussão sobre o problema da acentuação no X. Também contém
referências para outros documentos que tratam de internacionalização.</P>
<DT><B>[BRO98]&nbsp;Brower&nbsp;Andries. The Linux Keyboard and Console HOWTO</B><DD>
<P>Disponível via WWW em 
<A HREF="http://metalab.unc.edu/LDP/HOWTO/Keyboard-and-Console-HOWTO.html">http://metalab.unc.edu/LDP/HOWTO/Keyboard-and-Console-HOWTO.html</A>.</P>
<P>Descreve o tratamento teclado e console no Linux
(kernel versão 2.0) e tem várias referências ao X. Leitura obrigatória
para quem quer entender a base do assunto.</P>
<DT><B>[GET94]&nbsp;Gettys, James et al. Xlib - C Language X Interface</B><DD>
<P>Cambridge, X Consortium, Inc., 1994. 473p.</P>
<P>Referência definitiva sobre programação com <CODE>Xlib</CODE>.</P>
<DT><B>[JON89]&nbsp;Jones,&nbsp;Oliver. Introduction to the X Window System</B><DD>
<P>Englewood Cliffs, Prentice Hall, 1990.</P>
<P>Um livro bastante antigo, mas contendo uma excelente e didática introdução
ao X e à programação com <CODE>Xlib</CODE>.</P>
<DT><B>[McC94]&nbsp;McCormack,&nbsp;Joel et al.X Toolkit Intrinsics - C Language Interface</B><DD>
<P>Digital Equipment Corporation/X Consortium, 1994.</P>
<P>A referência básica para programadores interessados em usar Xt.</P>
<DT><B>[OSS92]&nbsp;Ossana,&nbsp;Joseph&nbsp;&amp;&nbsp;Kernighan,&nbsp;Brian. Troff user's manual</B><DD>
<P>Computer Science Technical Report No. 54. Murray Hill, AT&amp;T Bell
Laboratories, 1992.</P>
<P>Descrição detalhada de como usar o Troff para formatação de documentos.</P>
<DT><B>[KER82]&nbsp;Kernighan,&nbsp;Brian. A Typesetter-independent TROFF</B><DD>
<P>Murray Hill, AT&amp;T Bell Laboratories, 1982.</P>
<P>O artigo de um dos pais do UNIX sobre o Troff.</P>
<DT><B>[QUI98]&nbsp;Quinot,&nbsp;Thomas. Dead keys under X11</B><DD>
<P>Disponível via WWW em 
<A HREF="http://www.fdn.fr/~tquinot/index.en.html">http://www.fdn.fr/~tquinot/index.en.html</A></P>
<P>A versão em inglês do artigo sobre a modificação da
<EM>Xlib</EM> para dar suporte à acentuação independente da aplicação.</P>
<DT><B>[RAY98]&nbsp;Raymond,&nbsp;Eric&nbsp;S. The Linux XFree86 HOWTO</B><DD>
<P>Disponível via WWW em 
<A HREF="http://metalab.unc.edu/LDP/HOWTO/XFree86-HOWTO.html">http://metalab.unc.edu/LDP/HOWTO/XFree86-HOWTO.html</A>.</P>
<P>Descreve como obter, instalar e configurar o XFree86. Todas as
distribuições de Linux já vêm com pacotes do XFree86 prontos para instalar,
mas as informações sobre configuração podem ser muito úteis.</P>
<DT><B>[SCH86]&nbsp;Scheifler,&nbsp;Robert;&nbsp;Gettys,&nbsp;James. The X Window System</B><DD>
<P><EM>ACM Transactions on Graphics</EM>, New York, ACM, <EM>5</EM> (2): 79-109,
april, 1986.</P>
<P>O artigo seminal de Scheifler e Gettys descrevendo o X Window System.</P>
<DT><B>[SUN90a]&nbsp;Sun&nbsp;Microsystems. Using NROFF &amp; TROFF.</B><DD>
<P>Sun Microsystems, 1990.</P>
<P>Parte da documentação que acompanhava as estações de trabalho Sun® e o
sistema SunOS®, no tempo em que os fabricantes de computadores distribuiam
documentação de verdade.</P>
<DT><B>[SUN90b]&nbsp;Sun&nbsp;Microsystems. Formatting documents</B><DD>
<P>Sun Microsystems, 1990.</P>
<P>Veja o ítem anterior.</P>
</DL>
</P>
<P>Arquivos cuja leitura pode ser útil:</P>
<P>
<DL>
<DT><B><CODE>/usr/src/linux/Documentation/unicode.txt</CODE></B><DD>
<P>Explica como ativar os diversos tipos de fontes no console. Também explica
onde obter fontes para o alfabeto Klingon, o que pode ser muito útil se o
leitor for um habitante daquele Império ou admirador de Jornada nas
Estrelas.  Depois das recentes aventuras espaciais do Linux, não duvido de
mais nada...</P>
<P>A respeito deste assunto é de fundamental importância saber que, segundo
nosso consultor interestrelar Klaus Steding-Jessen, ``Klingon é o nome da
raça e do seu idioma.  Kling é o nome do planeta.  Mas note que o Império
Klingon é formado não apenas por esse planeta, mas por várias colônias,
teoricamente todas falando Klingon''. Tenho certeza de que sua vida nunca
mais será a mesma depois de saber disto.</P>
<DT><B><CODE>/usr/src/linux/include/linux/keyboard.h</CODE></B><DD>
<P>Contém as definições de constantes, funções e macros utilizadas por
programas que fazem tratamento de teclado sob Linux.  Normalmente esse
arquivo é instalado com o pacote que contém o código fonte do kernel. As
distribuições geralmente possuem um pacote apenas com os arquivos
<EM>include</EM> e outros com o resto dos programas-fonte do kernel.</P>
<DT><B><CODE>/usr/X11R6/include/X11/keysymdef.h</CODE></B><DD>
<P>Contém as definições de constantes, funções e macros utilizadas por
programas que fazem tratamento de teclado sob o X Window System.
Normalmente esse arquivo é instalado com o pacote que contém as
bibliotecas de desenvolvimento de aplicações para X.</P>
</DL>
</P>

</BODY>
</HTML>
