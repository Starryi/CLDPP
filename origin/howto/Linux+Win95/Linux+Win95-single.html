<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Linux + Windows 95 mini-HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>Linux + Windows 95 mini-HOWTO</A
></H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>Jonathon Katz</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:jkatz@cpio.net"
>jkatz@cpio.net</A
>&#62;</CODE
></P
></DIV
></DIV
><P
CLASS="OTHERCREDIT"
><B
>Joy Yokley - </B
><SPAN
CLASS="CONTRIB"
>Converted document from HTML to DocBook 4.1 (SGML)</SPAN
></P
><P
CLASS="PUBDATE"
>2001-03-01<BR></P
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Revision History</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.1.1</TD
><TD
ALIGN="LEFT"
>2001-04-19</TD
><TD
ALIGN="LEFT"
>Revised by: DCM</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Corrected a typo.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.1</TD
><TD
ALIGN="LEFT"
>2001-02-28</TD
><TD
ALIGN="LEFT"
>Revised by: JEY</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.0</TD
><TD
ALIGN="LEFT"
>1998-08-15</TD
><TD
ALIGN="LEFT"
>Revised by: JK</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 0.9</TD
><TD
ALIGN="LEFT"
>1996-10-26</TD
><TD
ALIGN="LEFT"
>Revised by: JK</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 0.8</TD
><TD
ALIGN="LEFT"
>1996-06-25</TD
><TD
ALIGN="LEFT"
>Revised by: JK</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><P
></P
><A
NAME="AEN10"
></A
><P
>This document details how to install Linux on a machine that currently runs Windows 95&#8482;</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>1. <A
HREF="#INTRODUCTION"
>Introduction</A
></DT
><DT
>2. <A
HREF="#OPTIONS"
>Installation Options</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#AEN48"
>I Have This Partition I Want to Spare!</A
></DT
><DT
>2.2. <A
HREF="#CYLINDER"
>What Is This 528M 1024th Cylinder Stuff?</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#WHATSNEXT"
>What's Next</A
></DT
><DT
>4. <A
HREF="#USINGSYSTEM"
>Using Your New System</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="#AEN90"
>Installing on a Drive with FAT32</A
></DT
></DL
></DD
><DT
>5. <A
HREF="#LINLOAD"
>Linload, What's That?</A
></DT
><DT
>6. <A
HREF="#REVERSE"
>Installing Windows on Linux</A
></DT
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="INTRODUCTION"
>1. Introduction</A
></H2
><P
>Many people have machines, which (unfortunately) come pre-loaded with Windows 95&#8482;. After exploring the Internet, many users find Linux, and want to run it because it is a better operating system at a much better price. There are many different issues to address when considering running both operating systems. One such issue is the fact that newer computers usually come with large EIDE hard drives, and Windows 95&#8482; has extensions on the old FAT filesystem. Linux understands these issues and can handle these challenges in hardware and software.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="OPTIONS"
>2. Installation Options</A
></H2
><P
>Linux and Windows 95&#8482; can get along quite well
on the same hard disk. You can also install Linux onto a separate hard disk
on the same machine. If you have the money to spare to get a second hard
disk, go ahead and do that. Although it is safe and reliable to run Windows
95&#8482; and Linux on the same hard disk, it is safer to have a second disk. Since I am a poor student (and so are most of the people I know), we are stuck with one large disk.</P
><P
>Your hard disk may look like this:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>        +---------------------------------
C:      |  800M.... 4.2 Gig?
        |
        +---------------------------------</PRE
></FONT
></TD
></TR
></TABLE
><P
>Windows 95&#8482;, MS-Office&#8482;, Qmodem Pro&#8482;, and whatever DOS/Windows software you have only take up around 800M + Swap (this is a big, sarcastic assumption)! You probably do not want to lose all the software you've spent a lot of time configuring and installing, so you don't want to delete this partition and start all over again.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN48"
>2.1. I Have This Partition I Want to Spare!</A
></H3
><P
>Don't lose hope. There is a program called <SPAN
CLASS="APPLICATION"
>FIPS</SPAN
>, which can re-partition
your hard disk without destroying data. HOWEVER, make sure before you use
it, that you defrag your hard disk (with the optimum defrag method). Use the
<SPAN
CLASS="APPLICATION"
>defrag </SPAN
>that came with Windows 95&#8482;, and use it in the GUI--otherwise you will
loose your long file names. After you have run <SPAN
CLASS="APPLICATION"
>defrag</SPAN
>, run <SPAN
CLASS="APPLICATION"
>FIPS</SPAN
> and make
your disk look something like the following:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>             +-------------------------------------
C:           | This is your FAT/VFAT/Win95 partition
800M         |
             +------------------------------------
???          | This is empty space.
             |
             +----------------------------------</PRE
></FONT
></TD
></TR
></TABLE
><P
><SPAN
CLASS="APPLICATION"
>FIPS</SPAN
> can be found at your favorite Linux FTP sites (<A
HREF="http://sunsite.unc.edu"
TARGET="_top"
>http://sunsite.unc.edu,</A
>
<A
HREF="http://tsx-11.mit.edu"
TARGET="_top"
>http://tsx-11.mit.edu</A
>,<A
HREF="ftp://ftp.redhat.com"
TARGET="_top"
> ftp.redhat.com</A
>) usually in the <TT
CLASS="FILENAME"
>/pub/utils/msdos</TT
> directory.
If you have a CD for Linux, there is usually a <TT
CLASS="FILENAME"
>\utils\msdos</TT
> or <TT
CLASS="FILENAME"
>\utils</TT
>
directory that has <SPAN
CLASS="APPLICATION"
>FIPS</SPAN
> in it as well.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="CYLINDER"
>2.2. What Is This 528M 1024th Cylinder Stuff?</A
></H3
><P
>What exactly is the 1024th cylinder? Simply put, it is where IDE ends and EIDE
begins--that's the 528M "mark" on your hard disk. Some
machines used to have problems reading hard disks larger than 528M. Sometimes,
those machines wouldn't let you boot another OS from a partition that started
after the 1024th cylinder. Most machines no longer have this limitation.
(This used to be a BIG deal.)</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="WHATSNEXT"
>3. What's Next</A
></H2
><P
>Go ahead and install Linux to that new free space. If you are paranoid,
when the Linux install proceedure goes to boot, you can boot into Windows
95&#8482; and make sure it still runs OK.</P
><P
>When it comes to partitioning the disk, if you are like most people, you'll
make a 600M Linux partition (which is pretty comfortable) as well as 80M of
SWAP (which is more than enough).</P
><P
>At this point, you should be able to install whatever distribution of Linux
you have without any trouble.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="USINGSYSTEM"
>4. Using Your New System</A
></H2
><P
>Linux can mount, read, and write to Window 95&#8482;'s VFAT partitions serveral ways.
You can use the stock msdos filesystem support that has been included in
all kernels greater than 1.0. However, using commands like:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>litterbox~#: mount -t msdos /dev/hda1 /mnt</PRE
></FONT
></TD
></TR
></TABLE
><P
>will only get you as far as filenames with the 8.3 standard. Yick! You have
Windows 95&#8482; so you can use those nifty long file names.</P
><P
>Some Linux users still run kernels that are ancient by Linux standards (1.2.xx).
There is a module for this series of
kernels so that you can read files that do not conform to the old 8.3
standard. If this is the situation you are in, FTP to <A
HREF="ftp://mm-ftp.cs.berkeley.edu/pub/multimedia/linux/xmsdos/"
TARGET="_top"
>ftp://mm-ftp.cs.berkeley.edu/pub/multimedia/linux/xmsdos/</A
>
and pick up a copy of README before doing anything.</P
><P
>Kernels after 1.3.4x have internal VFAT support that you can compile in. These kernels allow
safe read/writes to your VFAT partitions. 
<DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.png"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>NOTE: A Word of Caution!</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
> If you are running a later version of Windows 95&#8482; or Windows 98&#8482; (i.e.,
possibly one that ships on computers made after June 1996 as well as the
P5-MMX series), please complete the following:</P
><P
>Check to see what version of Windows 95&#8482; you are really running. To do this, open
up a DOS box and type <TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ver /r</PRE
></FONT
></TD
></TR
></TABLE
> Sample output is listed below:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>C:\&#62; ver /r

Mircosoft Windows 95 [4.00.1034]
 (C) 1981-1996 Microsoft Corporation.</PRE
></FONT
></TD
></TR
></TABLE
><P
>Note the minor revision number. If the number is GREATER than 950 you may
be running a version of the FAT partition type known as FAT32. If that is
the case, you can still use Linux and Windows 95&#8482;</P
><P
>However, just because you are running a newer version of Windows 95&#8482; doesn't mean that you
are running FAT32. Load <SPAN
CLASS="APPLICATION"
>fdisk</SPAN
> and use the "display partition
information" option to show if you are using FAT32.</P
></TD
></TR
></TABLE
></DIV
></P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN90"
>4.1. Installing on a Drive with FAT32</A
></H3
><P
>If you are installing Linux onto a drive with FAT32, follow the same steps as you would for installing Linux onto a Windows 95&#8482; system. However, because <SPAN
CLASS="APPLICATION"
>FIPS</SPAN
> doesn't
support FAT32--you'll be forced to use a commercial program called
Partition Magic&#8482;.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="LINLOAD"
>5. Linload, What's That?</A
></H2
><P
><SPAN
CLASS="APPLICATION"
>Linload </SPAN
> is a DOS executable which loads a kernel image from a DOS HD (or
floppy) and then boots the rest of the Linux Operating System from an
appropriate root partition. If you're a really good hacker, you can do a
floppyless Linux install this way; however, this document will explain more traditional uses. When booting into Windows 95&#8482; hit the F8 key when:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>Starting Windows 95...</PRE
></FONT
></TD
></TR
></TABLE
><P
>is displayed and select <TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>Safe mode, command prompt only</PRE
></FONT
></TD
></TR
></TABLE
> Go to your
directory where you put your kernel and run</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>C:\LINUX&#62; linload.exe zimage root=/dev/hda2 ro</PRE
></FONT
></TD
></TR
></TABLE
><P
>from there. If you are good with MS-DOS setups, you can code multiple
AUTOEXEC.BAT and CONFIG.SYS files, so that you have a menu setup and can
choose which OS to boot.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="REVERSE"
>6. Installing Windows on Linux</A
></H2
><P
>In the reverse scenario (you have a working Linux box and
are forced by some power to install Windows 95&#8482;), Windows 95&#8482; WILL overwrite
your MBR, and thus crush <SPAN
CLASS="APPLICATION"
>LILO</SPAN
>. You have two options: use <SPAN
CLASS="APPLICATION"
>loadlin.exe</SPAN
> to
load your kernel, and use that to run Linux, or boot Linux using a floppy
and/or <SPAN
CLASS="APPLICATION"
>loadlin</SPAN
>, then re-install <SPAN
CLASS="APPLICATION"
>LILO</SPAN
>.</P
><P
>Best of luck with your new system!</P
></DIV
></DIV
></BODY
></HTML
>