<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Notes on building your own kernel</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="XFree Local Multi-User HOWTO"><link rel="up" href="ch03.html" title="Chapter 3. Installing the kernel"><link rel="prev" href="ch03s01.html" title="1. Installing the Backstreet Ruby/ Ruby-2.6 kernel"><link rel="next" href="ch03s03.html" title="3. Creating needed device files"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Notes on building your own kernel</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s01.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Installing the kernel</th><td width="20%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="build_kernel"></a>2. Notes on building your own kernel</h2></div></div></div><p>There are some things I would like to mention, although I won't go in details, as the Backstreet Ruby page on compiling the kernel discusses this topic.</p><p></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>You have to follow this order:</p><pre class="programlisting">
Input support
Virtual Terminal support
Console drivers
            </pre><p>for all required options to be available/selectable.</p></li><li class="listitem"><p>You have to use built in input support:</p><pre class="programlisting">
Input device support --&gt; Input devices (needed for keyboard, mouse,..)
Input device support --&gt; Mouse support
            </pre></li><li class="listitem"><p>I would suggest you also include at least one keyboard (built in - not as a module). You can also use modules, but I find it safer to be able to use a keyboard instead of trying to find a PC with ssh (or something similar) to load the required modules.</p><p>For AT/PS2 keyboards, turn on (not modules):</p><pre class="programlisting">
Input device support --&gt; Serial i/o support
Input device support --&gt; i8042 PC Keyboard controller
Input device support --&gt; Keyboards
Input device support --&gt; AT keyboard support
            </pre><p>For a USB keyboard turn on (not modules):</p><pre class="programlisting">
Input device support --&gt; Keyboards
USB support --&gt; support for USB
USB support --&gt; USB Host Controller Drivers
USB support --&gt; USB Human Interface Device (full HID) support
USB support --&gt; HID input layer support
            </pre></li><li class="listitem"><p>If you are new to Linux, do not try to patch an already patched kernel (heavily patched kernels like the ones that ship with most distributions). Use a kernel from <a class="ulink" href="http://www.kernel.org" target="_top">www.kernel.org</a>, and take a look at the <a class="ulink" href="http://www.tldp.org/HOWTO/Kernel-HOWTO/" target="_top">Linux Kernel HOWTO</a>.</p></li></ol></div><p></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>In Backstreet Ruby (the patch for a 2.4 Linux kernel) does not support frame buffer devices , and for that reason is disabled.</p><p>In Ruby (the patch for 2.6 Linux kernel) if you want to disable/ change to modules support for PS2 input devices, you have to first activate/enable "General setup --&gt; Remove kernel features (for embedded systems)"</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Installing the Backstreet Ruby/ Ruby-2.6 kernel </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Creating needed device files</td></tr></table></div></body></html>
