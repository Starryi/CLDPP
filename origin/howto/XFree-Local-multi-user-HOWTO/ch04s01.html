<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>1. Do I need a modified X server?</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="XFree Local Multi-User HOWTO"><link rel="up" href="ch04.html" title="Chapter 4. Setting up the X servers"><link rel="prev" href="ch04.html" title="Chapter 4. Setting up the X servers"><link rel="next" href="ch04s02.html" title="2. Installing and Configuring XFree-PrefBusID"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1. Do I need a modified X server?</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Setting up the X servers</th><td width="20%" align="right"> <a accesskey="n" href="ch04s02.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mod_x_server"></a>1. Do I need a modified X server?</h2></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>For some video cards you can skip this part.  Before installing the modified X server check the Video Compatibility list to determine whether you need one. Currently there are reports for working configurations without using a modified X server for Voodoo Graphics as primary and Voodoo3 or Nvidia TNT2 as secondary.</p></div><p><span class="quote">&#8220;<span class="quote">Why should a modified X server be used?</span>&#8221;</span> - The reason is that XFree is designed to serve a single user and this design requires a single X server to drive all available graphic cards. So when an unmodified X server starts, it disables access to graphic cards for other X servers.  Hence we have to modify XFree to make it possible more then one X server to run at the same time.</p><div class="itemizedlist"><p>You first have to decide whether you want to experiment whether your graphic card is "multi-user friendly" or go for surer way(more details follow).</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>"The experimental way": you can use the "hackvideo"(ignoring pci_disable XFree commands) feature of the Backstreet Ruby kernel. This will allow you to use the XFree server that came with your distribution (no need for installing modified XFree server).</p><p>Q: "Why experimental?" </p><p>A: Well, you have to find out whether it works with your combination of graphic cards. There are some combination that works flawlessly, but the majority of tested combinations have problems with this setup.</p><p>              </p></li><li class="listitem"><p>"The surer way": you have to install XFree server modified with the Prefered Bus ID patch.</p><p>Q: "Why surer?" </p><p>A: Because it works with all "supported graphic cards", solves a lot of stability problems and makes it possible to use VGA console on the primary graphic card.</p><p>              </p></li></ul></div><p>If you decide first to try without installing a modified X server, follow these steps:</p><div class="orderedlist"><p>"The experimental way"</p><ol class="orderedlist" type="1"><li class="listitem"><p>To enable this feature you have to add this to your XFree configuration file:</p><pre class="programlisting">Section "ServerFlags"
...
Option "PciOsConfig" "1"
...
EndSection</pre><p>              </p></li><li class="listitem"><p> and to inform the kernel to filter unnecessary PCI commands:</p><pre class="screen">[root@mc contrib]#echo  "1"&gt; /proc/bus/pci/hackvideo</pre><p>              </p></li><li class="listitem"><p> If you want this to be done automatically on every boot you have to add :  </p><pre class="programlisting">if [ -x /proc/bus/pci/hackvideo ];then
      /bin/echo "1"&gt; /proc/bus/pci/hackvideo
fi</pre><p>to your init scripts, preferably somewhere at the end of /etc/rc.d/rc.sysinit (so the command is executed before X is started)  </p><p>              </p></li><li class="listitem"><p> If you want to disable this functionality you have to:</p><pre class="screen">[root@mc contrib]# echo "0"&gt; /proc/bus/pci/hackvideo</pre><p>              </p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This functionality exists in the Backstreet Ruby kernel since 15. May 2003 and in Ruby-2.6 since 29. Sep 2003 , but will never be added to the official linux kernel as it is a small hack to spare you installing modified X server. </p><p>It is still recommended to install modified X server.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 4. Setting up the X servers </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2. Installing and Configuring XFree-PrefBusID</td></tr></table></div></body></html>
