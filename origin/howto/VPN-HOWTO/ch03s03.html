<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3. Restricting Users</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="VPN HOWTO"><link rel="up" href="ch03.html" title="Chapter 3. Server"><link rel="prev" href="ch03s02.html" title="2. User Access - letting people in"><link rel="next" href="ch03s04.html" title="4. Networking"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Restricting Users</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s02.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Server</th><td width="20%" align="right"> <a accesskey="n" href="ch03s04.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm256"></a>3. Restricting Users</h2></div></div></div><p>
Now that you're keeping the bad people out, and only letting the good people
in, you may need to make sure that the good people behave themselves.  This is
most easily done by not letting them do anything except run pppd.  This may
or may not be necessary.  I restrict users because the system that I maintain
is dedicated to VPN, so users have no business doing anything else on it.
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm259"></a>3.1. sudo or not sudo	</h3></div></div></div><p>
There is this neat little program called sudo that allows the admin on a
Unix system to grant certain users the ability to run certain programs
as root.  This is necessary in this case since pppd must be run as root.
You'll need to use this method if you want to allow users shell access.
Read up on how to setup and use sudo in the sudo man page.  Using sudo
is best on multi-use systems that typically host a small number of
trusted users.
</p><p>
If you decide to not allow users to have shell access, then the best way
to keep them from gaining it is to make their shell pppd.  This is
done in the /etc/passwd file. You can see <a class="xref" href="ch03s01.html#passwd">/etc/passwd file</a>
that I did this for the last three users.  The last field of the
/etc/passwd file is the user's shell.  You needn't do anything special
to pppd in order to make it work.  It gets executed as root when the
user connects.  This is certainly the simplest setup to be had, as well
as the most secure, and ideal for large scale and corporate
systems.  I describe exactly what all needs to be done later in this
document.  You can <a class="xref" href="ch05s07.html" title="7. Server: Set up user accounts">Section 7, &#8220;Server: Set up user accounts&#8221;</a> if you
like.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2. User Access - letting people in </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4. Networking</td></tr></table></div></body></html>
