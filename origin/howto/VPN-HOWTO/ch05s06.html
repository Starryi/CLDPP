<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>6. Server: Configure sshd</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="VPN HOWTO"><link rel="up" href="ch05.html" title="Chapter 5. Implementation"><link rel="prev" href="ch05s05.html" title="5. Server: Configure pppd"><link rel="next" href="ch05s07.html" title="7. Server: Set up user accounts"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6. Server: Configure <span class="command"><strong>sshd</strong></span>
			</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s05.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Implementation</th><td width="20%" align="right"> <a accesskey="n" href="ch05s07.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm492"></a>6. Server: Configure <span class="command"><strong>sshd</strong></span>
			</h2></div></div></div><p>
The following is what my <code class="filename">/etc/sshd_config</code> file looks like.  Yours
should look the same or similar:
</p><pre class="screen">
# This is the ssh server system wide configuration file.

Port 22
ListenAddress 0.0.0.0
HostKey /etc/ssh_host_key
RandomSeed /etc/ssh_random_seed
ServerKeyBits 768
LoginGraceTime 600
KeyRegenerationInterval 3600
PermitRootLogin yes
IgnoreRhosts yes
StrictModes yes
QuietMode no
FascistLogging yes
CheckMail no
IdleTimeout 3d
X11Forwarding no
PrintMotd no
KeepAlive yes
SyslogFacility DAEMON
RhostsAuthentication no
RhostsRSAAuthentication no
RSAAuthentication yes
PasswordAuthentication no
PermitEmptyPasswords no
UseLogin no
</pre><p>
The important points to note are that password authentication is disabled
as are all of the <span class="quote">&#8220;<span class="quote">R</span>&#8221;</span> services.  I have also turned off mail checking
and the message of the day as they can confuse <span class="command"><strong>pppd</strong></span> on the client side.
I still allow root login, but as this can only be done with a key, it is adequately
safe.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5. Server: Configure <span class="command"><strong>pppd</strong></span>
			 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 7. Server: Set up user accounts</td></tr></table></div></body></html>
