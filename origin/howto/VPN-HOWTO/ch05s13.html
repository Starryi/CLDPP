<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>13. Client: Build the kernel</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="VPN HOWTO"><link rel="up" href="ch05.html" title="Chapter 5. Implementation"><link rel="prev" href="ch05s12.html" title="12. Server: Administration"><link rel="next" href="ch05s14.html" title="14. Client: Configure Networking"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13. Client: Build the kernel</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s12.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Implementation</th><td width="20%" align="right"> <a accesskey="n" href="ch05s14.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm554"></a>13. Client: Build the kernel</h2></div></div></div><p>
Now we move onto the client.  First we must rebuild the kernel so that it can support
all of the functions that we need.  The minimum requirement is to have ppp in the
kernel.  You will need forwarding, a firewall, and a gateway only
if you are going to allow other machines access to the tunnel.  For this example, I
will setup one of the remote office machines in my example layout.  Add the following
options to your kernel.  Again, if you've never built a kernel before, read the
<a class="ulink" href="/HOWTO/Kernel-HOWTO.html" target="_top">Kernel HOWTO</a>.</p><p>
For 2.0 kernels:

</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
CONFIG_PPP
</p></li><li class="listitem"><p>
CONFIG_FIREWALL
</p></li><li class="listitem"><p>
CONFIG_IP_FORWARD
</p></li><li class="listitem"><p>
CONFIG_IP_FIREWALL
</p></li><li class="listitem"><p>
CONFIG_IP_ROUTER
</p></li><li class="listitem"><p>
CONFIG_IP_MASQUERADE
</p></li><li class="listitem"><p>
CONFIG_IP_MASQUERADE_ICMP
</p></li></ul></div><p>

</p><p>
For 2.2 kernels:

</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
CONFIG_PPP
</p></li><li class="listitem"><p>
CONFIG_FIREWALL
</p></li><li class="listitem"><p>
CONFIG_IP_ADVANCED_ROUTER
</p></li><li class="listitem"><p>
CONFIG_IP_FIREWALL
</p></li><li class="listitem"><p>
CONFIG_IP_ROUTER
</p></li><li class="listitem"><p>
CONFIG_IP_MASQUERADE
</p></li><li class="listitem"><p>
CONFIG_IP_MASQUERADE_ICMP
</p></li></ul></div><p>

</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s12.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s14.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">12. Server: Administration </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 14. Client: Configure Networking</td></tr></table></div></body></html>
