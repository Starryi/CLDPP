<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>VPN HOWTO</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="description" content="This HOWTO describes how to set up a Virtual Private Network with Linux."><link rel="home" href="index.html" title="VPN HOWTO"><link rel="next" href="ch01.html" title="Chapter 1. Introduction"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">VPN HOWTO</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch01.html">Next</a></td></tr></table><hr></div><div class="book"><div class="titlepage"><div><div><h1 class="title"><a name="idm1"></a>VPN HOWTO</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Matthew D.</span> <span class="surname">Wilson</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:matthew@shinythings.com">matthew@shinythings.com</a>&gt;</code></p></div></div></div></div><div><p class="pubdate">Dec 1999</p></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 2.0</td><td align="left">2002-05-30</td><td align="left">tab</td></tr><tr><td align="left" colspan="3">Updated to Docbook 4.1 and applied GFDL per Matthew Wilson</td></tr><tr><td align="left">Revision 1.0</td><td align="left">1999-12-01</td><td align="left">mdw</td></tr><tr><td align="left" colspan="3">Initial release</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>This HOWTO describes how to set up a Virtual Private Network with Linux.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="chapter"><a href="ch01.html">1. Introduction</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch01s01.html">1. Why I wrote this HOWTO</a></span></dt><dt><span class="sect1"><a href="ch01s02.html">2. Acknowledgements and Thanks</a></span></dt><dt><span class="sect1"><a href="ch01s03.html">3. Format of this document</a></span></dt><dt><span class="sect1"><a href="ch01s04.html">4. Legal Information</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch01s04.html#idm64">4.1. Copyright</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#idm68">4.2. Disclaimer</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl">4.3. GNU Free Documentation License</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-0">4.4. PREAMBLE</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-1">4.5. APPLICABILITY AND DEFINITIONS</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-2">4.6. VERBATIM COPYING</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-3">4.7. COPYING IN QUANTITY</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-4">4.8. MODIFICATIONS</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-5">4.9. COMBINING DOCUMENTS</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-6">4.10. COLLECTIONS OF DOCUMENTS</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-7">4.11. AGGREGATION WITH INDEPENDENT WORKS</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-8">4.12. TRANSLATION</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-9">4.13. TERMINATION</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-10">4.14. FUTURE REVISIONS OF THIS LICENSE</a></span></dt><dt><span class="sect2"><a href="ch01s04.html#gfdl-11">4.15. How to use this License for your documents</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch01s05.html">5. Document History</a></span></dt><dt><span class="sect1"><a href="ch01s06.html">6. Related Documents</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch02.html">2. Theory</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch02s01.html">1. What is a VPN?</a></span></dt><dt><span class="sect1"><a href="ch02s02.html">2. But really, what IS a VPN?</a></span></dt><dt><span class="sect1"><a href="ch02s03.html">3. So how does it work?</a></span></dt><dt><span class="sect1"><a href="ch02s04.html">4. SSH and PPP
			</a></span></dt><dt><span class="sect1"><a href="ch02s05.html">5. Alternative VPN Systems</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch02s05.html#idm212">5.1. PPTP</a></span></dt><dt><span class="sect2"><a href="ch02s05.html#idm216">5.2. IP Sec</a></span></dt><dt><span class="sect2"><a href="ch02s05.html#idm220">5.3. CIPE</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch03.html">3. Server</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch03s01.html">1. Security - keeping people out</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s01.html#idm230">1.1. Trim your daemons</a></span></dt><dt><span class="sect2"><a href="ch03s01.html#idm234">1.2. Don't allow passwords</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s02.html">2. User Access - letting people in</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s02.html#idm249">2.1. Configuring <span class="command"><strong>sshd</strong></span></a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s03.html">3. Restricting Users</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s03.html#idm259">3.1. sudo or not sudo	</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch03s04.html">4. Networking</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch03s04.html#idm274">4.1. The Kernel</a></span></dt><dt><span class="sect2"><a href="ch03s04.html#idm310">4.2. Filter Rules</a></span></dt><dt><span class="sect2"><a href="ch03s04.html#idm324">4.3. Routing</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch04.html">4. Client</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch04s01.html">1. The Kernel</a></span></dt><dt><span class="sect1"><a href="ch04s02.html">2. Bring up the link</a></span></dt><dt><span class="sect1"><a href="ch04s03.html">3. Scripting
			</a></span></dt><dt><span class="sect1"><a href="ch04s04.html">4. LRP - Linux Router Project</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch05.html">5. Implementation</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch05s01.html">1. Planning</a></span></dt><dt><span class="sect1"><a href="ch05s02.html">2. Gather the tools
			</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch05s02.html#idm378">2.1. For the Server:
			</a></span></dt><dt><span class="sect2"><a href="ch05s02.html#idm386">2.2. For the Client:
			</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch05s03.html">3. Server: Build the kernel
			</a></span></dt><dt><span class="sect1"><a href="ch05s04.html">4. Server: Configure Networking</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch05s04.html#idm428">4.1. Configuring the interfaces</a></span></dt><dt><span class="sect2"><a href="ch05s04.html#idm438">4.2. Setting routes</a></span></dt><dt><span class="sect2"><a href="ch05s04.html#idm443">4.3. Making filter rules</a></span></dt><dt><span class="sect2"><a href="ch05s04.html#idm453">4.4. Routing</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch05s05.html">5. Server: Configure <span class="command"><strong>pppd</strong></span>
			</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch05s05.html#idm463">5.1. <code class="filename">/etc/ppp/</code>
 				</a></span></dt><dt><span class="sect2"><a href="ch05s05.html#idm470">5.2. <code class="filename">/etc/ppp/options</code>
 				</a></span></dt><dt><span class="sect2"><a href="ch05s05.html#idm485">5.3. Avoiding conflicts</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch05s06.html">6. Server: Configure <span class="command"><strong>sshd</strong></span>
			</a></span></dt><dt><span class="sect1"><a href="ch05s07.html">7. Server: Set up user accounts</a></span></dt><dt><span class="sect1"><a href="ch05s08.html">8. Add <strong class="userinput"><code>vpn-users</code></strong> group</a></span></dt><dt><span class="sect1"><a href="ch05s09.html">9. create the <code class="filename">vpn-users</code> home directory</a></span></dt><dt><span class="sect1"><a href="ch05s10.html">10. The <code class="filename">.ssh</code> directory</a></span></dt><dt><span class="sect1"><a href="ch05s11.html">11. Adding users</a></span></dt><dt><span class="sect1"><a href="ch05s12.html">12. Server: Administration</a></span></dt><dt><span class="sect1"><a href="ch05s13.html">13. Client: Build the kernel</a></span></dt><dt><span class="sect1"><a href="ch05s14.html">14. Client: Configure Networking</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch05s14.html#idm593">14.1. Interface</a></span></dt><dt><span class="sect2"><a href="ch05s14.html#idm601">14.2. Filter rules</a></span></dt><dt><span class="sect2"><a href="ch05s14.html#idm610">14.3. Routing
				</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch05s15.html">15. Client: Configure <span class="command"><strong>pppd</strong></span></a></span></dt><dt><span class="sect1"><a href="ch05s16.html">16. Client: Configure <span class="command"><strong>ssh</strong></span></a></span></dt><dt><span class="sect1"><a href="ch05s17.html">17. Client: Bring up the connection</a></span></dt><dt><span class="sect1"><a href="ch05s18.html">18. Client: Set the routes</a></span></dt><dt><span class="sect1"><a href="ch05s19.html">19. Client: Scripting</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch05s19.html#idm664">19.1. Keeping it running</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch06.html">6. Addenda</a></span></dt><dd><dl><dt><span class="sect1"><a href="ch06s01.html">1. Pitfalls</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06s01.html#idm677">1.1. read: I/O error</a></span></dt><dt><span class="sect2"><a href="ch06s01.html#idm680">1.2. SIOCADDRT: Network is unreachable</a></span></dt><dt><span class="sect2"><a href="ch06s01.html#ipv4forwarding">1.3. IPv4 Forwarding and 2.2 kernels</a></span></dt><dt><span class="sect2"><a href="ch06s01.html#idm696">1.4. Routing</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch06s02.html">2. Hardware and Software Requirements</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06s02.html#idm702">2.1. Minimum Hardware Requirements</a></span></dt><dt><span class="sect2"><a href="ch06s02.html#idm707">2.2. Software Requirements</a></span></dt></dl></dd></dl></dd></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> Chapter 1. Introduction</td></tr></table></div></body></html>
