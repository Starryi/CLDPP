<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>IP Aliasing</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Linux Networking HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="IP Related Information"
HREF="c1121.html"><LINK
REL="PREVIOUS"
TITLE="IP Accounting (for Linux-2.0)"
HREF="x1201.html"><LINK
REL="NEXT"
TITLE="IP Firewall (for Linux-2.0)"
HREF="x1247.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><A
HREF="http://www.linuxports.com/"
TARGET="_top"
>Linux Networking HOWTO</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1201.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 7. IP Related Information</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1247.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN1227"
>7.4. IP Aliasing</A
></H1
><P
>There are some applications where being able to configure multiple
IP addresses to a single network device is useful. Internet Service
Providers often use this facility to provide a "customized" feature to their
World Wide Web and ftp offerings for their customers. You can refer to
the ``IP-Alias mini-HOWTO'' for more information.</P
><P
><EM
>Kernel Compile Options</EM
>:
<TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>	Networking options  ---&#62;
	    ....
	    [*] Network aliasing
	    ....
	    &#60;*&#62; IP: aliasing support</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>After compiling and installing your kernel with IP_Alias support,
configuration is very simple. The aliases are added to virtual network
devices associated with the actual network device. A simple naming
convention applies to these devices being <TT
CLASS="LITERAL"
>&#60;devname&#62;:&#60;virtual
dev num&#62;</TT
>, e.g. <TT
CLASS="LITERAL"
>eth0:0</TT
>, <TT
CLASS="LITERAL"
>ppp0:10</TT
> etc. Note that the
ifname:number device can only be configured <EM
>after</EM
> the main
interface has been set up.</P
><P
>For example, assume you have an ethernet network that supports two different
IP subnetworks simultaneously. You also wish your machine to have direct access
to both. You could use something like:</P
><P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>	root# ifconfig eth0 192.168.1.1 netmask 255.255.255.0 up
	root# route add -net 192.168.1.0 netmask 255.255.255.0 eth0
	root# ifconfig eth0:0 192.168.10.1 netmask 255.255.255.0 up
	root# route add -net 192.168.10.0 netmask 255.255.255.0 eth0:0</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>To delete an alias, add a `<TT
CLASS="LITERAL"
>-</TT
>' to the end of its name, then
refer to it. It is as simple as:</P
><P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>	root# ifconfig eth0:0- 0</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>All routes associated with that alias will also be deleted automatically.
<A
HREF="https://secure.paypal.com/cgi-bin/webscr?cmd=_xclick&#38;business=auctions@commandprompt.com&#38;return=http://www.linuxdoc.com&#38;item_name=http://www.linuxdoc.com&#38;item_number=Net-HOWTO_Donation&#38;amount=2.50"
TARGET="_top"
>Was this section helpful? Why not Donate $2.50?</A
></P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1201.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1247.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>IP Accounting (for Linux-2.0)</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c1121.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>IP Firewall (for Linux-2.0)</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>