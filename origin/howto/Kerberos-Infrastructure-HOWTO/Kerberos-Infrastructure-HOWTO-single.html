<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Kerberos Infrastructure HOWTO</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="description" content="This document describes the design and configuration of a Kerberos infrastructure for handling authentication with GNU/Linux. It details steps for a best practices method of setting up servers, Kerberos software, conversion of legacy systems, and answers frequently asked questions."></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="en" class="article"><div class="titlepage"><div><div><h2 class="title"><a name="idm1"></a>Kerberos Infrastructure HOWTO</h2></div><div><div class="author"><h3 class="author"><span class="firstname">V. Alex</span> <span class="surname">Brennen</span></h3><div class="affiliation"><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:vab@cryptnet.net">vab@cryptnet.net</a>&gt;</code></p></div></div></div></div><div><p class="pubdate">2004-05-29</p></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 2.0.0</td><td align="left">2004-05-28</td><td align="left">VAB</td></tr><tr><td align="left" colspan="3">Conversion to DocBook XML. General Content Updates,
		including incorporation of Technical and Metadata/Markup Reviews.</td></tr><tr><td align="left">Revision 1.0.3</td><td align="left">2003-04-01</td><td align="left">VAB</td></tr><tr><td align="left" colspan="3">Minor Updates, Minor Corrections, Additional links added.</td></tr><tr><td align="left">Revision 1.0.2</td><td align="left">2002-09-13</td><td align="left">VAB</td></tr><tr><td align="left" colspan="3">Minor Updates, Minor Corrections, Added 8.6, Additional links added.</td></tr><tr><td align="left">Revision 1.0.1</td><td align="left">2002-07-15</td><td align="left">VAB</td></tr><tr><td align="left" colspan="3">Minor Updates, Fixes.</td></tr><tr><td align="left">Revision 1.0.0</td><td align="left">2002-06-13</td><td align="left">VAB</td></tr><tr><td align="left" colspan="3">Initial Release.</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>This document describes the design and configuration of a Kerberos infrastructure for handling authentication with GNU/Linux. It details steps for a best practices method of setting up servers, Kerberos software, conversion of legacy systems, and answers frequently asked questions.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#about">1. About this Document</a></span></dt><dd><dl><dt><span class="section"><a href="#general">1.1. General Information</a></span></dt><dt><span class="section"><a href="#translations">1.2. Translations</a></span></dt><dt><span class="section"><a href="#credits">1.3. Credits and Contributors</a></span></dt><dt><span class="section"><a href="#feedback">1.4. Feedback</a></span></dt></dl></dd><dt><span class="section"><a href="#overview">2. An Overview of a Kerberos Infrastructure</a></span></dt><dd><dl><dt><span class="section"><a href="#intro">2.1. An Introduction to Kerberos</a></span></dt><dt><span class="section"><a href="#benefits">2.2. The Benefits of Kerberos</a></span></dt><dt><span class="section"><a href="#howitworks">2.3. How Kerberos Works</a></span></dt><dt><span class="section"><a href="#compromise">2.4. Compromise of Kerberos Infrastructure</a></span></dt></dl></dd><dt><span class="section"><a href="#install">3. Installing and Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#machine-configure">3.1. General Machine Configuration Overview</a></span></dt><dt><span class="section"><a href="#hardware">3.2. Hardware</a></span></dt><dt><span class="section"><a href="#gnulinux-install">3.3. GNU/Linux Installation</a></span></dt><dt><span class="section"><a href="#realm">3.4. Choosing A Realm</a></span></dt><dt><span class="section"><a href="#configure">3.5. Kerberos Software Configuration</a></span></dt><dt><span class="section"><a href="#principal-creation">3.6. Principal Creation</a></span></dt></dl></dd><dt><span class="section"><a href="#time-sync">4. Time Synchronization</a></span></dt><dd><dl><dt><span class="section"><a href="#time-sync-importance">4.1. The Importance of Time Synchronization</a></span></dt><dt><span class="section"><a href="#intro-ntp">4.2. Introduction to NTP</a></span></dt><dt><span class="section"><a href="#ntp-install">4.3. NTP Installation and Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="#server-replication">5. Kerberos Server Replication</a></span></dt><dd><dl><dt><span class="section"><a href="#replication">5.1. Description of Replication</a></span></dt><dt><span class="section"><a href="#implementation">5.2. Implementation</a></span></dt><dt><span class="section"><a href="#maintain">5.3. Maintenance</a></span></dt></dl></dd><dt><span class="section"><a href="#client-configure">6. Client Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#client">6.1. General GNU/Linux Client Configuration</a></span></dt><dt><span class="section"><a href="#pam">6.2. PAM</a></span></dt><dt><span class="section"><a href="#apache">6.3. Apache Web Server</a></span></dt><dt><span class="section"><a href="#microsoft">6.4. Microsoft Windows</a></span></dt></dl></dd><dt><span class="section"><a href="#programming">7. Programming With Kerberos</a></span></dt><dd><dl><dt><span class="section"><a href="#api">7.1. The Kerberos API</a></span></dt></dl></dd><dt><span class="appendix"><a href="#sources">A. Relevant Sources for More Information</a></span></dt><dd><dl><dt><span class="section"><a href="#links">1. Links to related documents</a></span></dt><dt><span class="section"><a href="#websites">2. Related web sites</a></span></dt><dt><span class="section"><a href="#rfc">3. Related RFCs</a></span></dt><dt><span class="section"><a href="#other-ref">4. Other references</a></span></dt><dt><span class="section"><a href="#resources">5. Additional resources</a></span></dt><dt><span class="section"><a href="#companies">6. Companies which provide specialist Kerberos consulting</a></span></dt></dl></dd><dt><span class="glossary"><a href="#idm477">Glossary of Terms</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="about"></a>1. About this Document</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="general"></a>1.1. General Information</h3></div></div></div><p>
Copyright (c) 2002-2004  <a class="ulink" href="http://cryptnet.net/people/vab/" target="_top">V. Alex Brennen</a> (<a class="ulink" href="http://cryptnet.net/people/vab/" target="_top">VAB</a>).
</p><p>
This document is hereby placed in the public domain.
</p><p>
This document lives at <a class="ulink" href="http://cryptnet.net/fdp/admin/kerby-infra/en/kerby-infra.html" target="_top">http://cryptnet.net/fdp/admin/kerby-infra/en/kerby-infra.html</a>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="translations"></a>1.2. Translations</h3></div></div></div><p>
This document is currently only available in the following languages:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
[<a class="ulink" href="http://cryptnet.net/fdp/admin/kerby-infra/en/kerby-infra.html" target="_top">en</a>] English
</p></li></ul></div><p>
If you know of a translation or would like to translate it to another language please <a class="ulink" href="mailto:vab@cryptnet.net" target="_top">let me know</a> so that I can distribute or link to the translated versions.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="credits"></a>1.3. Credits and Contributors</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/people/vab/" target="_top">V. Alex Brennen</a> (<a class="ulink" href="http://cryptnet.net/people/vab/" target="_top">VAB</a>) <code class="email">&lt;<a class="email" href="mailto:vab%20(at)%20cryptnet.net">vab (at) cryptnet.net</a>&gt;</code> (Principal Author)
</p></li><li class="listitem"><p>
<a class="ulink" href="http://kolya.net/" target="_top">Nickolai Zeldovich</a> <code class="email">&lt;<a class="email" href="mailto:kolya%20(at)%20zepa.net">kolya (at) zepa.net</a>&gt;</code> (Technical suggestions, technical corrections)
</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="feedback"></a>1.4. Feedback</h3></div></div></div><p>
Please send any additions, comments, corrections and criticisms to the following email address: <code class="email">&lt;<a class="email" href="mailto:vab@cryptnet.net">vab@cryptnet.net</a>&gt;</code>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="overview"></a>2. An Overview of a Kerberos Infrastructure</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="intro"></a>2.1. An Introduction to Kerberos</h3></div></div></div><p>
Kerberos is a system of authentication developed at MIT as part of the Athena project. Kerberos uses encryption technology and a trusted third party, an arbitrator, to perform secure authentication on an open network.  Specifically, Kerberos uses cryptographic tickets in order to avoid transmitting plain text passwords over the wire. Kerberos was based upon the Needham-Schroeder protocol.
</p><p>
There are two versions of Kerberos currently in use, version 4 and version 5. Kerberos versions 1 through 3 were internal development versions and never released. Kerberos version 4 has a number of known weaknesses and should no long be used. This document deals only with Kerberos 5.  Kerberos 5 is defined in <a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1510.txt" target="_top">RFC1510</a>.
</p><p>
The term Kerberos Infrastructure refers to the software, servers, and client configurations that will allow an administrator to use the Kerberos protocol to perform authentication on their network.  Specifically, Kerberos Infrastructure consists of the Kerberos software itself, secured redundant authentication servers, a centralized account and password store, and systems configured to authenticate through the Kerberos protocol.  This document will take you through the steps to install, configure, and deploy such an infrastructure.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="benefits"></a>2.2. The Benefits of Kerberos</h3></div></div></div><p>
For individuals unfamiliar with the Kerberos protocol, the benefits of deploying it in their network may not be clear.  However, all administrators are familiar with the problems Kerberos was designed to mitigate.  Those problems include, password sniffing, password filename/database stealing, and the high level of effort necessary to maintain a large number of account databases.
</p><p>
A properly deployed Kerberos Infrastructure will help you address these problems.  It will make your enterprise more secure.  Use of Kerberos will prevent plaintext passwords from being transmitted over the network.  The Kerberos system will also centralize your username and password information which will make it easier to maintain and manage this data. Finally, Kerberos will also prevent you from having to store password information locally on a machine, whether it is a workstation or server, thereby reducing the likelihood that a single machine compromise will result in additional compromises.
</p><p>
To summarize, in a large enterprise, the benefits of Kerberos will translate into reduced administration costs through easier account and password management and through improved network security.  In a smaller environment, scalable authentication infrastructure and improved network security are the clear benefits.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="howitworks"></a>2.3. How Kerberos Works</h3></div></div></div><p>
Kerberos is an authentication protocol which uses a shared secret and a trusted third party arbitrator in order to validate the identity of clients.  In Kerberos, clients may be users, servers, or pieces of software.  The trusted third party arbitrator is a server known as a Key Distribution Center (KDC) which runs the Kerberos daemons.  The shared secret is the users password transformed into a cryptographic key.  In the case of servers or software systems, a random key is generated.
</p><p>
In Kerberos, users are known as principals. The KDC has a database of principals and their secret keys which is uses to perform authentication. In Kerberos knowledge of the secret key is considered sufficient for proof of identity.  Since knowledge of a secret key translates into proof of identity in Kerberos, the Kerberos server can be trusted to authenticate any client to any other client. Authentication is Kerberos is done with out sending any clear text passwords across the wire. Below I'll explain how the Kerberos protocol maps to the GNU/Linux Kerberos software.
</p><p>
The KDC runs two important Kerberos daemons.  These daemons are <span class="application">kadmind</span> and <span class="application">krb5kdc</span>. While GNU/Linux daemon naming conventions suggests that processes which have names starting with <span class="quote">&#8220;<span class="quote">k</span>&#8221;</span> are Kernel related or Kernel space processes, this is not true in the case of <span class="application">krb5kdc</span> and <span class="application">kadmind</span>. These two daemons are run as root in user space.
</p><p>
<span class="application">kadmind</span> is the administrative daemon for the Kerberos server. <span class="application">kadmind</span> is used by a program named <span class="application">kadmin</span> to maintain the database of principals and policy configuration.  If you choose to disallow any remote logins via <span class="application">ssh</span> on your Kerberos hardware, <span class="application">kadmin</span> will allow you to remotely administer the Kerberos components of the server.
</p><p>
<span class="application">krb5kdc</span> is the workhorse of the Kerberos server. It is responsible for performing the role of the trusted third party arbitrator in Kerberos authentication. When a user wants to authenticate himself to a system or service, the user requests a ticket from the KDC. A ticket is a datagram consisting of the client's identity, a session key, a timestamp, and some other information. The datagram is encrypted with the server's secret key.
</p><p>
In detail that process works as follows,  first the request for authentication is sent to the <span class="application">krb5kdc</span> daemon.  When the daemon received this request, it looks up the client, the principal, trying to authenticate in the principal database. It reads the clients secret key from this database and encrypts a special ticket called a Ticket Granting Ticket (TGT) which it then sends back the client. The client receives this encrypted TGT which contains a session key.  If the client knows the password (the secret key stored in the principal database) and can successfully decrypt the TGT, it can present the ticket encrypted with the enclosed session key to a Ticket Granting Service (TGS).  The TGS will then issue a subsequent ticket which will provide the client with the authentication they need to use a specific system or service.
</p><p>
Through the use of encrypted tickets which can only be decrypted if the client knows the secret key, secure authentication takes place.  Time stamp information is included in the tickets to prevent replay attacks.  A replay attack would be the fraudulent representation of a previously issued ticket in order to gain unauthorized access.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="compromise"></a>2.4. Compromise of Kerberos Infrastructure</h3></div></div></div><p>
The primary way in which an attacker will attempt to compromise a Kerberos Infrastructure would be to attack the Kerberos servers.  If an attacker can gain root access to a KDC, the attacker will have access to the database of encrypted passwords of the principals.  The attacker will also have access to the Kerberos software and configuration files both of which they can then modify to make the system perform authentications which should not be successful.
</p><p>
Other methods of attacking Kerberos infrastructure include replay attacks and password-guessing attacks. A replay attack would involve intercepting or otherwise acquiring a Kerberos ticket and then fraudulently representing that ticket in an attempt to gain authentication. Password guessing in a Kerberos system could be done by intercepting Kerberos tickets from the network and then making a brute force attempt to decrypt the intercepted tickets.
</p><p>
An attacker may exploit outdated software in the infrastructure.  For example, there are many problems with Kerberos version 4. Most importantly, Kerberos version 4 has a basic protocol weakness in the encryption used. The design of Kerberos 4 included the use of DES in standard mode which allows attackers to intercept and modify the ciphertext of Kerberos tickets in an undetectable way. In order to prevent these attacks, Kerberos 5 has been modified to use triple DES in Cipher Block Chaining (CBC) mode.
</p><p>
When discussing the strength of Kerberos 4, it is also important to note that many implementations of Kerberos version 4 have buffer overflow vulnerabilities. While the reference implementations of version 5 fixed the buffer overflow weaknesses in version 4, distributions of Kerberos 5 usually ship with software to provide backward compatibility to support legacy Kerberos 4 applications.  Some of the backward compatibility code for version 4 support in Kerberos version 5 releases is still believed to be vulnerable to buffer overflow attacks.
</p><p>
Therefore, due to the protocol weaknesses in version 4 and the potential for buffer overflow attacks with version 4 implementations and version 4 backward compatibility code, it is best not to support or use Kerberos version 4.
</p><p>
In summary, from this description on how a Kerberos infrastructure can be compromised, we realize that we must give great priority to the security of the Kerberos servers themselves, run up to date Kerberos software, and remain vigilant in picking good passwords and in setting good password policy.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="install"></a>3. Installing and Configuration</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="machine-configure"></a>3.1. General Machine Configuration Overview</h3></div></div></div><p>
This section of the document describes the installation and configuration of the machines and software which will function as the KDCs.  You may want to make some adjustments to the configurations suggested, but there are a few key points presented that are very important to remember when configuring your KDCs.  So, if you do decide on an alternative  configuration strategy make sure you understand the material presented here.
</p><p>
The machines will run the Kerberos daemon and store password and policy data.  Therefore, it's very important to the security of the network that these servers remain secure.  We should take every possible measure to prevent these servers from being compromised.  Pay particular attention to the security advice given in this section.
</p><p>
The key points of that security advice are that you should dedicate hardware to providing Kerberos KDC service.  You should physically secure that hardware, and you should harden GNU/Linux as much as possible on that hardware.  If a KDC is compromised, your entire Kerberos infrastructure is compromised.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="hardware"></a>3.2. Hardware</h3></div></div></div><p>
Kerberos service does not place a great demand on hardware and the Kerberos services have a capability for redundancy, therefore server hardware can be minimal. For the Kerberos servers which I've deployed I've used uniprocessor PIII machines with two hardware RAID 1 drives.  These machines are meant to handle between forty and one hundred thousand authentications per day. While servers may be deployed with redundant NIC cards, having both cards active simultaneously should be avoided. Kerberos includes the IP of the KDC in tickets, therefore difficulties authenticating may occur if the KDC is contacted on multiple interfaces by a client during an authentication session.
</p><p>
It is important to note that Kerberos service should be run on dedicated hardware. Dedicating a machine to Kerberos means that only the Kerberos administrator will need to log in on those machines. It also means that no other services, except perhaps SSH, will be run on the machines. Since all of your users passwords are stored on the Kerberos servers, it is a good idea to limit access as much as possible to the hardware.  Along with dedicating servers to Kerberos, you should also physically secure your servers as much as possible.  For Kerberos servers, this may include locking the servers in a cabinet and having a dedicated terminal attached to them.
</p><p>
In order to take advantage of Kerberos' built in capability for redundancy, you must have at least two machines running as KDCs.  Kerberos is designed to be deployed with one primary master server, and one or more secondary slave servers.  You may have as many secondary servers as you would like.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gnulinux-install"></a>3.3. GNU/Linux Installation</h3></div></div></div><p>
The servers we're installing GNU/Linux on will be dedicated to the task of performing Kerberos service, therefore we can take some extra steps to secure them.
</p><p>
First, we'll only install software that is absolutely necessary for Kerberos service. This includes the base operating system and the Kerberos packages. We should not install X or any GUI applications. SSH is optional. SSH may be installed if you wish to be able to administer the servers remotely.  However, the servers would be significantly more secure if you only provide login access to them through an attached terminal.
</p><p>
In Fedora Core based GNU/Linux, the packages required to provide Kerberos service are:
</p><pre class="screen">
krb5-server
krb5-libs
</pre><p>
</p><p>
Documentation and development libraries should not be installed on the KDC, since we do not want to use this machine for anything but the performance of KDC service.
</p><p>
The next step will be to make sure that no ports are open that do not need to be and that any necessary security patches that are needed are applied.  The methodology to determining what security patches need to be applied is depended up what package management software is installed.  To determine what ports the machine is currently listening on, the <span class="application">netstat</span> command can be used.  For example, on a machine which only ssh running we should see the following:
</p><p>
</p><pre class="screen">
bash$ netstat -an | grep -i listen | less
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN
</pre><p>
</p><p>
Finally, we'll configure the server to restrict access only to servers that need to talk to it for authentication. This should be done by editing <code class="filename">/etc/hosts.allow</code> and <code class="filename">/etc/hosts.deny</code> as well as with <code class="filename">iptables</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="realm"></a>3.4. Choosing A Realm</h3></div></div></div><p>
Realm names are case sensitive and must be unique on your network. It is a standard best practice to use your second level domain name in all uppercase letters as your realm name. If you are setting up Kerberos for only a subnet rather than your entire network, you should use the trailing domain name of the subnet.
</p><p>
When determining your realm topology, you should take the overall structure of your organization into account. If your organization has one or more remote offices or independent sub groups, they may be best included under a separate realm. Kerberos realm topology should mirror system management topology rather than physical network topology.
</p><p>
Finally, legacy systems should also be taken into account. For example, legacy Kerberos deployments or existing network topology grouping which you wish to preserve (i.e. Windows NT domains).
</p><p>
If you are installing Kerberos on a network which already has Kerberos deployed in the overall network or in a subnet, you must avoid a realm name collision. The most common occurrence of deploying Kerberos on a network with a preexisting Kerberos installation occurs when working with a network that includes an IBM SP cluster.  The best solution is to create a realm specifically for the SP cluster at third or high domain name level and then use a second level domain name for your primary Kerberos realm.
</p><p>
In this document, we'll use an example to help illustrate the design and configuration of an infrastructure.  For our example, we'll use a mythical university which was founded to educate people with, and perform research in the area of, free content - Gnu University in Dublin, Ireland.  The Gnu University Dublin example will include two Kerberos servers used to authenticate students and faculty.  The TLD for the university is gnud.ie, therefore we'll use the Kerberos realm of GNUD.IE.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="configure"></a>3.5. Kerberos Software Configuration</h3></div></div></div><p>
Now, you'll need to configure Kerberos, create an administrator, determine a policy, and initialize the Kerberos principal database.
</p><p>
The first step is to edit the <code class="filename">/etc/krb5.conf</code> configuration file.  In this file you'll need to set your realm, expand on the realm definition by specifying the Kerberos servers, and finally setting the domain realm.  For our example, this is done as follows:
</p><p>
</p><pre class="screen">
default_realm = GNUD.IE

[realms]
 GNUD.IE = {
  kdc = kerberos1.gnud.ie:88
  kdc = kerberos2.gnud.ie:88
  admin_server = kerberos1.gnud.ie:749
  default_domain = gnud.ie
 }

[domain_realm]
 .gnud.ie = GNUD.IE
 gnud.ie = GNUD.IE
</pre><p>
</p><p>
To initialize and create the Kerberos database, you must run the follow command:
</p><pre class="screen">
{Kerberos1}bash# /usr/Kerberos/sbin/kdb5_util create -s
</pre><p>
</p><p>
The <span class="emphasis"><em>-s</em></span> flag tell the KDC to create a stash file to authenticate itself. You may also use a <span class="emphasis"><em>-r</em></span> flag to specify a realm.  Specifying a realm for the new database is only necessary if you have more than one realm defined in your <code class="filename">krb5.conf</code> file.
</p><p>
Kerberos will then ask you to set the master password for your Kerberos database.  It is very important that you do not forget this password.  You will not be able to administrate your server if you do not remember the master password.
</p><p>
Next on the KDC you must edit the acl file to grant administrative access. Typically, this file is located at <code class="filename">/var/Kerberos/krb5kdc/kadm5.acl</code>. If necessary, specify the acl file location in your <code class="filename">kdc.conf</code> file.  The location of your <code class="filename">kdc.conf</code> file is specified in your <code class="filename">/etc/krb5.conf</code> file and defaults to <code class="filename">/var/Kerberos/krb5kdc/kdc.conf</code>.  For our GNU University Dublin example, we'll modify the acl file to include the following contents:
</p><p>
</p><pre class="screen">
*/admin@GNUD.IE     *
</pre><p>
</p><p>
The meaning of those acl contents are that any account which ends with a /admin in the <span class="emphasis"><em>GNUD.IE</em></span> realm is granted full access privileges.
</p><p>
Now that we've set up access for our administrative user, we need to create that administrative user. You can do this with the <span class="application">kadmin.local</span> command from a root shell on the KDC, using the <span class="application">addprinc</span> sub command.  The standard is to name the administrative account <span class="emphasis"><em>admin</em></span>.  For the Gnu University Dublin Kerberos Administrator, the following command would accomplish this:
</p><p>
</p><pre class="screen">
{Kerberos1}bash# /usr/Kerberos/sbin/kadmin.local -q "addprinc admin/admin"
</pre><p>
</p><p>
The daemons that must run on the server are <span class="application">krb5kdc</span> and <span class="application">kadmin</span>. If necessary, <span class="application">krb524</span> may also be run to provide backward compatibility to Kerberos 4 clients.  However, before starting <span class="application">krb524</span> remember our security warning about Kerberos V4 and be sure that you really need to provide that functionality. On the KDCs <span class="application">krb5kdc</span> and <span class="application">kadmin</span> should be configured to start automatically by turning them on with the <span class="application">chkconfig</span> command.
</p><p>
</p><pre class="screen">
{Kerberos1}bash# /sbin/chkconfig krb5kdc on
{Kerberos1}bash# /sbin/chkconfig kadmin on
</pre><p>
</p><p>
Finally, we can start them up manually, with the following command:
</p><p>
</p><pre class="screen">
{Kerberos1}bash# /etc/rc.d/init.d/krb5kdc start
{Kerberos1}bash# /etc/rc.d/init.d/kadmin start
</pre><p>
</p><p>
and we have a working KDC.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="principal-creation"></a>3.6. Principal Creation</h3></div></div></div><p>
You can create the first user principal in Kerberos with the following command:
</p><p>
</p><pre class="screen">
{Kerberos1}bash# kadmin.local
{Kerberos1}kadmin.local: addprinc &lt;username&gt;
</pre><p>
</p><p>
A script could be written to create principals in bulk if you have a large number of account which you will be supporting with Kerberos.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="time-sync"></a>4. Time Synchronization</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="time-sync-importance"></a>4.1. The Importance of Time Synchronization</h3></div></div></div><p>
Since the security of Kerberos authentication is in part based upon the time stamps of tickets, it is critical to have accurately set clocks on Kerberos servers. As we mentioned in the introduction to Kerberos, a short lifetime for tickets is used to prevent attackers from performing successful brute force attacks or replay attacks.
</p><p>
If you allow your clocks of your servers to drift, you will make your network vulnerable to such attacks.  Since clock synchronization is so important in the security of the Kerberos protocol, if clocks are not synchronized with in a reasonable window Kerberos will report fatal errors and refuse to function.  Clients attempting to authenticate from a machine with an inaccurate clock will be failed by the KDC in authentication attempts due to the time difference with the KDC's clock.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="intro-ntp"></a>4.2. Introduction to NTP</h3></div></div></div><p>
The Network Time Protocol (NTP) is available for the time synchronization of servers. A number of public NTP servers are available for synchronization.  NTP is capable of synchronizing client clocks within milliseconds on LANs, and tens of milliseconds over WANs. NTP servers are divided by stratum.  Primary NTP servers are classified as stratum 1. These public primary servers should not be used for synchronization of client machines due to the relatively small number of them. Public stratum 2 servers are available for client machine synchronization and synchronize their own clocks with the public stratum 1 servers. For our Kerberos servers, we'll set up NTP to query against three stratum two servers.  A maintained
list of public stratum two servers can be <a class="ulink" href="http://www.eecis.udel.edu/~mills/ntp/clock2b.html" target="_top">found here</a>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ntp-install"></a>4.3. NTP Installation and Configuration</h3></div></div></div><p>
In order to turn NTP on GNU/Linux, you must install the NTP package and edit the configuration filename.  By default, the NTP configuration filename is <code class="filename">/etc/ntp.conf</code>. The default values in the configuration are acceptable.  All that needs to be done is to add the servers we wish to use to synchronize our clocks.  Authentication is not necessary, but authentication can be enabled from additional security.  If you're using NTP servers on your LAN, you may wish to use authentication. Here is a sample <code class="filename"><a class="ulink" href="http://cryptnet.net/fdp/admin/kerby-infra/en/ntp.conf" target="_top">ntp.conf</a></code> filename from the Gnu University Dublin.
</p><p>
Finally we put a cron job in place to do the actual synchronization:
</p><pre class="screen">
30 * * * * /usr/sbin/ntpdate -s
</pre><p>
</p><p>
If our systems are behind a firewall we may need to provide use <span class="emphasis"><em>-su</em></span> rather than just <span class="emphasis"><em>-s</em></span>.  The <span class="emphasis"><em>-u</em></span> argument will direct ntpdate to use an unprivileged port for its outgoing connection to the stratum 2 time servers.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="server-replication"></a>5. Kerberos Server Replication</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="replication"></a>5.1. Description of Replication</h3></div></div></div><p>
Kerberos was designed to allow for a Master/Slave replication cluster.  While a Kerberos cluster can consist of any number of hosts, it is recommended that you have at least two.  A master which serves as the primary server and at least one slave which is available as a backup to the master.  The master and slave servers may be thought of as Primary and Secondary servers respectively.
</p><p>
Kerberos stores all of its information, both account and policy data, in application databases.  The Kerberos software distribution includes software for replicating, or copying, this data to other servers.
</p><p>
Kerberos client applications are designed to attempt authentication against secondary servers if the primary master is down.  Therefore you do not need to do any extra work during a system failure to fail over your Kerberos authentication service to the backup server.  However, the administrative features of Kerberos do not provide for automatic failover.
</p><p>
In the event that your primary server fails, <span class="application">kadmind</span> will be unavailable. Therefore, administrative functions will be unavailable until the primary server is restored or replace.  Specifically, principal management, key creation, and key changes, cannot be done during a primary server failure.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="implementation"></a>5.2. Implementation</h3></div></div></div><p>
Server replication is handled by the <span class="application">kprop</span> command. <span class="application">kprop</span> must be run on the primary master KDC.  It should be run in a scheduled cron job to keep the principal database in sync across all servers.
</p><p>
The first step in setting up replication, is to set up ACLs for <span class="application">kpropd</span>.  The <span class="application">kpropd</span> acl filename is by default located at <code class="filename">/var/Kerberos/krb5kdc/kpropd.acl</code>.  In our example, it would have the following contents:
</p><p>
</p><pre class="screen">
host/kerberos1.gnud.ie@GNUD.IE
host/kerberos2.gnud.ie@GNUD.IE
</pre><p>
</p><p>
The <code class="filename">kpropd.acl</code> file should only exist on the slave Kerberos server. In Fedora derived GNU/Linux, <span class="application">kadmin</span> will not run on a Kerberos server on which <code class="filename">/var/Kerberos/krb5kdc/kpropd.acl</code> exists.
</p><p>
Next you'll need to create host keys for your master and slave Kerberos servers:
</p><p>
</p><pre class="screen">
{Kerberos1}bash# kadmin.local
{Kerberos1}kadmin.local:  addprinc -randkey host/kerberos1.gnud.ie
{Kerberos1}kadmin.local:  addprinc -randkey host/kerberos2.gnud.ie
</pre><p>
</p><p>
The next step is to extract these keys to the keytab file.  The keytab file is a keyring which contains the cryptographic keys
needed to authenticate with the KDC.  Extraction of keys to the keytab is done with the <span class="application">ktadd</span> sub command:
</p><p>
</p><pre class="screen">
{Kerberos1}kadmin.local:  ktadd host/kerberos1.gnud.ie
{Kerberos1}kadmin.local:  ktadd host/kerberos2.gnud.ie
</pre><p>
</p><p>
Finally, we want to copy the keytab over to the slave server so that it has the keys it needs available to authenticate.
</p><p>
</p><pre class="screen">
{Kerberos2}bash# scp root@kerberos1.gnud.ie:/etc/krb5.keytab /etc
</pre><p>
</p><p>
Here is a crontab entry from the master Kerberos server used to synchronize principal databases every fifteen minutes:
</p><pre class="screen">
15 * * * * /usr/local/bin/krb5prop.sh
</pre><p>
</p><p>
Here are the contents of the <code class="filename">krb5prop.sh</code> script:
</p><pre class="screen">
#!/bin/sh

/usr/Kerberos/sbin/kdb5_util dump /var/Kerberos/krb5kdc/slave_datatrans

/usr/Kerberos/sbin/kprop -f /var/Kerberos/krb5kdc/slave_datatrans kerberos2.gnud.ie &gt; /dev/null
</pre><p>
</p><p>
Initially running this command by hand, you should see something similar to the following:
</p><p>
</p><pre class="screen">
{Kerberos1}bash# /usr/Kerberos/sbin/kdb5_util dump /var/Kerberos/krb5kdc/slave_datatrans
{Kerberos1}bash# /usr/Kerberos/sbin/kprop -d -f /var/Kerberos/krb5kdc/slave_datatrans kerberos2.gnud.ie
3234 bytes sent.
Database propagation to kerberos2.gnud.ie: SUCCEEDED
{Kerberos1}bash#
</pre><p>
</p><p>
The slave server will now synchronize its principal database with the master server.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="maintain"></a>5.3. Maintenance</h3></div></div></div><p>
With these cron jobs in place principal propagation should be sufficiently automated as to require no maintenance.  At the time of a primary KDC failure, there is no need for human intervention unless the failure will last for an extended period of time.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="client-configure"></a>6. Client Configuration</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="client"></a>6.1. General GNU/Linux Client Configuration</h3></div></div></div><p>
GNU/Linux distributions of Kerberos include a client package which contains all of the software and configuration files needed for setting up a GNU/Linux machine to be able to perform Kerberos authentications against a KDC. In Fedora derived GNU/Linux, this package is <span class="emphasis"><em>krb5-workstation</em></span>.  In order for your system to be capable of Kerberos authentication, including by authentication by kerberized applications, you must configure Kerberos on the system.
</p><p>
Configuration involves editing the <code class="filename">/etc/krb5.conf</code> file.  In this file, you must specify your realm, KDC's, administrative server, logging, default domain, and KDC information. You must also modify the <code class="filename">kdc.conf</code> file, which you are allowed to specify a location for in the <code class="filename">krb5.conf</code> file.  The default location is <code class="filename">/var/Kerberos/krb5kdc/kdc.conf</code>.  The <code class="filename">kdc.conf</code> file contains information about the encryption algorithm policy of the realm.
</p><p>
The configuration information for the system on which you wish to perform Kerberos authentications is the same information which was placed in the <code class="filename">/etc/krb5.conf</code> filename on the KDC.  Here are example <code class="filename"><a class="ulink" href="http://cryptnet.net/fdp/admin/kerby-infra/en/krb5.conf" target="_top">krb5.conf</a></code> and
<code class="filename"><a class="ulink" href="http://cryptnet.net/fdp/admin/kerby-infra/en/kdc.conf" target="_top">kdc.conf</a></code> configuration files from a client for the Gnu University Dublin example.
</p><p>
Now, you can test Kerberos authentication using the <span class="application">kinit</span> command:
</p><pre class="screen">
bash$ kinit &lt;username&gt;
</pre><p>
</p><p>
If your authentication fails, the best place to look for a description of the cause are the system log files on the client and the KDC log file on the KDC which authentication was performed against.  When trouble shooting authentication issues, it can be very helpful to have a terminal windows open to the KDC running a
<span class="emphasis"><em>tail -f</em></span> on the KDC log. In our example <code class="filename">krb5.conf</code>, the location of the
KDC log was <code class="filename">/var/log/Kerberos/krb5kdc.log</code>.
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="pam"></a>6.2. PAM</h3></div></div></div><p>
PAM, or Pluggable Authentication Module, technology which is shipped with many distributions of GNU/Linux is capable of integration with Kerberos through the <span class="application">pam_krb5</span> module. In order to use Kerberos authentication with PAM you must install the <span class="application">pam_krb5</span> module and modify the pam configuration files.
</p><p>
The <span class="application">pam_krb5</span> module comes with sample configuration filenames which are located in <code class="filename">/usr/share/doc/pam_krb5-1.55/pam.d</code>.  The basic change that these configuration files make to allow PAM controlled services to authenticate against Kerberos is similar to the following:
</p><p>
</p><pre class="screen">
auth       required     /lib/security/pam_krb5.so use_first_pass
</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="apache"></a>6.3. Apache Web Server</h3></div></div></div><p>
Kerberos can be used as an authentication mechanism for the Apache Web Server.  The <span class="application">mod_auth_kerb</span>
application is an apache module which provides that functionality. Using that module, you will be able to set Kerberos as an authentication type for access control stanzas in the <code class="filename">httpd.conf</code> file.  Be aware that while Kerberos is being used, this is a less than ideal authentication mechanism because tickets are stored on the web server rather than on the client machine.  However, if your goals is to implement a single sign-on solution or consolidate accounts, there is value here. <span class="application">mod_auth_kerb</span> is capable of supporting Kerberos 4, however that is not covered in this howto because of the known weaknesses with version 4 of the protocol.
</p><p>
The <span class="application">mod_auth_kerb</span> website can be found at <a class="ulink" href="http://modauthkerb.sourceforge.net/" target="_top">http://modauthkerb.sourceforge.net/</a>. It is important to use the HTTPS protocol when accessing a site which uses <span class="application">mod_auth_kerb</span>, since <span class="application">mod_auth_kerb</span> uses the base auth mechanism.  Base auth uses base64 encoding which can easily be translated back to plaintext. Therefore it's important that the authentication exchange is SSL encrypted to ensure that the user name and password are protected when they are transmitted to the webserver.
</p><p>
To compile apache with the <span class="application">mod_auth_krb</span> module, you must take the following steps:
</p><p>
</p><pre class="screen">
bash$ export 'LIBS=-L/usr/Kerberos/lib -lkrb5 -lcrypto -lcom_err'
bash$ export 'CFLAGS=-DKRB5 -DKRB_DEF_REALM=\\\"GNUD.IE\\\"'
bash$ export 'INCLUDES=-I/usr/Kerberos/include'
bash$ mkdir apache_x.x.x/src/modules/kerberos
bash$ cp mod_auth_kerb-x.x.x.c apache_x.x.x/src/modules/kerberos
bash$ ./configure --prefix=/home/httpd --add-module=src/modules/Kerberos/mod_auth_kerb.c
bash$ make
bash$ make install
</pre><p>
</p><p>
You should test apache to make sure that it works.  Once you have a known working copy of SSL enabled apache on the machine you can modify the <code class="filename">httpd.conf</code> filename to provide Kerberos authentication for a directory:
</p><p>
Here is an example stanza from the mod_auth_kerb apache modules which enables Kerberos 5 authentication for a directory:
</p><pre class="screen">
&lt;Directory "/home/httpd/htdocs/content"&gt;
   AllowOverride None
   AuthType KerberosV5
   AuthName "Kerberos Login"
   KrbAuthRealm GNUD.IE
   require valid-user
&lt;/Directory&gt;
</pre><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="microsoft"></a>6.4. Microsoft Windows</h3></div></div></div><p>
Due to a flawed implementation of the Kerberos standard by Microsoft, there is limited compatibility between standard MIT Kerberos and Microsoft's version.  Microsoft has published a document which describes the limited ways in which Microsoft's broken version of Kerberos is able to interoperate with standard Kerberos. That document is available
<a class="ulink" href="http://www.microsoft.com/windows2000/techinfo/planning/security/kerbsteps.asp" target="_top">here</a>.
</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="programming"></a>7. Programming With Kerberos</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="api"></a>7.1. The Kerberos API</h3></div></div></div><p>
Kerberos development libraries will allow you to Kerberos enable, or kerberize, any application.  There are two primary libraries, a general usage Kerberos library used for basic authentication and a Kerberos administration library used to perform administrative functions such as operations on principals.  In Fedora derived GNU/Linux, the rpm <code class="filename">krb5-devel</code> contains the development libraries and documentation. An API specification for these libraries can be found in the Kerberos documentation included with most Kerberos distributions. In Fedora derived GNU/Linux, it installs in: <code class="filename">/usr/share/doc/krb5-devel-1.2.2/api</code>
</p><p>
The documentation is in the LaTeX format.  In order to view it you must generate dvi filenames from it which can then be viewed with <span class="application">xdiv</span>.  This can all be done with the following commands:
</p><p>
</p><pre class="screen">
bash$ cd /usr/share/doc/krb5-devel-x.x.x/api/
bash$ su
bash# make
bash# (^d)
bash$ xdvi library.dvi
</pre><p>
</p></div></div><div class="appendix"><h2 class="title" style="clear: both"><a name="sources"></a>A. Relevant Sources for More Information</h2><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="links"></a>1. Links to related documents</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<a class="ulink" href="http://web.mit.edu/kerberos/www/krb5-1.2/krb5-1.2.6/doc/install_toc.html" target="_top">Kerberos V5 Installation Guide</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://web.mit.edu/kerberos/www/krb5-1.2/krb5-1.2.6/doc/user-guide_toc.html" target="_top">Kerberos V5 UNIX User's Guide</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://web.mit.edu/kerberos/www/krb5-1.2/krb5-1.2.6/doc/admin_toc.html" target="_top">Kerberos V5 System Administrator's Guide</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://web.mit.edu/kerberos/www/krb5-1.2/krb5-1.2.6/doc/krb425_toc.html" target="_top">Upgrading to Kerberos V5 from Kerberos V4</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.nrl.navy.mil/CCS/people/kenh/kerberos-faq.html" target="_top">Kerberos FAQ</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://web.mit.edu/kerberos/www/dialogue.html" target="_top">Designing an Authentication System: a Dialog in Four Scenes</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.ornl.gov/~jar/HowToKerb.html" target="_top">How To Kerberize Your Site</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.isi.edu/gost/brian/security/kerberos.html" target="_top">The Moron's Guide to Kerberos</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.angelfire.com/hi/plutonic/afs-faq.html" target="_top">AFS FAQ</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/docs/krb5api.html" target="_top">The Kerberos 5 API</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/docs/krb5adm_api.html" target="_top">The Kerberos 5 Admin API</a>
</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="websites"></a>2. Related web sites</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<a class="ulink" href="http://web.mit.edu/kerberos/www/" target="_top">MIT Kerberos Website</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.ntp.org/" target="_top">The NTP Distribution Website</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.eecis.udel.edu/~mills/ntp/clock2b.html" target="_top">List of Public Stratum 2 NTP Servers</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.openafs.org/" target="_top">OpenAFS Website</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.pdc.kth.se/heimdal/" target="_top">Heimdal Kerberos Website</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.crypto-publish.org/" target="_top">The Crypto Publishing Project</a> (Unrestricted source for Kerberos source code)
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.cosic.esat.kuleuven.ac.be/sesame/" target="_top">SESAME</a> (Secure European System for Applications in a Multi-vendor Environment)
</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="rfc"></a>3. Related RFCs</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc2744.txt" target="_top">RFC2744: Generic Security Service API Version 2: C-bindings</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc2743.txt" target="_top">RFC2743: Generic Security Service Application Program Interface, Version 2 Update 1</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc2712.txt" target="_top">RFC2712: Addition of Kerberos Cipher Suites to Transport Layer Security (TLS)</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc2078.txt" target="_top">RFC2078: Generic Security Service Application Program Interface, Version 2</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1964.txt" target="_top">RFC1964: The Kerberos Version 5 GSS-API Mechanism</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1510.txt" target="_top">RFC1510: The Kerberos Network Authentication Service (V5)</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1509.txt" target="_top">RFC1509: Generic Security Service API : C-bindings</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1508.txt" target="_top">RFC1508: Generic Security Service Application Program Interface</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1411.txt" target="_top">RFC1411: Telnet Authentication: Kerberos Version 4</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1305.txt" target="_top">RFC1305: Network Time Protocol (Version 3) Specification, Implementation and Analysis</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1119.txt" target="_top">RFC1119: Network Time Protocol (Version 2) Specification and Implementation</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1059.txt" target="_top">RFC1059: Network Time Protocol (Version 1) Specification and Implementation</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc958.txt" target="_top">RFC958: Network Time Protocol (NTP)</a>
</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="other-ref"></a>4. Other references</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
[<span class="citation">Applied Cryptography</span>] Second Edition, Bruce Schneier [<a class="ulink" href="http://www.amazon.com/exec/obidos/tg/detail/-/0471117099/qid%3D1085516723/sr%3D11-1/ref%3Dsr%5F11%5F1/103-3431487-6727030?v=glance" target="_top">ISBN: 0-471-11709-9</a>]
</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="resources"></a>5. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<a class="ulink" href="http://mailman.mit.edu/mailman/listinfo/kerberos" target="_top">The Kerberos Authentication System Mailing List</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://mailman.mit.edu/pipermail/kerberos/" target="_top">The Kerberos Authentication System Mailing List Archives</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="news:comp.protocols.kerberos" target="_top">comp.protocols.kerberos</a> UseNet Newsgroup
</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="companies"></a>6. Companies which provide specialist Kerberos consulting</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<a class="ulink" href="http://www.cybersafe.ltd.uk/" target="_top">Cybersafe, Ltd.</a>
</p></li><li class="listitem"><p>
<a class="ulink" href="http://www.e-techservices.com/solutions/kerberos/" target="_top">e-TechServices.com, Inc.</a> IBM Business Partner
</p></li></ul></div></div></div><div class="glossary"><div class="titlepage"><div><div><h2 class="title"><a name="idm477"></a>Glossary of Terms</h2></div></div></div><dl><dt><span class="glossterm">ASN.1</span></dt><dd class="glossdef"><p>
Abstract Syntax Notation One. ASN.1 is a notation used describe messages. It describes them as a sequence of components. The described components may be sequences also. ASN.1 is used to describe the internals of Kerberos datagrams. Unless you are a software developer, you do not need to gain an understanding of ASN.1.
</p></dd><dt><span class="glossterm">Authenticator</span></dt><dd class="glossdef"><p>
A record containing information that can be shown to have been recently generated using the session key known only by the client and server. (Definition taken from <a class="ulink" href="http://cryptnet.net/mirrors/rfcs/rfc1510.txt" target="_top">RFC1510</a>)
</p></dd><dt><span class="glossterm">Credentials</span></dt><dd class="glossdef"><p>
A ticket for the server and a session key which is used to authenticate the principal.
</p></dd><dt><span class="glossterm">Cross-Realm Authentication</span></dt><dd class="glossdef"><p>
Kerberos has the ability for a KDC is one realm to authenticate a principal in another realm if a secret is shared between the KDCs of both realms.  This inter-realm authentication is called cross-realm authentication.
</p></dd><dt><span class="glossterm">Data Encryption Standard [DES]</span></dt><dd class="glossdef"><p>
An algorithm used for encrypted which was the official algorithm of the United Sates Government.  It was developed by IBM with assistance from the NSA. The algorithm is a sixteen round block cipher which uses a 64bit block and a 56bit key.
</p></dd><dt><span class="glossterm">Forwardable Ticket</span></dt><dd class="glossdef"><p>
A ticket granted by the KDC which allows the user to request additional tickets with different IP addresses.  In effect, a TGT which allows the authenticated principal to request tickets valid on other additional machines.
</p></dd><dt><span class="glossterm">Generic Security Services Application Programming Interface [GSS-API]</span></dt><dd class="glossdef"><p>
A set of C language bindings which provide security services to its callers.  The API may be implemented on top of various
cryptographic systems.  Kerberos is one example of such a system.
</p></dd><dt><span class="glossterm">Key Distribution Center [KDC]</span></dt><dd class="glossdef"><p>
The machine and software which perform the role of the trusted arbitrator in the Kerberos protocol.
</p></dd><dt><span class="glossterm">Kerberos</span></dt><dd class="glossdef"><p>
An authentication protocol in which a trusted third party, an arbitrator, is relied upon to perform the authentication of clients on a TCP/IP network.  The protocol was designed in a way that encrypted tickets are transmitted over the network rather than traditional plaintext passwords providing for secure network authentication.
</p></dd><dt><span class="glossterm">Kerberize</span></dt><dd class="glossdef"><p>
(v.) The act of modifying a system, service, or piece of software to make use of the Kerberos protocol to perform authentication. (adj. kerberized) A system, service, or piece of software which supports authentication through Kerberos.
</p></dd><dt><span class="glossterm">Network Time Protocol [NTP]</span></dt><dd class="glossdef"><p>
A protocol used to synchronizes clocks of hosts and routers on the Internet.
</p></dd><dt><span class="glossterm">Postdatable ticket</span></dt><dd class="glossdef"><p>
In Kerberos 5, a ticket which is invalid initially and which becomes valid at some time in the future.  Normal Kerberos tickets are only valid from the time they are requested until the time that they expire.
</p></dd><dt><span class="glossterm">Preauthentication</span></dt><dd class="glossdef"><p>
Additional authentication which takes place before a KDC grants a TGT to a principal.  An example of such authentication may be the satisfaction of a biometrics system.
</p></dd><dt><span class="glossterm">Principal</span></dt><dd class="glossdef"><p>
A user or server for which a secret key is stored in the KDC database.
</p></dd><dt><span class="glossterm">Proxiable Ticket</span></dt><dd class="glossdef"><p>
In Kerberos 5, a ticket which allows you to request a TGT for alternative IP addresses.
</p></dd><dt><span class="glossterm">Realm</span></dt><dd class="glossdef"><p>
The scope of a Kerberos deployment.  Specifically, the organization domain for which the KDC is trusted to authenticate principals.
</p></dd><dt><span class="glossterm">Renewable Ticket</span></dt><dd class="glossdef"><p>
In Kerberos 5, a ticket which allows the principal a maximum renewable lifetime in addition to the standard ticket lifetime.  Renewable tickets may be used to acquire additional tickets from the KDC as long as the ticket is valid.  Renewed tickets can be requested up to the maximum renewable lifetime of the original renewable ticket.
</p></dd><dt><span class="glossterm">Salt</span></dt><dd class="glossdef"><p>
A seed value used in the encryption of a plaintext password to expand the number of possible resulting ciphertexts from a given plaintext. The use of a salt value is a defensive measure used to protect encrypted passwords against dictionary attacks.
</p></dd><dt><span class="glossterm">Stash File</span></dt><dd class="glossdef"><p>
A disk store of secret keys.
</p></dd><dt><span class="glossterm">Ticket</span></dt><dd class="glossdef"><p>
A data message consiting of the client's identity, a session key, a timestamp, and other information all encrypted with the server's secret key. It is used to perform authentication.
</p></dd><dt><span class="glossterm">Ticket Granting Service [TGS]</span></dt><dd class="glossdef"><p>
A service which is capable and authorized in the issuing of tickets to clients after they have acquire a Ticket Granting Ticket (TGT).
</p></dd><dt><span class="glossterm">Ticket Granting Ticket [TGT]</span></dt><dd class="glossdef"><p>
A ticket which contains a session key to be used in communication between the client and the KDC.
</p></dd><dt><span class="glossterm">Transitive Cross-Realm Authentication</span></dt><dd class="glossdef"><p>
In Kerberos 5, the ability to chain trust together between realms building in effect a trust path so that a principal in realm X that wishes to authenticate a principal in realm Z does not need the KDC for realm X to share a secret with realm Z if both realm X and realm Z share a secret with realm Y. Realm Y can be used as a "hop" in a trust path.
</p></dd><dt><span class="glossterm">Triple DES</span></dt><dd class="glossdef"><p>
A variant of DES in which data is encrypted three times with standard DES using two different keys.
</p></dd></dl></div></div></body></html>
