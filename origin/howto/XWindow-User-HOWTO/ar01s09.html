<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>9. Performance Considerations</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="X, X11, XFree, XFree86, X Window, GUI, windows, desktop, display, display manager, xdm"><link rel="home" href="index.html" title="The X Window User HOWTO"><link rel="up" href="index.html" title="The X Window User HOWTO"><link rel="prev" href="ar01s08.html" title="8. X Networking and Security"><link rel="next" href="ar01s10.html" title="10. Appendix"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">9. Performance Considerations</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s08.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s10.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="performance"></a>9. Performance Considerations</h2></div></div></div><p>
 As has been discussed, what we call <span class="application">X</span>, is actually
 a convergence of various components: X server, Window Manager, Desktop, etc.
 With MS Windows, the GUI desktop is tightly integrated with the operating
 system itself. This is not the case in Linux which follows the Unix tradition
 of combining various independent components to achieve some end result. So we
 have choices with each component and it's attendant configuration and
 implementation. In short, much flexibility. This is where you come in. You
 can try various possibilities and decide what you gives you the most bang for
 the buck.

</p><p>
 On low end hardware, this gives us much latitude to decrease the demand on
 available system resources. This is good because, if given the opportunity,
 <span class="application">X</span> can be quite greedy with system resources. If
 you've recently installed a new Linux distribution, you've probably been
 given a default Desktop with many bells and whistles. And something
 that will probably need a fair amount of memory and CPU to achieve a
 reasonable level of performance. If you have the horse power, this should not
 be a problem.

</p><p>
 It is often said that Linux functions very well with relatively little
 memory. This is true to a point. It does not mean though that every possible
 configuration will run with low memory. So if you want to use memory hungry
 applications, then you will have to have the memory. Or you will have to make
 sacrifices to achieve a satisfactory level of performance. It is quite
 possible to run <span class="application">X</span> with reasonable performance on
 16 Meg of RAM, and even less if you really want to push it. But you would
 have to live with some real limitations.

</p><p>
 Let's look at some of the components and ways to decrease the demand on
 system resources, in case you are at the low end on hardware, or performance
 is not up to expectations.
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1265"></a>9.1. Hardware</h3></div></div></div><p>
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
 No big surprise, but overall system performance will be best with a fast
 graphics card, a fast hard drive, and lots and lots of memory -- if you want
 <span class="emphasis"><em>both</em></span> a fast and flashy system.

 </p></li><li class="listitem"><p>
 Graphics cards are of course necessary, and the X server's video performance
 is tied to the card's chipset, and the corresponding XFree86 driver. Just
 because a given card is supported by XFree86 does not necessarily mean it is
 as well optimized as other cards! It may also perform better at a lower color
 depth (see below). It may well be worth the trip to xfree86.org to see if
 there are any notes related to your card with respect to performance or other
 issues.

 </p></li><li class="listitem"><p>
  And you might try other versions of XFree86. At this time v4.2 was just
  recently released. Some cards may still perform better with 3.3.6 due to the
  way v4.x is being incrementally developed. If you are using x4.x and
  performance is not good, then make sure you are using the latest available
  version.

 </p></li></ul></div><p>
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1276"></a>9.2. Memory</h3></div></div></div><p>
 The more memory, the better. <span class="application">X</span> will do a lot
 caching to help performance. But caching requires memory, and if there isn't
 much to start with, then we would need to reduce memory requirements. Some
 tips for those with low memory or performance problems:
</p><p>
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
 Use the <span class="command"><strong>free</strong></span> command to make sure all memory and swap is
 recognized. 

 </p></li><li class="listitem"><p>
 Make sure you don't have other system services that are hogging memory or
 CPU. Use <span class="command"><strong>top</strong></span> or <span class="command"><strong>ps</strong></span> to see what is
 running, and disable anything you can to free up memory and CPU. Again, a
 default installation may have many things running that you don't really
 need.
 </p></li><li class="listitem"><p>
 Make sure you have plenty of swap space. With low, or even modest, memory,
 swap is all the more important. A general rule of thumb is twice as much swap
 as physical memory. With low memory, this is not enough. Try four times real
 memory. Or more. If you can't create more swap partitions, see the
 <span class="command"><strong>mkswap</strong></span> man page about creating swap files instead.
 Constant disk churning is a symptom of insufficient swap space, and the
 system will be slowed as a result, sometimes drastically. Or, possibly this
 may be the symptom of a poorly behaved kernel VM system (try another kernel
 in this case).

 </p></li><li class="listitem"><p>
 Drive performance is important for swap performance. Make sure your drive has
 DMA enabled if the drive supports it, and is otherwise tuned and performing
 up to snuff. See the <span class="command"><strong>hdparm</strong></span> man page. Slow drive + slow
 card + low memory = slow system.
 </p></li><li class="listitem"><p>
 Don't use <span class="application">KDE</span> or <span class="application">GNOME</span>
 if memory is tight. These both require substantial memory, and are not
 required to just run <span class="application">X</span>. Think of these as
 usability enhancements. 32M probably may not be enough. 64M may be decent,
 depending on what other applications are being used, and other variables. 128M
 <span class="emphasis"><em>should</em></span> be adequate in most situations. 256M or more to
 be comfortable. File Managers like <span class="application">Nautilus</span> and
 <span class="application">gmc</span> can also be memory hungry. 
 
 </p></li><li class="listitem"><p>
 Use a lightweight window manger. <span class="application">WindowMaker</span>,
 <span class="application">BlackBox</span>, <span class="application">IceWM</span>,
 <span class="application">fvwm</span> (and variants),
 <span class="application">XFce</span>, all have reputations of performing well with
 low memory. There are surely others as well. Experiment.
 <span class="application">fvwm</span> is generally considered the lightest of the
 light. 
</p><p>
 A very nice desktop is still very possible even without
 <span class="application">KDE</span> or <span class="application">GNOME</span>. In fact,
 most <span class="application">KDE</span> and <span class="application">GNOME</span>
 applications can still be used even if <span class="application">KDE</span> and
 <span class="application">GNOME</span> are not running themselves (assuming the
 right libs are installed).
 
 </p></li><li class="listitem"><p>
 Don't use fancy themes or backgrounds. Plain and simple is easier on
 resources. Use a solid color background. Avoid pixmaps or gradients for any
 kind of background, including menus, title bars, etc.
 </p></li><li class="listitem"><p>
 Use a lesser screen size and color depth. 800x600x16 will not push
 <span class="application">X</span> as hard and be easier on system resources than
 higher values. While a ColorDepth of 24 is preferred, you probably will not
 notice the difference of 16 with the majority of applications.
 </p></li><li class="listitem"><p>
 Some applications require much more memory than others. Some notable hogs are
 <span class="command"><strong>Netscape</strong></span>, <span class="command"><strong>Mozilla</strong></span>, office suites, and
 <span class="command"><strong>the Gimp</strong></span>. <span class="command"><strong>Netscape</strong></span> is faster than
 <span class="command"><strong>Mozilla</strong></span> (but not as nice).
 <span class="command"><strong>Netscape-Navigator</strong></span> uses less memory than
 <span class="command"><strong>Netscape-Communicator</strong></span>. Close any of these apps when not in
 use. Use text browsers like <span class="command"><strong>lynx</strong></span> or <span class="command"><strong>w3m</strong></span>
 wherever you can, like reading locally installed HTML documentation. Much
 faster, and much less memory is required. 
 </p></li><li class="listitem"><p>
 Also, use text based clients for mail (<span class="command"><strong>mutt</strong></span> or
 <span class="command"><strong>pine</strong></span>) and news (<span class="command"><strong>slrn</strong></span> or
 <span class="command"><strong>trn</strong></span>). Again, faster and much less memory is used, 
 and these are after all text based protocols at heart anyway.
 </p></li><li class="listitem"><p>
 <span class="command"><strong>rxvt</strong></span> uses less memory than <span class="command"><strong>xterm</strong></span>,
 <span class="command"><strong>konsole</strong></span> or <span class="command"><strong>gnome-terminal</strong></span>.
 </p></li><li class="listitem"><p>
 If you run an <span class="application">X</span> session for long periods of time
 (like days or weeks), restart <span class="application">X</span> occasionally to
 free memory tied up as cache.
 </p></li><li class="listitem"><p>  
  Disable <span class="quote">&#8220;<span class="quote">backing store</span>&#8221;</span> and <span class="quote">&#8220;<span class="quote">save-unders</span>&#8221;</span> to
  reduce memory usage (performance penalty though). Check
  your Window Manager's settings too. See what modules are being loaded 
  in the <span class="quote">&#8220;<span class="quote">Modules</span>&#8221;</span> section of <code class="filename">XF86Config</code> as
  well. Your installation may have many unnecessary ones enabled, or ones you
  can't take advantage of (e.g. <span class="quote">&#8220;<span class="quote">v4l</span>&#8221;</span>, aka
  <span class="quote">&#8220;<span class="quote">Video4Linux</span>&#8221;</span>).
 </p></li><li class="listitem"><p>  
  Font servers may provide a slight performance boost by off-loading font
  rendering to the font server, while freeing the X server to do other things.
  But, the font server will use a small additional amount of memory as well.
  So, you can try it either way to see if it makes a difference.
 </p></li><li class="listitem"><p>
 Lastly, RAM is cheap now. Buy some ;-) A new drive too.
 </p></li><li class="listitem"><p>
 RAM is still just too low for <span class="application">X</span>? Check out
 <span class="application">tinyX</span>: 
 <a class="ulink" href="http://www.superant.com/smalllinux/tinyX01.html" target="_top">http://www.superant.com/smalllinux/tinyX01.html</a>.
 Reportedly runs in as little as 4 Meg of RAM.

 </p></li></ul></div><p>
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1367"></a>9.3. X over the Network</h3></div></div></div><p>
 X is not particularly network friendly. In other words, it is a bandwidth
 hog. This should not be a problem in LAN situations, but may be if trying to
 use X over the Internet.
</p><p>
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
     <span class="command"><strong>lbxproxy</strong></span>, the low bandwidth X proxy, utilizes 
     various optimizations to improve performance in low bandwidth, or 
     high latency situations. See the man page.
   </p></li><li class="listitem"><p>
     VNC (Virtual Network Computing), has some of the same advantages as 
     X for displaying applications on remote systems, but is more network
     friendly. Your Linux installation should have both VNC client and server
     packages available.
   </p></li></ul></div><p>
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1377"></a>9.4. Other Tips</h3></div></div></div><p>
 Other tips to eek out better performance:
</p><p>
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
 Use <span class="command"><strong>xset</strong></span> to speed up the keyboard. This can make the
 system feel more responsive even if it isn't really. The default always
 seemed sluggish to me. 
 </p></li><li class="listitem"><p>
 <span class="command"><strong>renice</strong></span> <span class="application">X</span> to give it a higher
 priority. Other platforms give the GUI high scheduling priority to achieve
 better responsiveness. But this is at a cost to other processes. Linux is a
 blank slate. You might include the font server (if being used), and key
 <span class="application">KDE</span> and <span class="application">GNOME</span> processes
 as well. 
</p><p>
 </p><pre class="screen">

 nice -n -10 X :0

 </pre><p>
</p><p>
 This will not do much on systems that are mostly idle.

</p><p>
 This does not work so well with <span class="command"><strong>startx</strong></span> since
 <span class="application">X</span> runs as root, and you are not root, right? So
 you would have to use something like <span class="command"><strong>sudo</strong></span> to have this done
 automatically.

 </p></li></ul></div><p>
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s08.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">8. <span class="application">X</span> Networking and Security </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 10. Appendix</td></tr></table></div></body></html>
