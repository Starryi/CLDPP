<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. XFree86</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="X, X11, XFree, XFree86, X Window, GUI, windows, desktop, display, display manager, xdm"><link rel="home" href="index.html" title="The X Window User HOWTO"><link rel="up" href="index.html" title="The X Window User HOWTO"><link rel="prev" href="ar01s01.html" title="1. Introduction"><link rel="next" href="ar01s03.html" title="3. Running X"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. XFree86</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s01.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="xfree86"></a>2. XFree86</h2></div></div></div><p>
 Virtually every Linux distribution comes with XFree86's
 <span class="application">X Window System</span> implementation. This project, of
 course, provides us the X server, but also includes an extensive suite of
 utilities and applications to help implement a fully functional GUI
 environment.

</p><p>
 In fact, the list would be just too long to list everything that
 comes with XFree86. In addition to the X server itself, here are a few of the
 noteworthy utilities:
</p><table border="0" summary="Simple list" class="simplelist"><tr><td>
   <span class="command"><strong>xdm</strong></span> - the X Display Manager.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
   <span class="command"><strong>xfs</strong></span> - the X Font Server.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>twm</strong></span> - a lightweight Window Manager.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xterm</strong></span> - the best known terminal emulator. Also,
  <span class="command"><strong>xterm3d</strong></span> and <span class="command"><strong>nxterm</strong></span>.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xwd</strong></span> - a screen and window image capturer.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xf86config</strong></span> - X server configuration utility.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xdpyinfo</strong></span> - X display information utility. This
  shows great detail about the X server.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xlsclients</strong></span> - lists currently connected X server
  clients.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xlsfonts</strong></span> - lists fonts available to
  <span class="application">X</span>.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>appres</strong></span> - lists the X <span class="quote">&#8220;<span class="quote">resources</span>&#8221;</span> that a
  program will use.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xfontsel</strong></span> - an application for viewing or
  selecting fonts.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xprop</strong></span> - a tool for displaying window  
  <span class="quote">&#8220;<span class="quote">properties</span>&#8221;</span>, such as the Class name of the client.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xset</strong></span> - sets user preferences for many things,
  including mouse, keyboard, sound (bell), etc.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xsetroot</strong></span> - a program for changing the
  <span class="quote">&#8220;<span class="quote">root window</span>&#8221;</span> appearance, e.g. setting a background color.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xvidtune</strong></span> - an application to adjust X server 
  video modes and monitor related settings.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xwininfo</strong></span> - displays information about a selected
  <span class="quote">&#8220;<span class="quote">window</span>&#8221;</span>.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
  <span class="command"><strong>xmodmap</strong></span> - a utility for manipulating keyboard and mouse
  button mappings.
 </td></tr></table><table border="0" summary="Simple list" class="simplelist"><tr><td>
   Many, many fonts. And quite a bit of documentation as well.
 </td></tr></table><p>
 There are many more. We'll just touch on a few of these utilities here. But
 feel free to explore the others. Most should have their own man pages.

</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm208"></a>2.1. Hardware</h3></div></div></div><p>
 The X server controls both input (keyboard, mouse, etc) and output (display,
 monitor) devices.

</p><p>
 Compatible hardware is a tough topic, since it is very much a moving target.
 We are forced here to avoid specifics, since this would surely change by the
 time you read this. And would be tediously lengthy anyway.

</p><p>
 So let's settle for some generalities. <span class="emphasis"><em>Most</em></span> PC type
 hardware is supported to one degree or another. Big help ;-)

</p><p>
 Rule of thumb: if it is a device that uses a long-standing, commonplace
 protocol (e.g. PS/2), it should be well supported. Conversely, if it is
 something relatively new, with  ground-breaking technology, the odds 
 are not as good. This is just the nature of the beast with open source 
 development versus manufacturers that cater more to the most popular
 platforms. Some manufacturers are more co-operative than others too.

</p><p>
 Now, some general guidelines:

</p><p>
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
     Monitors - This is easy. Linux does not really need to be compatible with
     the monitor per se. That is the job of the video card. Any monitor that
     your graphics card can drive should do fine. Including, flat panel 
     monitors.
   </p></li><li class="listitem"><p>
     Video cards - This is much tougher. The X server is determined by the 
     the chipset. Many, many are supported. But inevitably there are always 
     some newer cards, or even revised cards, that are not. And some may have
     better support and better optimization than others. Advanced
     features such as multi-headed displays, 3D, TV out, DRI, etc., have some
     support as well, though this should be researched first, as the support
     may be limited. Supported cards are listed: <a class="ulink" href="http://xfree86.org/cardlist.html" target="_top">http://xfree86.org/cardlist.html</a>.

   </p><p>
     Open source drivers are often developed incrementally. For instance, a
     particular card may work well for basic display purposes, but specialized 
     features such as 3D may come much later in the development cycle. This
     is a quite different development model than with proprietary drivers from 
     the manufacturer.

   </p></li><li class="listitem"><p>
    Keyboards -- Any standard PC type keyboard should do fine,
    including PS/2, USB and many infra-red devices. Probably many 
    <span class="quote">&#8220;<span class="quote">non-standard</span>&#8221;</span> ones too ;-)

   </p></li><li class="listitem"><p>
    Mice and other pointer devices -- Most should be supported including 
    PS/2, bus, serial, USB and many infra-red devices. Optical mice also. Unix
    has long preferred three button mice, though more buttons is supported as
    well. Many wheeled mice have X server support via the
    <span class="quote">&#8220;<span class="quote">IMPS/2</span>&#8221;</span> (IntelliMouse), or other specific protocols, though
    may require supplemental configuration for some individual applications.
    (See the <a class="link" href="ar01s10.html#links" title="10.2. Links and other References">Links</a> section.)
   
   </p></li><li class="listitem"><p>
   Laptops have their own unique set of problems since the hardware tends to
   be very specialized, and often different from what is commonly found on
   desktop style systems. <span class="application">X</span> is supported by many.
   Check for details at <a class="ulink" href="http://www.linux-laptop.net/" target="_top">http://www.linux-laptop.net/</a>.
  
  </p></li></ul></div><p>
</p><p>
 You can check the <span class="quote">&#8220;<span class="quote">hardware compatibility list</span>&#8221;</span> at your
 distribution's web site too. This should give a very good idea of what 
 <span class="emphasis"><em>should work</em></span> with your release.

</p><p>
 Newer versions of XFree86 obviously will have better hardware support. If you
 are using an older Linux version and don't have full hardware support, see
 about upgrading XFree86. Check first to see if your distribution has updates 
 for your release.

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm239"></a>2.2. XF86Config</h3></div></div></div><p>
 The primary configuration file for XFree86 is
 <code class="filename">XF86Config</code>, which may exist on your system as
 <code class="filename">XF86Config-4</code> for XFree86 v4.x, or possibly other
 variations (see man page). It is typically located as
 <code class="filename">/etc/X11/XF86Config</code>, though again, there may be
 variations in the path. If both a <code class="filename">XF86Config-4</code> 
 and <code class="filename">XF86Config</code> exist, XFree86 v4.x will use the former.
 This is a required file.

</p><p>
 <code class="filename">XF86Config</code> file defines hardware devices, and other
 critical components of the X server environment. 

</p><p>
 While this is a plain text file, and is editable, it is most often created
 during installation by whatever utility your vendor uses for this purpose. 
 XFree86 also includes the <span class="command"><strong>xf86config</strong></span> utility for this, 
 but many distributions have their own such utilities. These utilities can be
 run after installation if need be, to alter the configuration, or if new
 hardware is installed. Read your locally installed documentation first. If
 you attempt to hand edit this file, be sure to make a backup copy first since
 <span class="application">X</span> will not start if this file is not to its liking
 ;-)

</p><p>
 This file contains various <span class="quote">&#8220;<span class="quote">sections</span>&#8221;</span>. Each section defines some
 fundamental aspect of XFree86, such as <span class="quote">&#8220;<span class="quote">InputDevice</span>&#8221;</span> (mouse,
 keyboard, joystick, etc), <span class="quote">&#8220;<span class="quote">monitor</span>&#8221;</span>, or <span class="quote">&#8220;<span class="quote">screen</span>&#8221;</span>. The 
 <code class="filename">XF86Config</code> man page describes the sections and
 common values for each. Note that the values listed in the man page is not a
 comprehensive listing. There are many device specific <span class="quote">&#8220;<span class="quote">options</span>&#8221;</span>.
 Check <a class="ulink" href="http://xfree86.org" target="_top">http://xfree86.org</a> for notes
 and tips on your hardware.

</p><p>
 The author's current <code class="filename">XF86Config-4</code>, as generated by Red
 Hat's installer for XFree86 4.1:

</p><p>
 </p><pre class="screen">

Section "ServerLayout"
	Identifier "XFree86 Configured"
	Screen      0  "Screen0" 0 0
	InputDevice    "Mouse0" "CorePointer"
	InputDevice    "Keyboard0" "CoreKeyboard"
EndSection

Section "Files"
   # The location of the RGB database.
   RgbPath     "/usr/X11R6/lib/X11/rgb"

   # Multiple FontPath entries are allowed (they are concatenated together)
   # By default, Red Hat 6.0 and later now use a font server independent of
   # the X server to render fonts.
   FontPath "unix/:7100"
EndSection

# Module loading section

Section "Module"
	Load  "dbe"		# Double-buffering
	Load  "GLcore"		# OpenGL support
	Load  "dri"		# Direct rendering infrastructure
	Load  "glx"		# OpenGL X protocol interface
	Load  "extmod"		# Misc. required extensions
	Load  "v4l"		# Video4Linux
#    Load  "fbdevhw"
     Load  "pex5"
     Load  "record"
     Load  "xie"
EndSection


Section "InputDevice"
	Identifier  "Keyboard0"
	Driver      "keyboard"
	Option      "XkbLayout"	"us"

#    Option  "AutoRepeat"    "500 5"

# when using XQUEUE, comment out the above line, and uncomment the
# following line
#    Option  "Protocol"      "Xqueue"

# Specify which keyboard LEDs can be user-controlled (eg, with xset(1))
#    Option  "Xleds"         "1 2 3"

# To disable the XKEYBOARD extension, uncomment XkbDisable.
#    Option  "XkbDisable"

# To customize the XKB settings to suit your keyboard, modify the
# lines below (which are the defaults).  For example, for a non-U.S.
# keyboard, you will probably want to use:
#   Option  "XkbModel"      "pc102"
# If you have a US Microsoft Natural keyboard, you can use:
#   Option  "XkbModel"      "microsoft"
EndSection

Section "InputDevice"
	Identifier  "Mouse0"
	Driver      "mouse"
	Option      "Device" "/dev/mouse"
	Option      "Protocol" "IMPS/2"
	Option      "Emulate3Buttons" "off"
	Option      "ZAxisMapping" "4 5"
EndSection

Section "Monitor"
	Identifier "Sylvania F74"
	VendorName "Unknown"
	ModelName  "Unknown"
	HorizSync   30 - 70
	VertRefresh 55 - 120
	Option "dpms"
#    Modelines go here if necessary. Use xvidtune to get proper values.
EndSection

Section "Device"
	Identifier "ATI Rage 128"
	Driver "r128"
	BoardName "Unknown"
EndSection

Section "Device"
	Identifier "Linux Frame Buffer"
	Driver "fbdev"
	BoardName "Unknown"
EndSection

Section "Screen"
	Identifier "Screen0"
	Device "ATI Rage 128"
	Monitor "Sylvania F74"
	DefaultDepth 24
	Subsection "Display"
		Depth 24
		Modes "1400x1050" "1280x1024" "1152x864" "1024x768" "800x600"
	EndSubSection
	Subsection "Display"
		Depth 16
		Modes "1600x1200" "1400x1050" "1280x1024" "1152x864" "1024x768" "800x600"
	EndSubSection
	Subsection "Display"
		Depth 8
		Modes "1024x768" "800x600" "640x480"
	EndSubSection
EndSection

Section "DRI"
	Mode 0666
EndSection

 </pre><p>
</p><p>
 Yours may look quite different. This is just one possible configuration with
 gratuitous comments from Red Hat (and me), and is for a fairly ordinary set
 up. There is nothing exotic here like multiple screens or displays.

</p><p>
 It is beyond the scope of this document to explain this in detail. See the 
 <code class="filename">XF86Config</code> man page. Also, consider visiting 
 <a class="ulink" href="http://xfree86.org" target="_top">xfree86.org</a>
 and look for specific options that might apply to your card or other
 hardware.

</p><p>
 Just one quick note on the <span class="quote">&#8220;<span class="quote">Screen</span>&#8221;</span> section above. Notice there are
 three sub-sections, identified as <span class="quote">&#8220;<span class="quote">Display</span>&#8221;</span>. Each sub-section
 has a different <span class="quote">&#8220;<span class="quote">Depth</span>&#8221;</span> specified, (a.k.a. ColorDepth). The
 <span class="quote">&#8220;<span class="quote">Modes</span>&#8221;</span> also vary somewhat according to the respective
 <span class="quote">&#8220;<span class="quote">Depth</span>&#8221;</span> setting. The active <span class="quote">&#8220;<span class="quote">Display</span>&#8221;</span> sub-section
 that will be used, is determined by the <span class="quote">&#8220;<span class="quote">DefaultDepth</span>&#8221;</span> setting 
 (unless over-ridden by command line options). The default in this example is
 defined as <span class="quote">&#8220;<span class="quote">24</span>&#8221;</span>, so the first sub-section will be used. Also,
 the highest <span class="quote">&#8220;<span class="quote">Mode</span>&#8221;</span> listed in this sub-section will be the default
 mode (resolution), which here is the first one listed. The first listed mode 
 also determines the viewable screen area, which can be smaller than the mode
 (resolution) itself. In which case, you would have a virtual desktop that is
 larger than the viewable screen. To have the viewable screen, and resolution 
 match, have the largest value as the first value listed for each
 <span class="quote">&#8220;<span class="quote">Mode</span>&#8221;</span>.

</p><p>
 Another note on the <span class="quote">&#8220;<span class="quote">Modes</span>&#8221;</span> here: what you see is the result of
 my choices during Red Hat's <span class="command"><strong>Xconfigurator's</strong></span> configuration. These 
 are standard resolutions, but do not have to be! This is only limited by what
 your hardware can support. And you don't have to use standard width x height 
 ratios either. Something like <code class="literal">1355x1112</code> is a valid setting (if
 your hardware supports it and it floats your boat!).

</p><p>
 The X server will reject any <span class="quote">&#8220;<span class="quote">Modes</span>&#8221;</span> it thinks are invalid. You
 can cycle through valid modes to change screen resolution with
 <code class="literal">Ctrl-Alt-+</code> and <code class="literal">Ctrl-Alt--</code> (that's the
 keypad plus and minus keys).

</p><p>
 In versions prior to v4.x, you would also see many <span class="quote">&#8220;<span class="quote">Modeline</span>&#8221;</span> 
 statements that attempted to define the monitor's capabilities. These
 statements would look something like:

</p><p>
 </p><pre class="screen">

 # 1024x768 @ 100Hz, 80.21 kHz hsync
 Modeline "1024x768"  115.5  1024 1056 1248 1440  768  771  781  802 -HSync -VSync

 </pre><p>
</p><p>
 Explicit <span class="quote">&#8220;<span class="quote">Modeline</span>&#8221;</span> definitions are not required as of 4.x ;-)
 This sometimes required hand editing to get optimal values in earlier versions of 
 
XFree86, though is generally not necessary with v4.x. 
<a class="ulink" href="http://tldp.org/HOWTO/XFree86-Video-Timings-HOWTO/index.html" target="_top">The XFree86 Video
 Timings HOWTO
</a>
 has a nice, but rather technical, explanation of this.

</p><p>
 If whatever configuration utility you are using, does not automatically
 recognize your video card or monitor specifications correctly, you are
 unlikely to get an optimal configuration. In such cases, you may have to
 manually supply the correct values. This should be available from your 
 owner's manual (you kept that, right?). Or, check the manufacturer's web site.

</p><p>
 Again, hand editing of this file is generally unnecessary. Should you decide
 this is indeed necessary, be careful. One small error may cause
 <span class="application">X</span> to fail. Any changes to this file will require
 restarting <span class="application">X</span> for the changes to take
 effect.

</p><p>
 Using somebody else's <code class="filename">XF86Config</code> file, is generally a
 bad idea since they are unlikely to have identical hardware.

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm300"></a>2.3. xvidtune and Monitor Tuning</h3></div></div></div><p>
 You probably want to get the most out of your hardware. If
 <span class="application">X</span> isn't configured optimally, consider re-running
 your vendor's <span class="application">X</span> configuration utility and try to
 get better results. It is highly unlikely that you could hurt anything by
 experimenting. Most modern monitors now have safeguards that prevent a
 meltdown ;-)
 
</p><p>
 If you over-do it though <span class="application">X</span> may not be able to
 start. For this reason, I prefer to use the <span class="quote">&#8220;<span class="quote">startx</span>&#8221;</span> way of
 starting <span class="application">X</span> (see below) while
 <span class="quote">&#8220;<span class="quote">experimenting</span>&#8221;</span>. This way if <span class="application">X</span>
 crashes, the display manager (GUI login) will not loop and cause you severe
 headaches. <span class="command"><strong>startx</strong></span> just gracefully goes back to a text
 console screen, where an error message may be visible.

</p><p>
 Another way of tweaking monitor related settings is with XFree86's 
 <span class="command"><strong>xvidtune</strong></span> program. This is run interactively and can be
 used to adjust various settings (see man page). The simple dialog box has
 sliders and buttons that allow user input and adjustment. The top part has
 horizontal monitor settings on the left, and vertical settings on the right.
 The buttons just below the sliders can be used to adjust each.

</p><p>
 This is sometimes used to adjust the viewable screen area, such as to center
 it, or increase its size to fill the monitor's viewport. When
 <span class="command"><strong>xvidtune</strong></span> is launched, it defaults to the current settings.

</p><p>
 The bottom left corner has buttons that can <span class="quote">&#8220;<span class="quote">Apply</span>&#8221;</span> new
 settings, <span class="quote">&#8220;<span class="quote">Test</span>&#8221;</span> new settings, or <span class="quote">&#8220;<span class="quote">Show</span>&#8221;</span> current
 settings (i.e. dump to screen), among other things. Any changes made here are
 not saved. If new settings are <span class="quote">&#8220;<span class="quote">Applied</span>&#8221;</span>, it is just for
 the current session. Example output of <span class="command"><strong>xvidtune</strong></span>
 <span class="quote">&#8220;<span class="quote">Show</span>&#8221;</span>:

</p><p>
 </p><pre class="screen">

 Vendor: Unknown, Model: Unknown
 Num hsync: 1, Num vsync: 1
 hsync range 0:  30.00 -  70.00
 vsync range 0:  55.00 - 120.00
 "1400x1050"   122.00   1400 1488 1640 1880   1050 1052 1064 1082 +hsync +vsync

 </pre><p>
</p><p>
 The last line is the <span class="quote">&#8220;<span class="quote">Modeline</span>&#8221;</span> being used to drive the current
 screen. See <a class="ulink" href="http://tldp.org/HOWTO/XFree86-Video-Timings-HOWTO/index.html" target="_top">The XFree86 Video
 Timings HOWTO
</a>, 
 for more on <span class="quote">&#8220;<span class="quote">Modelines</span>&#8221;</span>.


</p><p>
 You can test modifications, and apply them to the current session.
 For changes to be made permanent, they will have to be added manually to 
 the <span class="quote">&#8220;<span class="quote">Monitor</span>&#8221;</span> section of <code class="filename">XF86Config</code> (or
 <code class="filename">XF86Config-4</code> for v.4.x) with a text editor.

</p><p>
  <span class="command"><strong>xvidtune</strong></span> will dutifully warn of you of the hazards of
  playing with the monitor settings. It is unlikely you can hurt anything 
  with modern monitors. But it is best used to make minor adjustments. Use at
  your own risk!

</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s01.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Introduction </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Running X</td></tr></table></div></body></html>
