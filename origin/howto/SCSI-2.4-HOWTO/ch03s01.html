<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>1. SCSI Addressing</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="The Linux 2.4 SCSI subsystem HOWTO"><link rel="up" href="ch03.html" title="Chapter 3. Names and Addresses"><link rel="prev" href="ch03.html" title="Chapter 3. Names and Addresses"><link rel="next" href="ch03s02.html" title="2. Device Names"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1. SCSI Addressing</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Names and Addresses</th><td width="20%" align="right"> <a accesskey="n" href="ch03s02.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="scsiaddr"></a>1. SCSI Addressing</h2></div></div></div><p>
Linux has a four level hierarchical addressing scheme for SCSI devices:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SCSI adapter number [host]</p></li><li class="listitem"><p>channel number [bus]</p></li><li class="listitem"><p>id number [target]</p></li><li class="listitem"><p>lun [lun]</p></li></ul></div><p>
</p><p>
"Lun" is the common SCSI abbreviation of Logical Unit Number. The terms
in brackets are the name conventions used by device pseudo file system
(devfs). "Bus" is used in preference to "channel" in the description below.
</p><p>
The SCSI adapter number is typically an arbitrary numbering of the adapter
cards on the internal IO buses (e.g. PCI, PCMCIA, ISA etc) of the computer.
Such adapters are sometimes termed as HBAs (host bus adapters).
SCSI adapter numbers are issued by the kernel in ascending order starting 
with 0.
</p><p>
Each HBA may control one or more SCSI buses. The various types of SCSI
buses are listed in <a class="xref" href="apa.html" title="Appendix A. Common bus types (SCSI and other)">Appendix A, <i>Common bus types (SCSI and other)</i></a>.
</p><p>
Each SCSI bus can have multiple SCSI devices connected to it. In SCSI
parlance the HBA is called the "initiator" and takes up one SCSI id
number (typically 7). The initiator
<a href="#ftn.idm152" class="footnote" name="idm152"><sup class="footnote">[1]</sup></a>
talks to targets which are commonly
known as SCSI devices (e.g. disks). On SCSI parallel buses the number
of ids is related to the width. 8 bit buses (sometimes called "narrow")
can have 8 SCSI ids of which 1 is taken by the HBA leaving 7 for SCSI
devices. Wide SCSI buses are 16 bits wide and can have a maximum of 15
SCSI devices (targets) attached. The SCSI 3 draft standard allows a
large number of ids to be present on a SCSI bus.
</p><p>
Each SCSI device can contain multiple Logical Unit Numbers (LUNs). These
are typically used by sophisticated tape and cdrom units that support
multiple media.
</p><p>
So Linux's flavour of SCSI addressing is a four level hierarchy:
</p><pre class="programlisting">
&lt;scsi(_adapter_number), channel, id, lun&gt;
</pre><p>
Using the naming conventions of devfs this becomes:
</p><pre class="programlisting">
&lt;host, bus, target, lun&gt;
</pre><p>
</p><div class="footnotes"><br><hr style="width:100; text-align:left;margin-left: 0"><div id="ftn.idm152" class="footnote"><p><a href="#idm152" class="para"><sup class="para">[1] </sup></a>
SCSI standards allow for multiple initiators to be present on a single bus.
This is not well supported in Linux although there are patches around
that improve this situation.
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 3. Names and Addresses </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2. Device Names</td></tr></table></div></body></html>
