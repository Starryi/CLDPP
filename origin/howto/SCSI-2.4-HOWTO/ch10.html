<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 10. Lower Level drivers</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="The Linux 2.4 SCSI subsystem HOWTO"><link rel="up" href="index.html" title="The Linux 2.4 SCSI subsystem HOWTO"><link rel="prev" href="ch09s04.html" title="4. Generic driver (sg)"><link rel="next" href="ch10s01.html" title="1. Pseudo drivers"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 10. Lower Level drivers</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch09s04.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch10s01.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="llevel"></a>Chapter 10. Lower Level drivers</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="ch10s01.html">1. Pseudo drivers</a></span></dt></dl></div><p>
There are too many SCSI low level drivers to detail in this document.
As an alternative to giving any superficial overview here, the reader is 
given suggestions of places to look for further information.
</p><p>
The source directory for the SCSI subsystem in the Linux kernel is a good place
to start: <code class="filename">/usr/src/linux/drivers/scsi</code>. Several drivers
have information in a "readme" file: <code class="filename">README.&lt;driver_name&gt;
</code>. Others have extensive information at the top of their ".c" file
This information often includes a version number, change logs and kernel
boot time and module load
time options. Often the latter information can be found in the installation
guides of the various Linux distributions. Sometimes the driver maintainer will
have a web site containing the most recent bug fix information. Official
maintainers are listed in the <code class="filename">/usr/src/linux/MAINTAINERS</code>
file. If there is nothing there, look in the relevant ".c" file in the SCSI
subsystem directory. Some old drivers have no active maintainers. In such cases
posting to the linux-scsi newsgroup may help [see <a class="link" href="apf.html#N1">N1
</a>].
</p><p>
For an overview of the drivers supplied with the kernel source tree,
use one of the kernel configuration programs (e.g. 
<span class="command"><strong>cd /usr/src/linux; make menuconfig</strong></span>). The help
information associated with each selection can be found together in one
(large) flat file at 
<code class="filename">/usr/src/linux/Documentation/Configure.help</code>.
Drivers can be obtained from other places. It is unlikely that a SCSI
driver made for the lk 2.2 series (or before) will build or operate
successfully in the lk 2.4 series. [From a programmatic viewpoint
there are not a lot of things that need changing.] Drivers may even
be only available in binary form, in which case make sure that you
trust the provider and follow their instructions closely.
</p><p>
Lower level drivers can support either of 2 error handling strategies.
The older one is considered obsolete while the newer one is often called
"new_eh". The advantage of "new_eh" is that it uses a separate kernel
thread per host (named "scsi_eh_&lt;n&gt;" where &lt;n&gt; is the host number) to 
facilitate error recovery. Both error handling strategies were also
available in the lk 2.2 series in which very few adapter drivers used
"new_eh". In the lk 2.4 series, more 
drivers are using it and the plan for the forthcoming lk 2.5 development
series is to drop mid level support for the older, obsolete error strategy.
</p><p>
Drew Eckhardt's SCSI-HOWTO document [see reference <a class="link" href="apf.html#W7">W7
</a>] goes into much more detail about lower level (adapter) drivers
than this document. Since that SCSI-HOWTO is 5 years old, many things
have changed and more drivers have been added.
</p><p>
There is a lower level driver called <span class="emphasis"><em>scsi_debug</em></span>
that simulates one or more "direct access" devices (i.e. disk(s)) using 
the computer's memory. From lk 2.4.17 it acts as a "ram disk". While there
are many ram disk implementations available in Linux (e.g. ramfs), 
scsi_debug may help to isolate a defective scsi driver in a problematic 
installation. See <code class="filename">scsi_debug.c</code> for further information.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch09s04.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch10s01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4. Generic driver (sg) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 1. Pseudo drivers</td></tr></table></div></body></html>
