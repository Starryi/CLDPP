<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>12.  Vi Tutorial</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Vim Color Editor HOW-TO (Vi Improved with syntax color highlighting)"><link rel="up" href="index.html" title="Vim Color Editor HOW-TO (Vi Improved with syntax color highlighting)"><link rel="prev" href="ar01s11.html" title="11.  Vim Tutorial"><link rel="next" href="ar01s13.html" title="13.  Vim Reference Card"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12. 
      Vi Tutorial 
    </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s11.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s13.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vimtut"></a>12. 
      Vi Tutorial 
    </h2></div></div></div><p>
      In this tutorial, we describe some "advanced" 
      <span class="emphasis"><em>
        vi 
      </em></span>
      concepts and commands, so you can appreciate the power of 
      <span class="emphasis"><em>
        vi 
      </em></span>
      and so you decide how to build your knowledge of 
      <span class="emphasis"><em>
        vi 
      </em></span>
      commands. Nearly all 
      <span class="emphasis"><em>
        vi 
      </em></span>
      references list the available commands, but many don't bother to discuss 
      how the commands interrelate; this topic is the main purpose of this 
      tutorial. 
    </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="cursor_movement"></a>12.1. 
        Cursor Movement Commands 
      </h3></div></div></div><p>
        The 
        <span class="emphasis"><em>
          vi 
        </em></span>
        cursor movement commands allow you to position the cursor in the file 
        and/or on the screen efficiently, with a minimum number of keystrokes. 
        There are oodles of cursor movement commands - don't try memorizing 
        them all at once! Later, we'll see that much of the power of 
        <span class="emphasis"><em>
          vi 
        </em></span>
        comes from mixing cursor movement commands with other commands to 
        delete, change, yank (copy), and filter text. 
      </p><p>
        Please edit a large text file (say, 
        <span class="emphasis"><em>
          wknight 
        </em></span>
        ) so you can experiment with each command as it is described. Keep in 
        mind these commands will only work in Command Mode, not Insert Mode; 
        if you start getting your "commands" in your text, press the ESC key 
        to return to Command Mode. 
      </p><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                cursor keys 
              </em></span>
              : As we've seen, cursor keys move by single character amounts 
              left, down, up, and right. Movement above the top of the file, 
              below the bottom, to the right of the end of a line, or left of 
              the beginning is not allowed (no line wrapping). 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                hjkl 
              </em></span>
              : When 
              <span class="emphasis"><em>
                vi 
              </em></span>
              was written (around 1978), many terminals on UNIX systems did 
              not have cursor keys! 
              <span class="emphasis"><em>
                h, j, k, 
              </em></span>
              and 
              <span class="emphasis"><em>
                l 
              </em></span>
              were chosen as commands to move left, down, up, and right, 
              respectively. Try them! Most 
              <span class="emphasis"><em>
                vi 
              </em></span>
              diehards prefer these to the cursor keys because 
              </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
                    <span class="emphasis"><em>
                      (a) 
                    </em></span>
                    they are in the same place on all keyborads, and 
                  </p></li><li class="listitem"><p>
                    <span class="emphasis"><em>
                      (b) 
                    </em></span>
                    they fit nicely under the fingers, unlike most cursor 
                    keys, which are arranged in a box or "T" or some other 
                    nonlinear shape. 
                  </p></li></ul></div><p>
              Why h, j, k, and l? Well, in the ASCII character set, CTRL-H is 
              backspace (moves left), CTRL-J is linefeed (moves down), and, of 
              course, k and l are next to h and j, so you see, they're 
              mnemonic. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                0 
              </em></span>
              : ("zero", not "oh") Move to the beginning of current line. (To 
              try this and the next few commands, use the cursor keys or 
              <span class="emphasis"><em>
                h j k l 
              </em></span>
              to move to an indented text line that contains few "e" 
              characters. If you can't find an indented line in your file, 
              create one by inserting a few space characters at the beginning 
              of a line.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                ^ 
              </em></span>
              : Move to first non-white character of current line. (For 
              indented line, 0 and ^ are different.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                $ 
              </em></span>
              : Move to last character of current line. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                tC 
              </em></span>
              : Move to (but not on) next character c in current line. (Press 
              0, then press te. This will move to the first e in the curent 
              line.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                fC 
              </em></span>
              : Find (move on top of) next character c in current line. (Press 
              fe, and the cursor will find - that is, move on top - the next e 
              in the current line.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                TC 
              </em></span>
              : Move to (but not on) the previous character c in current line 
              (Press $, then Te.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                FC 
              </em></span>
              : Find (move on top of) the previous character c in current 
              line. (Press Fe.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                n| 
              </em></span>
              : Move to column n in current line. (Try 20 |. The digits 2 and 
              0 will not be displayed as you type them, but when you press | 
              the cursor will move to column 20.) Try some experiments with t 
              f T F | . When you do something illegal, 
              <span class="emphasis"><em>
                vi 
              </em></span>
              will beep your terminal. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                w 
              </em></span>
              : Forward to beginning of next "small" word ( a "small" word 
              consists of unbroken alphanumeric characters or punctuation 
              characters, but not mixed alphanumeric and punctuation). Try 
              tapping w a dozen times or so - note what happens at 
              punctuation. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                W 
              </em></span>
              : Forward to beginning of next "big" word (alphanumeric and 
              punctuation mixed). Try W a dozen times or so. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                b 
              </em></span>
              : Backward to beginning of "small" word. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                B 
              </em></span>
              : Backward to beginning of "big" word. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                e 
              </em></span>
              : Forward to end of "small" word. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                E 
              </em></span>
              : Forward to end of "big" word. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                + Return 
              </em></span>
              : Move to first non-white space character on next line. (+ and 
              the Return key have the same effect.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                - 
              </em></span>
              : Move to first non-white space character on previous line. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                ) 
              </em></span>
              : Move to the end of sentence. (A sentence ends either at a 
              blank line or at a period or examination mark followed by two 
              space characters or at the end of a line. A period or 
              exclamation mark followed by one space character does not end a 
              sentence; this is correct behaviour, according to traditional 
              rules of how sentences should appear in typed documents, but 
              often appears wrong to those who have never suffered through a 
              formal typing class.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                ( 
              </em></span>
              : Move to beginning of sentence. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                } 
              </em></span>
              : Move to end of paragraph. (Paragraphs are seperated with blank 
              lines, by 
              <span class="emphasis"><em>
                vi 
              </em></span>
              's definition.) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                { 
              </em></span>
              : Move to beginning of paragraph. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                H 
              </em></span>
              : Move to home position (top line) on the screen 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                M 
              </em></span>
              : Move to middle line on the screen. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                L 
              </em></span>
              : Move to last line on the screen. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                nG 
              </em></span>
              : Move to line n. If n is not given, move to the last line in 
              the file. (Try 15G to move to line 15, for example. The CTRL-G 
              command displays the name of the file, some status information, 
              and the current line number. To move to the top of the file: 1G) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                CTRL-d 
              </em></span>
              : Scroll down half-screen (see note). 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                CTRL-u 
              </em></span>
              : Scroll up half-screen (see note). 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                CTRL-f 
              </em></span>
              : Move forward one-screen (see note). 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                CTRL-b 
              </em></span>
              : Move backward one-screen (see note). 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                Note 
              </em></span>
              : These four scrolling/paging commands cannot be used with the 
              delete, change, yank, or filter commands. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                /reg_exp 
              </em></span>
              : Move to next occurrence of the regular expression reg_exp When 
              you press /, the cursor drops to the lower left corner of the 
              screen and waits for you to type in the regular expression. 
              Press the Return key to finish; 
              <span class="emphasis"><em>
                vi 
              </em></span>
              then searches forward for the next occurrence of the regular 
              expression. For example, press /the followed by Return. This 
              moves forward to the next occurrence of the, perhaps imbedded in 
              the middle of some longer word (other, weather, etc.). If you 
              just press / and then Return, 
              <span class="emphasis"><em>
                vi 
              </em></span>
              searches for the next occurrence of whatever the last regular 
              expression was that you searched for. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                n 
              </em></span>
              : Has the same effect as pressing / and then Return; i.e., 
              searches for the next occurrence of whatever the last regular 
              expression was that you searched for. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                ?reg_exp 
              </em></span>
              : Searches backward, rather than forward. If no reg_exp is 
              given, it searches for the last regular expression that was 
              entered. Both / and ? wrap around, so searching "below" the 
              bottom or "above" the top of the file is legal. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                N 
              </em></span>
              : Same as pressing ? and then Return. 
            </p></li></ul></div><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="repeat_counts"></a>12.2. 
        Repeat Counts 
      </h3></div></div></div><p>
        Many of the movement commands discussed above can be preceded with a 
        repeat count; the movement is simply repeated the given number of 
        times: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                3w 
              </em></span>
              : Move forward three words 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                5k 
              </em></span>
              : Move up four characters 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                3fa 
              </em></span>
              : Find the third succeeding a in current line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                6+ 
              </em></span>
              : Move down six lines 
            </p></li></ul></div><p>
        For some commands, the "repeat counts" has special meaning: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                4H 
              </em></span>
              : Move to Line 4 on the screen (home plus 3) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                8L 
              </em></span>
              : Move to the eigth line from the bottom of the screen 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                3$ 
              </em></span>
              : Move to the end of the third line down 
            </p></li></ul></div><p>
        For some commands (e.g., ^) the repeat count is ignored; for others 
        (e.g., / and ? ) it is illegal 
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="deleting_text"></a>12.3. 
        Deleting Text 
      </h3></div></div></div><p>
        We've seen that 
        <span class="emphasis"><em>
          dd 
        </em></span>
        deletes the current line. This can be used with a repeat count: 3dd 
        deletes three lines, the current line, and the two following lines. 
      </p><p>
        The d command can be used as a "prefix" on most of the movement 
        commands above to delete nearly arbitrary chunks of text. When used 
        with d, the movement commands are called target specifiers. d can be 
        given a repeat count. (As you try these experiments, remember to press 
        u after each command to undo the deletion). 
      </p><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                dw 
              </em></span>
              : Delete "small" word forward 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                d3w 
              </em></span>
              : Delete three "small" words forward 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                3dw 
              </em></span>
              : Three times, delete "small" word forward 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                3d3w 
              </em></span>
              : Three times, delete three "small" words forward (that is, 
              delete nine "small" words forward) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                d+ 
              </em></span>
              : Delete current line and next line down 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                d/the 
              </em></span>
              : Delete from current character up to but not including the next 
              occurrence of the pattern the. 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                d$ 
              </em></span>
              : Delete to end of line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                d0 
              </em></span>
              : Delete to beginning of line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                d30G 
              </em></span>
              : Delete from the curent line to and including Line 30 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                dG 
              </em></span>
              : Delete from current line to and including last line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                d1G 
              </em></span>
              : Delete from current line to and including Line 1 
            </p></li></ul></div><p>
        To delete single characters, use x. x can be given a repeat count: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                15x 
              </em></span>
              : Delete current and 14 following characters 
            </p></li></ul></div><p>
        x is actually just an abbreviation of d1; that is, delete one 
        character right. 
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="changing_text"></a>12.4. 
        Changing Text 
      </h3></div></div></div><p>
        The c command is similar to d, except it toggles 
        <span class="emphasis"><em>
          vi 
        </em></span>
        into Insert Mode, allowing the original (unwanted) text to be changed 
        to something else. 
      </p><p>
        For example, put the cursor on the beginning of a word (press w to get 
        to the beginning of the next word). Then, press cw to change that 
        word. On the screen, the last character in the word being changed will 
        be replaced with a 
        <span class="emphasis"><em>
          $ 
        </em></span>
        symbol indicating the boundary of the change; type in a new word (you 
        will overwrite the original word on the screen) and press the ESC key 
        when done. Your input may be longer or shorter than the word being 
        changed. 
      </p><p>
        Put the cursor at the beginning of a line containing at least three 
        words, and try c3w to change three words. Try c$ to change to the end 
        of the current line. In all cases where the change affects only the 
        current line, the boundary of the change is indicated with $. 
      </p><p>
        When a change affects more than just the current line, 
        <span class="emphasis"><em>
          vi 
        </em></span>
        deletes the original text from the screen and toggles into Insert 
        Mode. For example, try c3+ to change the current and the next three 
        lines; 
        <span class="emphasis"><em>
          vi 
        </em></span>
        deletes the four original lines from the screen and toggles into 
        Insert Mode in a new blank line. As usual, press the ESC key when you 
        have finished entering your new text. 
      </p><p>
        Some other change commands: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                cc 
              </em></span>
              : Change current line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                5cc 
              </em></span>
              : Change five lines (current and next four) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                c/the 
              </em></span>
              : Change from current character up to but not including the next 
              occurrence of the pattern the 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                c$ 
              </em></span>
              : Change to end of line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                c30G 
              </em></span>
              : Change from the current line to and including Line 30 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                cG 
              </em></span>
              : Change from curernt line to and including last line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                c1G 
              </em></span>
              : Change from curernt line to and including Line 1 
            </p></li></ul></div><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="yanking_text"></a>12.5. 
        Yanking (Copying) Text 
      </h3></div></div></div><p>
        The y command yanks a copy of text into a buffer; the yanked text can 
        then be put (or pasted) elsewhere in the file using p or P. 
      </p><p>
        The simplest form of yank is yy to yank the current line; after yy, 
        try p to put a copy of the yanked line after the cursor. Following yy, 
        you can make as many copies of the yanked line as you want by moving 
        up and down in the file and pressing p. 
      </p><p>
        To copy multiple lines, try, for example, 5yy (yank the current and 
        next four lines). p puts a copy of the yanked lines after the cursor; 
        the sequence 5yyp "works" but it probably doesn't do what you would 
        like. The P command is like p, but puts a copy of the yanked text 
        ahead of the cursor; try the sequence 5yyP. 
      </p><p>
        Other yank commands: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                y3w 
              </em></span>
              : Yank three words 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                y$ 
              </em></span>
              : Yank to end of current line 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                y1G 
              </em></span>
              : Yank from current line to and including Line 1 
            </p></li></ul></div><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="filtering_text"></a>12.6. 
        Filtering text 
      </h3></div></div></div><p>
        The filter command 
        <span class="emphasis"><em>
          ! 
        </em></span>
        , prompts for the name of a UNIX command (which should be a filter), 
        then passes selected lines through the filter, replacing those 
        selected line in the 
        <span class="emphasis"><em>
          vi 
        </em></span>
        buffer with the output of the filter command. 
        <span class="emphasis"><em>
          vi 
        </em></span>
        's ability to pass nearly arbitrary chunks of text through any UNIX 
        filter adds incredible flexibility to 
        <span class="emphasis"><em>
          vi 
        </em></span>
        , at no "additional cost" in size or performance to 
        <span class="emphasis"><em>
          vi 
        </em></span>
        itself. 
      </p><p>
        Some examples will help illustrate. Create a line in your file 
        containing just the word who and absolutely no other text. Put the 
        cursor on this line, and press 
        <span class="emphasis"><em>
          !! 
        </em></span>
        This command is analogous to dd, cc, or yy, but instead of deleting, 
        changing, or yanking the current line, it filters the current line. 
        When you press the second !, the cursor drops down to the lower left 
        corner of the screen and a single ! is displayed, prompting you to 
        enter the name of a filter. As the filter name, type sh and press the 
        Return key. 
        <span class="emphasis"><em>
          sh 
        </em></span>
        (the Bourne shell) is a filter! It reads standard input, does some 
        processing of its input (that is, executes commands), and sends its 
        output (the output of those commands) to standard output. Filtering 
        the line containing who through sh causes the line containing who to 
        be replaced with a list of the current users on the system - right in 
        your file! 
      </p><p>
        Try repeating this process with 
        <span class="emphasis"><em>
          date 
        </em></span>
        . That is, create a line containing nothing but the word 
        <span class="emphasis"><em>
          date 
        </em></span>
        , then put the cursor on the line, and press 
        <span class="emphasis"><em>
          !!sh 
        </em></span>
        and the Return key. The line containing 
        <span class="emphasis"><em>
          date 
        </em></span>
        is replaced with the output of the 
        <span class="emphasis"><em>
          date 
        </em></span>
        command. 
      </p><p>
        Put your cursor on the first line of the output of who. Count the 
        number of lines. Suppose, for example, the number is six. Then select 
        those six lines to be filtered through sort; press 
        <span class="emphasis"><em>
          6!!sort 
        </em></span>
        and the Return key. The six lines will be passed through sort, and 
        sort's output replaces the original six lines. 
      </p><p>
        The filter command can only be used on complete lines, not on 
        characters or words. 
      </p><p>
        Some other filter commands (here, &lt; CR &gt; means press Return): 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                !/the &lt; CR &gt; sort &lt; CR &gt; 
              </em></span>
              : Sort from the current line up to and including the next line 
              containing the 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                !1Ggrep the &lt; CR &gt; 
              </em></span>
              : Replace from the current line to and including Line 1 with 
              just the lines that contain the 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                !Gawk '{print $1}' &lt; CR &gt; 
              </em></span>
              : From the current line to the end of file, replace every line 
              with just its first word. 
            </p></li></ul></div><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="marking_lines"></a>12.7. 
        Marking Lines and Characters 
      </h3></div></div></div><p>
        You can mark lines and characters to be used as targest for movement, 
        deletion, change, yanking, and filtering using the command mc, where c 
        is a lowercase letter. 
      </p><p>
        For example, put the cursor in the middle of some word and press ma. 
        This marks the character under the cursor as mark a. 
      </p><p>
        Now, move the cursor off the marked character and to a different line 
        ( use the cursor keys, CTRL-u, or whatever). To return to the marked 
        line, press 'a (that is, single quote, then a). This moves to the 
        first non-white space character on the line containing mark a. 
      </p><p>
        Move off that line again. To return to the marked character, press `a 
        (that is, backquote, then a). This moves on top of the character 
        marked with a. 
      </p><p>
        Marking is usually used with deleting, changing, yanking or filtering. 
        For example, move the cursor to a line other than the one containing 
        mark a, and then press d'a (d, single quote, a). This deletes from the 
        current line to and including the line marked with a. 
      </p><p>
        Put the cursor in the middle of a different word and press mb to set 
        mark b. Now, move the cursor away from that word (but only a few 
        lines, so you can see what we're about to do more easily), and then 
        press d`b (d, backquote, b). This deletes from the current CHARACTER 
        to and including the CHARACTER marked with b. 
      </p><p>
        As another example, to sort the output of who, mark the first line 
        (ma), then move the cursor to the last line and press !'asort and the 
        Return key. 
      </p><p>
        If you jump to a mark and decide you want to jump back to whatever you 
        jumped from, you can press '' (jump back to line) or `` (jump back to 
        character). 
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="naming_buffers"></a>12.8. 
        Naming Buffers 
      </h3></div></div></div><p>
        When you delete, change, or yank text, the original text is stored 
        (until the next delete, change, or yank) in an unnamed buffer from 
        which it can be put using p or P. Using the unnamed buffer, only the 
        most recently deleted, changed or yanked text may be recovered. 
      </p><p>
        If you wish to delete, change, or yank multiple sections of text and 
        remember them all (up to a maximum of 26), you can give a buffer name 
        ahead of the delete change or yank command. A buffer name has the form 
        "c (double quote, lowercase c). 
      </p><p>
        For example, press "ayy to yank the current line into buffer a, then 
        move to a different line and press "byy to yank that line into buffer 
        b. Now, move elsewhere in the file and press "ap and "bp to put copies 
        of the text stored in buffers a and b. 
      </p><p>
        Some other named buffer commands: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                "a6yy 
              </em></span>
              : Yank six lines (current and next five) into buffer a 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                "bd1G 
              </em></span>
              : Delete from the curernt line to and including Line 1, storing 
              the deleted lines in buffer b 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                "cy'c 
              </em></span>
              : Yank from the current line to the line marked c into buffer c 
              (marks and buffers are distinct, and may have the same name 
              without confusing 
              <span class="emphasis"><em>
                vi 
              </em></span>
              ) 
            </p></li></ul></div><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="substitutions"></a>12.9. 
        Substitutions 
      </h3></div></div></div><p>
        To substitute one chunk of text for another in lines throughout your 
        file, use the :s command. Some substitute examples: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                :1,$s/the/THE/g 
              </em></span>
              From Line 1 to the last line (line $), substitute for the text 
              THE; do this globally in each line where the occurrs 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :'a,.s/.*/ha ha/ 
              </em></span>
              From the line marked a to the current line (line .), substitute 
              for everything on the line the text ha ha 
            </p></li></ul></div><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="misc_colon_commands"></a>12.10. 
        Miscellaneous "Colon Commands" 
      </h3></div></div></div><p>
        All colon commands begin with a colon; when you press the colon, the 
        cursor drops to the lower left corner of the screen, and a colon 
        prompt is displayed waiting for you to finish your colon command. 
      </p><p>
        Some important examples: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                :w 
              </em></span>
              Write the buffer contents to the file without quitting from 
              <span class="emphasis"><em>
                vi 
              </em></span>
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :w abc 
              </em></span>
              Write the buffer contents to the file abc (creating abc if it 
              doesn't exist, or overwriting current contents if it does exist) 
              without quitting from 
              <span class="emphasis"><em>
                vi 
              </em></span>
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :1,10w abc 
              </em></span>
              Write lines 1 through 10 to file abc 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :'a,$w abc 
              </em></span>
              Write from the line marked a to the last line into file abc 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :e abc 
              </em></span>
              Edit file abc, instead of the current file. 
              <span class="emphasis"><em>
                vi 
              </em></span>
              prints an error message if changes have been made to the curernt 
              file that have not been saved with :w 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :e! abc 
              </em></span>
              Edit file abc, throwing away any changes that may have been made 
              to the current file 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :e # 
              </em></span>
              Edit the prior file edited (successive :e# commands toggle back 
              and forth between two files) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :f abc 
              </em></span>
              Change the file anme for the current 
              <span class="emphasis"><em>
                vi 
              </em></span>
              buffer to abc 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :q 
              </em></span>
              Quit, unless unsaved chanegs have been made 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :q! 
              </em></span>
              Quit, throwing away any changes that may have been made 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :r abc 
              </em></span>
              Read the file abc into current 
              <span class="emphasis"><em>
                vi 
              </em></span>
              buffer, after the line the cursor is on (try :r croc to read in 
              a copy of the croc file) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :!cmd 
              </em></span>
              Execute command cmd (who, sort, ls, etc.) 
            </p></li></ul></div><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="setting_options"></a>12.11. 
        Setting Options 
      </h3></div></div></div><p>
        Various options affect the "feel" of 
        <span class="emphasis"><em>
          vi 
        </em></span>
        . You can display all the various options that can be set using the 
        colon command :set all. You can also use set to change options. 
      </p><p>
        For example, if you want to see line numbers for the lines in the file 
        you're editing, use the command :set number. To turn off line 
        numbering, use the command :set nonumber. Most options can be 
        abbreviated; :set nu turns on line numbering and :set nonu turns off 
        line numbering. 
      </p><p>
        If you :set nomagic, the special meanings of regular expression 
        characters (period, asterisk, square bracket, etc.) are switched off. 
        Use :set magic to restore the special meanings. 
      </p><p>
        Some options take a value. For example, :set tabstop=4 causes tabs to 
        be displayed as four space characters, rather than the usual eight. 
      </p><p>
        If you find you always want certain options set certain ways, you can 
        put the set commands you want ina file .exrc, or you can set up the 
        environment variable EXINIT to specify the options you want. 
      </p><p>
        For example, if your login shell is Bourne shell, this line could go 
        in your .profile file: 
        </p><pre class="programlisting">
	EXINIT='set nomagic nu tabstop=4'; export EXINIT</pre><p>
        If your login shell is a C shell, this line could go in your .login 
        file: 
        </p><pre class="programlisting">
	setenv EXINIT 'set nomagic nu tabstop=4'</pre><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="key_mappings"></a>12.12. 
        Key Mappings 
      </h3></div></div></div><p>
        If you find you're performing a series of simple commands over and 
        over, you can map the command series to an unused command key using 
        the :map command. If your mapping must include control characters such 
        as Return key (CTRL-M in ASCII) or the ESC (CTRL-[ in ASCII) key, 
        precede such characters with CTRL-v to suppress their usual special 
        meaning. 
      </p><p>
        For example, this command maps CTRL-A to move the cursor forward 55 
        lines, then back up to the most recent blank line, then change that 
        blank line to a formfeed (CTRL-L) and three blank lines. That is, each 
        CTRL-A will paginate the next page, without splitting paragraphs 
        across pages. 
      </p><p>
        Note: In this command, each control character is shown as ^C, where C 
        is some uppercase letter. For example, CTRL-M is shown as ^M. Also, 
        when you enter this command you will not see the CTRL-v characters as 
        shown: each CTRL-v merely suppresses the usual special meaning of the 
        following control character, so when you press the sequence ^V^M, all 
        you will see on the screen is ^M. In this command, ^M is the Return 
        key and ^[ is the ESC key. 
        </p><pre class="programlisting">
	:map ^A  55+?^$^V^Mcc^V^L^V^M^V^M^V^M^V^[</pre><p>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="edit_multiple"></a>12.13. 
        Editing Multiple Files 
      </h3></div></div></div><p>
        You can edit multiple files with 
        <span class="emphasis"><em>
          vi 
        </em></span>
        by giving multiple file names as command line arguments: 
        </p><pre class="programlisting">
	vi croc fatherw  wknight</pre><p>
        Three colon commands are used to move through the multiple files: 
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              <span class="emphasis"><em>
                :n 
              </em></span>
              Move to the next file in the argument list (you must save 
              changes with :w or 
              <span class="emphasis"><em>
                vi 
              </em></span>
              will print an error message) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :N 
              </em></span>
              Move to the previous file in the argument list (you must save 
              changes with :w or 
              <span class="emphasis"><em>
                vi 
              </em></span>
              will print an error message) 
            </p></li><li class="listitem"><p>
              <span class="emphasis"><em>
                :rew 
              </em></span>
              Rewind and start over with the first file in the argument list 
            </p></li></ul></div><p>
        The :n, :N, and :rew commands are somewhat clumsy, but there are some 
        important benefits: the contents of named buffers ("a, "b, "c, etc.) 
        are remembered across files, so you can use :n and :rew with p and P 
        to copy text back and forth between files. Also, the most recent 
        search string for the / and ? commands remembered across files, so you 
        can do repetitive searches in multiple files rather easily. 
      </p><p>
        For example, try the following experiment: First get out of 
        <span class="emphasis"><em>
          vi 
        </em></span>
        , then execute 
        <span class="emphasis"><em>
          vi 
        </em></span>
        with croc and wknight as arguments: 
        </p><pre class="programlisting">
	$ vi croc wknight</pre><p>
        In croc, search for the 
      </p><p>
        <span class="emphasis"><em>
          /the &lt; CR &gt; 
        </em></span>
      </p><p>
        Yank this line into buffer a: 
      </p><p>
        <span class="emphasis"><em>
          "ayy 
        </em></span>
      </p><p>
        Now go to the next file (you've made no change to croc, so this will 
        work): 
      </p><p>
        <span class="emphasis"><em>
          :n &lt; CR &gt; 
        </em></span>
      </p><p>
        Search for the "next" line containing the, without retyping the search 
        string: 
      </p><p>
        <span class="emphasis"><em>
          n 
        </em></span>
      </p><p>
        Put a copy of buffer a after the current line in wknight: 
      </p><p>
        <span class="emphasis"><em>
          "ap 
        </em></span>
      </p><p>
        Move down two lines, and yank the current line into buffer b: 
      </p><p>
        <span class="emphasis"><em>
          jj"byy 
        </em></span>
      </p><p>
        Save the changes to wknight 
      </p><p>
        <span class="emphasis"><em>
          :w &lt; CR &gt; 
        </em></span>
      </p><p>
        Now, rewind to croc 
      </p><p>
        <span class="emphasis"><em>
          :rew &lt; CR &gt; 
        </em></span>
      </p><p>
        Search again, and put a copy of buffer b after the found line: 
      </p><p>
        <span class="emphasis"><em>
          n"bp 
        </em></span>
      </p><p>
        Save the changes, and exit 
        <span class="emphasis"><em>
          vi 
        </em></span>
      </p><p>
        <span class="emphasis"><em>
          ZZ 
        </em></span>
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="final_remarks"></a>12.14. 
        Final Remarks 
      </h3></div></div></div><p>
        This tutorial was intended to introduce some of the 
        <span class="emphasis"><em>
          vi 
        </em></span>
        capabilities that you might overlook in your system's 
        <span class="emphasis"><em>
          vi 
        </em></span>
        manual or that might not be mentioned in the manual (different systems 
        have manuals of widely varying quality). 
      </p><p>
        You will not be a 
        <span class="emphasis"><em>
          vi 
        </em></span>
        expert after reading this tutorial, but you will have a good 
        appreciation of 
        <span class="emphasis"><em>
          vi 
        </em></span>
        's capabilities. Only time and effort can make a 
        <span class="emphasis"><em>
          vi 
        </em></span>
        expert. But the efficiency and universality of 
        <span class="emphasis"><em>
          vi 
        </em></span>
        make this effort pay off in the long run. 
      </p><p>
        You may have decided you hate 
        <span class="emphasis"><em>
          vi 
        </em></span>
        . So be it! But be aware that 
        <span class="emphasis"><em>
          vi 
        </em></span>
        remains the standard UNIX text editor - the one editor you can count 
        on being available on every UNIX system you'll use - so even if you 
        prefer to use something else day-to-day, you'd be well advised to know 
        the bare minimum 
        <span class="emphasis"><em>
          vi 
        </em></span>
        material covered in this tutorial. 
      </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s11.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s13.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">11. 
      Vim Tutorial 
     </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 13. 
      Vim Reference Card 
    </td></tr></table></div></body></html>
