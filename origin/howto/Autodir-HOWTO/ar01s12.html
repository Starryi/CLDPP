<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>12. Backup program requirements</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Autodir HOWTO"><link rel="up" href="index.html" title="Autodir HOWTO"><link rel="prev" href="ar01s11.html" title="11. Backup support"><link rel="next" href="ar01s13.html" title="13. Module options"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12. Backup program requirements</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s11.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s13.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="backupreq"></a>12. Backup program requirements</h2></div></div></div><p><span class="bold"><strong>Autodir</strong></span> demands some extra requirements from the backup program being used: when the backup is working on the <span class="emphasis"><em>real directory</em></span>, with corresponding expired <span class="emphasis"><em>virtual directory</em></span>, and that <span class="emphasis"><em>virtual directory</em></span> is requested again by an application while the backup is running, the backup process is killed. First a <code class="literal">SIGTERM</code> is sent to gracefully stop it. But if it does not shut down in time - and it has one second to do this - a <code class="literal">SIGKILL</code> will be sent, which is guaranteed to stop the backup.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Only when the backup has stopped the application is given access to the requested <span class="emphasis"><em>virtual directory</em></span>.</p></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>Whatever backup is used, it should be able to recover from this signal gracefully, not causing unrecoverable side effects.</p></div><p>One more important issue is the environment in which the backup runs. All backup programs run as root. But at the same time all unnecessary root privileges are taken away using POSIX capabilities. In other words these backup programs can read any file or directory that belongs to any user on the system and nothing more than that. Other than that, the backup process behaves like an ordinary user level process.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s11.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s13.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">11. Backup support </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 13. Module options</td></tr></table></div></body></html>
