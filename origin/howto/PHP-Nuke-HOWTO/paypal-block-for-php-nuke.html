<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>How to display HTML forms in a block: Paypal</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="UP"
TITLE="Creating PHP-Nuke blocks"
HREF="blocks.html"><LINK
REL="PREVIOUS"
TITLE="How to display images in PHP-Nuke blocks"
HREF="display-images-php-nuke-blocks.html"><LINK
REL="NEXT"
TITLE="Creating modules"
HREF="creating-modules.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="display-images-php-nuke-blocks.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 20. Creating <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> blocks</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="creating-modules.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="PAYPAL-BLOCK-FOR-PHP-NUKE"
>20.9. How to display HTML forms in a block: Paypal</A
></H1
><P
>A lot of sites have a block, asking for donations through <A
HREF="https://www.paypal.com"
TARGET="_top"
>PayPal</A
>. It is easy to construct your own, all you need is get an account from PayPal, then construct an HTML form that contains your data, for example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>Help  keep our web site online with a donation!
&#60;form action="https://www.paypal.com/cgi-bin/webscr" method="post"&#62;
&#60;input type="hidden" name="cmd" value="_xclick"&#62;
&#60;input type="hidden" name="business" value="My email"&#62;
&#60;input type="hidden" name="item_name" value="My Homepage"&#62;
&#60;input type="hidden" name="amount" value="10.00"&#62;
&#60;input type="hidden" name="no_note" value="1"&#62;
&#60;input type="hidden" name="currency_code" value="USD"&#62;
&#60;input type="hidden" name="tax" value="0"&#62;
&#60;input type="image" src="https://www.paypal.com/images/x-click-but04.gif" 
       border="0"
name="submit" alt="Make payments with PayPal - it"s fast, free and secure!"&#62;
&#60;/form&#62;</PRE
></FONT
></TD
></TR
></TABLE
><P
>The meaning of the form fields is the following:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>cmd:</DT
><DD
><P
>Must be set to "_xclick" (required).</P
></DD
><DT
>business:</DT
><DD
><P
>This is your PayPal ID, or email address, where payments will be sent. This email address must be confirmed and linked to your Verified Business or Premier account. (required).</P
></DD
><DT
>item_name:</DT
><DD
><P
>Description of donation (maximum 127 characters). If omitted, donor will see a field in which they have the option of entering an Item Name (optional).</P
></DD
><DT
>amount:</DT
><DD
><P
>The price or amount of the purchase, not including shipping, handling, or tax. If omitted, this value will be editable by the buyer at the time of purchase (optional).</P
></DD
><DT
>no_note:</DT
><DD
><P
>Including a note with payment. If set to 1, your customer will not be prompted to include a note. If omitted or set to 0, your customer will be prompted to include a note (optional).</P
></DD
><DT
>currency_code:</DT
><DD
><P
>The currency of the payment. Defines the currency in which the monetary variables (amount, shipping, shipping2, handling, tax) are denoted. Possible values are USD (U.S. Dollar), EUR (Euro), GBP (Pound Sterling), CAD (Canadian Dollar), JPY (Yen). If omitted, all monetary fields will be interpreted as U.S. Dollars (optional).</P
></DD
><DT
>tax:</DT
><DD
><P
>Transaction-based tax override variable. Set to a flat tax amount you would like to apply to the transaction regardless of the buyer s location. If present, this value overrides any tax settings that may be set in the seller s Profile. If omitted, Profile tax settings (if any) will apply (optional).</P
></DD
></DL
></DIV
><DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/tip.png"
HSPACE="5"
ALT="Tip"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>PayPal hyperlink variables</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>There are many more hyperlink variables that you can use in your PayPal block, covering all aspects of a donation transaction. You should consult the <A
HREF="https://www.paypal.com/en_US/pdf/donations.pdf"
TARGET="_top"
>PayPal Donations Manual</A
>, to learn about all the possibilities!</P
></TD
></TR
></TABLE
></DIV
><P
><DIV
CLASS="FIGURE"
><A
NAME="FIG-PAYPAL1"
></A
><P
><B
>Figure 20-12.    PayPal donation button
   </B
></P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="./images/paypal1.png"><DIV
CLASS="CAPTION"
><P
>PayPal donation button</P
></DIV
></P
></DIV
></DIV
></P
><P
>Pasting the code above into your website would generate a button that looks like <A
HREF="paypal-block-for-php-nuke.html#FIG-PAYPAL1"
>Figure 20-12</A
>. To create a block out of this HTML Form, all we have to do is add the obligatory check for the block name, transform all lines to strings and append them to the $content variable, taking care to escape all double quotes between the string quotes:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>&#60;?php
if (eregi("block-Donations.php",$PHP_SELF)) {
    Header("Location: index.php");
    die();
}
$content  =  "Help  keep our web site online with a donation!";
$content  .= "form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\"&#62;";
$content  .= "input type=\"hidden\" name=\"cmd\" value=\"_xclick\"&#62;";
$content  .= "input type=\"hidden\" name=\"business\" value=\"My email\"&#62;";
$content  .= "input type=\"hidden\" name=\"item_name\" value=\"My Homepage\"&#62;";
$content  .= "input type=\"hidden\" name=\"amount\" value=\"10.00\"&#62;";
$content  .= "input type=\"hidden\" name=\"no_note\" value=\"1\"&#62;";
$content  .= "input type=\"hidden\" name=\"currency_code\" value=\"USD\"&#62;";
$content  .= "input type=\"hidden\" name=\"tax\" value=\"0\"&#62;";
$content  .= "input type=\"image\" src=\"https://www.paypal.com/images/x-click-but04.gif\"
              border=\"0\" name=\"submit\" 
              alt=\"Make payments with PayPal - it"s fast, free and secure!\"&#62;";
$content  .= "/form&#62;";
?&#62;</PRE
></FONT
></TD
></TR
></TABLE
><P
>Put the above code in a file called block-Donations.php in the blocks folder. Then, just activate and position the block from the blocks management link in the administration panel.</P
><P
><DIV
CLASS="FIGURE"
><A
NAME="FIG-PAYPAL2"
></A
><P
><B
>Figure 20-13.    PayPal donation block.
   </B
></P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="./images/paypal2.png"><DIV
CLASS="CAPTION"
><P
>PayPal donation block.</P
></DIV
></P
></DIV
></DIV
></P
><P
>Depending on your theme, the block will look as in <A
HREF="paypal-block-for-php-nuke.html#FIG-PAYPAL2"
>Figure 20-13</A
>. You can experiment with various button images from the PayPal site. For more information on donations with PayPal, see the <A
HREF="https://www.paypal.com/en_US/pdf/donations.pdf"
TARGET="_top"
>PayPal Donations Manual</A
>.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="display-images-php-nuke-blocks.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="creating-modules.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>How to display images in <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> blocks</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="blocks.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Creating modules</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>