<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Modifying the PHP-Nuke Sections module</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="UP"
TITLE="Modifying PHP-Nuke modules"
HREF="modifying-php-nuke-modules.html"><LINK
REL="PREVIOUS"
TITLE="Modifying the PHP-Nuke Submit News module"
HREF="modifying-php-nuke-submit-news-module.html"><LINK
REL="NEXT"
TITLE="Modifying the PHP-Nuke Downloads module"
HREF="modifying-php-nuke-downloads-module.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="modifying-php-nuke-submit-news-module.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 18. Modifying <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> modules</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="modifying-php-nuke-downloads-module.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="MODIFYING-PHP-NUKE-SECTIONS-MODULE"
>18.9. Modifying the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> Sections module</A
></H1
><P
><DIV
CLASS="FIGURE"
><A
NAME="FIG-SECTIONS-2"
></A
><P
><B
>Figure 18-12.    Administration panel: Sections.
   </B
></P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="./images/sections.png"><DIV
CLASS="CAPTION"
><P
>Administration panel: Sections.</P
></DIV
></P
></DIV
></DIV
></P
><P
>In this section we modify the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> Section module:</P
><P
></P
><UL
><LI
><P
>How to order the articles in the Sections module (<A
HREF="modifying-php-nuke-sections-module.html#ORDER-ARTICLES-IN-SECTIONS"
>Section 18.9.1</A
>).</P
></LI
></UL
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="ORDER-ARTICLES-IN-SECTIONS"
>18.9.1. How to order the articles in the Sections module</A
></H2
><P
>Sometimes you may not be satisfied with the order of articles in the Sections module. To change it, edit the following line of the modules/Sections/index.php:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$result = sql_query("select artid, secid, title, content, counter 
from ".$prefix."_seccont where secid=$secid $querylang", $dbi);</PRE
></FONT
></TD
></TR
></TABLE
><P
>Change it to<A
NAME="AEN13240"
HREF="#FTN.AEN13240"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$result = sql_query("select artid, secid, title, content, counter 
from ".$prefix."_seccont where secid=$secid $querylang ORDER BY artid DESC", $dbi);</PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/tip.png"
HSPACE="5"
ALT="Tip"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Changing the order of results</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>This is a typical example of  changing the order of results of a database selection. This was achieved by solely adding "ORDER BY artid DESC" to the SQL query string. In plain text, this means "order the results by descending article id". The "right way" would of course be to sort by time. But lacking an extra timestamp field, we make use of the fact that later articles have a higher id. Thus, sorting by descending id will give last articles first. Think of this simple trick whenever you seek a simple way to change the order of some results.  </P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN13240"
HREF="modifying-php-nuke-sections-module.html#AEN13240"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>See <A
HREF="http://www.nukeforums.com/forums/viewtopic.php?t=13447"
TARGET="_top"
>How to sort in Sections</A
>.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="modifying-php-nuke-submit-news-module.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="modifying-php-nuke-downloads-module.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Modifying the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> Submit News module</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="modifying-php-nuke-modules.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Modifying the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> Downloads module</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>