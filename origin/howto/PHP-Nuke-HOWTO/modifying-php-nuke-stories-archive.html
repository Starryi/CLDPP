<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Modifying the PHP-Nuke Stories Archive module</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="UP"
TITLE="Modifying PHP-Nuke modules"
HREF="modifying-php-nuke-modules.html"><LINK
REL="PREVIOUS"
TITLE="Modifying the PHP-Nuke Downloads module"
HREF="modifying-php-nuke-downloads-module.html"><LINK
REL="NEXT"
TITLE="Modifying the PHP-Nuke administration panel"
HREF="modifying-php-nuke-admin-panel.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="modifying-php-nuke-downloads-module.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 18. Modifying <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> modules</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="modifying-php-nuke-admin-panel.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="MODIFYING-PHP-NUKE-STORIES-ARCHIVE"
>18.11. Modifying the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> Stories Archive module</A
></H1
><P
><DIV
CLASS="FIGURE"
><A
NAME="FIG-STORIES-3"
></A
><P
><B
>Figure 18-14.    Administration panel: Add story.
   </B
></P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="./images/stories.png"><DIV
CLASS="CAPTION"
><P
>Administration panel: Add story.</P
></DIV
></P
></DIV
></DIV
></P
><P
>In this section we modify the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> Stories Archive module:</P
><P
></P
><UL
><LI
><P
>How to order the articles in the Stories Archive module (<A
HREF="modifying-php-nuke-stories-archive.html#ORDER-ARTICLES-IN-STORIES-ARCHIVE"
>Section 18.11.1</A
>).</P
></LI
></UL
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="ORDER-ARTICLES-IN-STORIES-ARCHIVE"
>18.11.1. How to order the articles in the Stories Archive module</A
></H2
><P
>Sometimes you may wish a different order of articles in the Stories module. To change the article order so that the articles appear in alphabetical topic order, instead of a LIFO (last-in-first-out) order, edit the following line of the modules/Sections/index.php:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$result = sql_query("select sid, catid, title, time, comments, counter, topic, 
alanguage, score, ratings from ".$prefix."_stories order by sid DESC 
limit $min,$max", $dbi); </PRE
></FONT
></TD
></TR
></TABLE
><P
>Change it to (see <A
HREF="http://www.nukeforums.com/forums/viewtopic.php?t=13604"
TARGET="_top"
>Sorting the Stories Archive by Topic first</A
>):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$result = sql_query("select sid, catid, title, time, comments, counter, topic, 
alanguage, score, ratings from ".$prefix."_stories order by topic ASC 
limit $min,$max", $dbi); </PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/tip.png"
HSPACE="5"
ALT="Tip"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Changing the order of results</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>This is a typical example of  changing the order of results of a database selection. This was achieved by solely replacing  "ORDER BY sid DESC" with  "ORDER BY topic ASC" in the SQL query string. In plain text, this means "order the results by ascending topic".  Whenever you are not satisfied with the order of your results, you will know that you have to add or change an ORDER BY clause to an SQL query string somewhere in your module. Of course, you will still have to find where, but hopefully there will be only a few calls to sql_query() in the code, so that, in the worst case, you could try them all and find the one that works. </P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="modifying-php-nuke-downloads-module.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="modifying-php-nuke-admin-panel.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Modifying the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> Downloads module</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="modifying-php-nuke-modules.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Modifying the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> administration panel</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>