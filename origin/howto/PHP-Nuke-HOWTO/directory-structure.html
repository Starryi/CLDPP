<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Directory structure </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="UP"
TITLE="Architecture and structure "
HREF="architecture.html"><LINK
REL="PREVIOUS"
TITLE="Architecture and structure "
HREF="architecture.html"><LINK
REL="NEXT"
TITLE="Main page management"
HREF="main-page-management.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="architecture.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 9. Architecture and structure</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="main-page-management.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DIRECTORY-STRUCTURE"
>9.1. Directory structure</A
></H1
><P
>The html folder of <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> contains the following directories and files (<A
HREF="directory-structure.html#FIG-PHP-NUKE-HTML-FOLDER"
>Figure 9-1</A
>):</P
><P
><DIV
CLASS="FIGURE"
><A
NAME="FIG-PHP-NUKE-HTML-FOLDER"
></A
><P
><B
>Figure 9-1.    <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> directory structure.
   </B
></P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="./images/php-nuke-html-folder.png"><DIV
CLASS="CAPTION"
><P
>PHP-Nuke directory structure.</P
></DIV
></P
></DIV
></DIV
></P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>admin:</DT
><DD
><P
>Contains 4 subdirectories (links, language, case, modules) that manage the various administration modules. The folder that accommodates the operating files is modules/admin/.</P
></DD
><DT
>robots.txt:</DT
><DD
><P
>Contains instructions for search engines. PHP-Nuke's default robots.txt file contains the following:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>User-agent: *
Disallow: admin.php
Disallow: /admin/
Disallow: /images/
Disallow: /includes/
Disallow: /themes/
Disallow: /blocks/
Disallow: /modules/
Disallow: /language/</PRE
></FONT
></TD
></TR
></TABLE
><P
>This means that if a search engine visits the site, it should not index the folders mentioned. You can also insert other instructions in the robots.txt file, for example disallow a certain search engine:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>User-agent: ArchitextSpider
Disallow: /</PRE
></FONT
></TD
></TR
></TABLE
><P
>In this example, we forbid Excite's spider from indexing the site. However, our instructions will have no effect on a spider that does not honour the robots.txt file. Some aggressive spiders are known for being notorious and not obeying to our instructions in robots.txt. You could try to redirect them to an error page through a test on their IP address, User-agent string or some other criterium using mod_rewrite (see <A
HREF="mod-rewrite.html"
>Section 25.2</A
>). Please note that the User-agent string can be easily faked.</P
></DD
><DT
>blocks:</DT
><DD
><P
>Contains all the block files for all of our available blocks. </P
></DD
><DT
>images:</DT
><DD
><P
>Contains all the images relating to PHP-Nuke, for example in the folder &#8220;topics&#8221; we will find archived the images of the topics that will appear in the news, in &#8220;banners&#8221; all banners in rotation etc...</P
></DD
><DT
>includes:</DT
><DD
><P
>Here are all the files that are necessary to particular management situations, these files do not work independently but are included in other files, mainly in mainfile.php and header.php. The files are:</P
><P
></P
><UL
><LI
><P
>counter.php : serves to identify the users based on the operating system used, the browser, the page of origin, date of the visit...</P
></LI
><LI
><P
>javascript.php : includes all necessary Javascript (if you need particular Javascript code, include it in this file, see also <A
HREF="javascript-in-php-nuke-modules.html#JAVASCRIPT-PHP"
>Section 21.9.1</A
>).</P
></LI
><LI
><P
>meta.php : contains the keywords to pass to the search engines and other parameters of the header. It is  an optimal system for learning how to create keywords and position the site with a good ranking in the search engines.</P
></LI
><LI
><P
>my_header.php : manages the disclaimer message in the homepage.</P
></LI
><LI
><P
>sql_layer.php : serves to manage the database abstraction layer. Transforms SQL instructions to the language of the chosen database. Remember that <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> can manage various databases.</P
></LI
></UL
></DD
><DT
>db:</DT
><DD
><P
>Starting from version 6.5, <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> uses a new SQL abstraction layer, that of the phpBB forum (see the section &#8220;Using the SQL Abstraction Layer&#8221; in the ADDONS-MODULES file that comes with the standard <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> package). The layer functions are the same as the ones of sql_layer.php, but more extended. Now you can program your modules (<A
HREF="creating-modules.html"
>Chapter 21</A
>) using either the &#8220;old&#8221; sql_layer.php (which will continue to be supported in the future for backward compatibility), or the functions found in the files of the DB folder.</P
></DD
><DT
>docs:</DT
><DD
><P
>Contains this book. Right, this is not only an official HOWTO of the <SPAN
CLASS="PRODUCTNAME"
>Linux</SPAN
> Documentation Project, but also the official <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> guide!</P
></DD
><DT
>language:</DT
><DD
><P
>Contains translation files for the basic <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> module. The language file naming convention is lang-english.php. </P
><DIV
CLASS="CAUTION"
><P
></P
><TABLE
CLASS="CAUTION"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/caution.png"
HSPACE="5"
ALT="Caution"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Attention!</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>The translation of the modules must be inserted in the appropriate folders (modules/language) and not appended   to these files, as it was done till now. </P
></TD
></TR
></TABLE
></DIV
></DD
><DT
>Modules:</DT
><DD
><P
>The modules of <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> comprise all the functionality that one can add to it. In the Modules folder we insert the folders of every new module.</P
></DD
><DT
>Themes:</DT
><DD
><P
>Here we add the graphical interfaces known as &#8220;Themes&#8221;, every folder has the name of the corresponding theme and contains a main file called theme.php and all other support files.</P
></DD
><DT
>Upgrades:</DT
><DD
><P
>contains only the files that serve to upgrade the system from a previous version to a newer one (see <A
HREF="upgrade-php-nuke.html"
>Chapter 4</A
>).</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="architecture.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="main-page-management.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Architecture and structure</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="architecture.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Main page management</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>