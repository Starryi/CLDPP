<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>The syntax of PHP code</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="UP"
TITLE="Programmer's tools "
HREF="tools.html"><LINK
REL="PREVIOUS"
TITLE="The syntax of CSS"
HREF="css-syntax.html"><LINK
REL="NEXT"
TITLE="The syntax of SQL code"
HREF="sql-syntax.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="css-syntax.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 28. Programmer's tools</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sql-syntax.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="PHP-SYNTAX"
>28.4. The syntax of <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> code</A
></H1
><P
>PHP-Nuke is written in <A
HREF="http://www.php.net"
TARGET="_top"
>PHP</A
> and uses the <A
HREF="http://www.mysql.com"
TARGET="_top"
>MySQL</A
> database. In this section we will present some examples of <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> code. We don't try to teach you a new programming language, but only to illustrate how some things work.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="PHP-VARIABLES"
>28.4.1. Variables</A
></H2
><P
>Variables are those elements that are given variable values, depending on the case. Here is an example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>&#60;? <A
NAME="PHP-VARIABLES-1"
><IMG
SRC="images/callouts/1.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(1)"></A
>
if ($foobar == 1)){ <A
NAME="PHP-VARIABLES-2"
><IMG
SRC="images/callouts/2.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(2)"></A
>
 echo "The value is 1"; <A
NAME="PHP-VARIABLES-3"
><IMG
SRC="images/callouts/3.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(3)"></A
>
} else {
 echo "The value is not 1"; <A
NAME="PHP-VARIABLES-4"
><IMG
SRC="images/callouts/4.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(4)"></A
>
}
?&#62; <A
NAME="PHP-VARIABLES-5"
><IMG
SRC="images/callouts/5.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(5)"></A
></PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="CALLOUTLIST"
><DL
COMPACT="COMPACT"
><DT
><A
HREF="php-syntax.html#PHP-VARIABLES-1"
><IMG
SRC="images/callouts/1.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(1)"></A
></DT
><DD
>       As with every <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> script, we have to designate its start and end. Here is the start...
      </DD
><DT
><A
HREF="php-syntax.html#PHP-VARIABLES-2"
><IMG
SRC="images/callouts/2.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(2)"></A
></DT
><DD
>       We check if the foobar variable has the value 1.
      </DD
><DT
><A
HREF="php-syntax.html#PHP-VARIABLES-3"
><IMG
SRC="images/callouts/3.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(3)"></A
></DT
><DD
>       If it does, we output a message. We do this with the echo function. This functions will print whatever is included in the double quotes.  The double quotes may contain other variables (in which case the echo command will print their values), HTML code etc. If you want to print double quotes, you have to escape them with a backslash.
      </DD
><DT
><A
HREF="php-syntax.html#PHP-VARIABLES-4"
><IMG
SRC="images/callouts/4.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(4)"></A
></DT
><DD
>       If it doesn't, we also output an aproppriate message.
      </DD
><DT
><A
HREF="php-syntax.html#PHP-VARIABLES-5"
><IMG
SRC="images/callouts/5.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(5)"></A
></DT
><DD
>       ...and here is the end of the script.
      </DD
></DL
></DIV
><P
>See also <A
HREF="http://www.php.net/language.variables"
TARGET="_top"
>PHP variables</A
>.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="PHP-FUNCTIONS"
>28.4.2. Functions</A
></H2
><P
>Here is an example of a simple <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> function:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>function get_lang($module) {
  global $currentlang, $language;
 
  HERE GOES THE FUNCTION CODE
}</PRE
></FONT
></TD
></TR
></TABLE
><P
>It has the following structure, common to every <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> function:</P
><P
></P
><UL
><LI
><P
>the function name, preceded by the keyword "function",</P
></LI
><LI
><P
>the function parameters in the parenthesis,</P
></LI
><LI
><P
>the global variables that we intend to use in this function, registered through the "global" keyword (we cannot use any global variables, if we do not register them as such),</P
></LI
><LI
><P
>the curly brackets that include the function's content</P
></LI
></UL
><P
>Functions may be called from anywhere in the <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> code. See also <A
HREF="http://www.php.net/manual/en/functions.php"
TARGET="_top"
>PHP functions</A
>.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="PHP-SWITCHES"
>28.4.3. Switches</A
></H2
><P
>A switch in <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> allows us to take certain actions depending on the value of a certain variable, as in the following example, where we check the value of the $pa variable:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>switch($pa) {
  case "showpage":
    showpage($pid, $page);
  break;
  case "list_pages_categories":
    list_pages_categories($cid);
  break;
  default:
    list_pages();
  break;
}</PRE
></FONT
></TD
></TR
></TABLE
><P
>In case $pa has the value &#8220;showpage&#8221;, we call the showpage() function, in case it has the value "list_pages_categories", we call the list_pages_categories() function. If $pa does not have any of these two values, or any value at all, we enter the default case and call list_pages(). See also <A
HREF="http://www.php.net/manual/en/control-structures.php"
TARGET="_top"
>PHP control structures</A
>.</P
><P
>Switch statements are often used in module development (especially in the module administration functions, see <A
HREF="module-admin.html"
>Section 21.4</A
>). So, if you declared in a module admin case file a switch like: </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>switch($func) {
     case "func-one":
     funct-one();
     break;    
}</PRE
></FONT
></TD
></TR
></TABLE
><P
>you must call it through a link like:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>http://www.yoursite.com/modules.php?mop=modload
&#38;name=The_Web_Ring&#38;file=index&#38;func=func-one</PRE
></FONT
></TD
></TR
></TABLE
><P
>If your function needs to have parameters (see <A
HREF="php-syntax.html#PHP-FUNCTIONS"
>Section 28.4.2</A
>), your switch will look like:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>switch($func) {
    case "func-one":
    funct-one($xid, $xname);
    break;
}</PRE
></FONT
></TD
></TR
></TABLE
><P
>and your link will have to be:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>http://www.yoursite.com/modules.php?mop=modload
&#38;name=The_Web_Ring&#38;file=index&#38;func=func-one&#38;xid=$xid&#38;xname=$xname</PRE
></FONT
></TD
></TR
></TABLE
><P
>See also the ADDONS-MODULES file that came with your <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> package.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="css-syntax.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-syntax.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>The syntax of CSS</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="tools.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>The syntax of SQL code</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>