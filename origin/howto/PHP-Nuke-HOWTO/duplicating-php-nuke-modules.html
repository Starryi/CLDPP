<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Duplicating PHP-Nuke modules</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="How to display HTML forms in a module"
HREF="html-forms-in-module.html"><LINK
REL="NEXT"
TITLE="Duplicating the PHP-Nuke FAQ module"
HREF="duplicating-php-nuke-faq-module.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="html-forms-in-module.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="duplicating-php-nuke-faq-module.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="DUPLICATING-PHP-NUKE-MODULES"
></A
>Chapter 22. Duplicating <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> modules</H1
><P
>In some situations, you may find yourself wishing a second, identical module to the one you already have installed. This requires the following general steps on your part:</P
><P
></P
><UL
><LI
><P
>Copy the whole module directory, say module1, to a different name, say module2, in the modules folder. You now have modules/module1 and modules/module2, where module1 and module2 are exact directory copies.</P
></LI
><LI
><P
>Copy all administrative files of module1 (if any). Search for them in admin/modules, admin/links and admin/case. The copied files should be in the same directory as the original ones.</P
></LI
><LI
><P
>Find all tables used by module1. This part may be tricky and involves close examination of the code of all files under modules/module1.</P
></LI
><LI
><P
>Locate the part(s) of the nuke.sql file (located under the sql directory of the extracted <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> package) that creates and populates the tables used by module1. Copy that part(s) in a separate file, say nuke2.sql, and change the names of the tables involved e.g. by adding a &#8220;2&#8221; after the names. Run the nuke2.sql file, just as you had ran nuke.sql (see <A
HREF="installation-process.html#DATABASE-CREATION"
>Section 3.2.4</A
>):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>mysql -u dbuname -p dbname &#60; nuke2.sql</PRE
></FONT
></TD
></TR
></TABLE
></LI
><LI
><P
>Inspect the code of all files under modules/module2 and change the table names to reflect the changes in nuke2.sql, e.g. by adding a &#8220;2&#8221; to every table that is specific to module2. Also change any references to administrative files to point to the copied ones. Check the code of the copied administrative files too.</P
></LI
><LI
><P
>If your module uses any &#8220;op&#8221; parameter from the URL, you need to edit all the "op" input fields and all the calls to/from those "op's" in the admin/case file.</P
></LI
><LI
><P
>If the duplicate module should use different texts from the original ones, then you should create the appropriate entries in the language files (under admin/language/, modules/YourModule/ and language/).</P
></LI
><LI
><P
>Activate module2 from the administration panel (<A
HREF="administration-functions.html"
>Section 7.1</A
>)</P
></LI
></UL
><P
>As you can see from the above, duplicating modules can be a fairly complicated enterprise (see also <A
HREF="http://www.nukeforums.com/forums/viewtopic.php?t=14048"
TARGET="_top"
>How do I duplicate modules?</A
>, <A
HREF="http://www.nukeforums.com/forums/viewtopic.php?t=10394"
TARGET="_top"
>Multiple Content Modules</A
>). In what follows, we will demonstrate this general procedure in a real world example - duplicating the FAQ module.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="html-forms-in-module.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="duplicating-php-nuke-faq-module.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>How to display HTML forms in a module</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Duplicating the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> FAQ module</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>