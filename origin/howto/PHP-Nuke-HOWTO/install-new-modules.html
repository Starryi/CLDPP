<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>How to install new modules</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="UP"
TITLE="How to solve common probems with PHP-Nuke"
HREF="solve-common-problems-php-nuke.html"><LINK
REL="PREVIOUS"
TITLE="How to restore PHP-Nuke from backup"
HREF="restore-php-nuke-from-backup.html"><LINK
REL="NEXT"
TITLE="How to install patches and correct errors"
HREF="install-patches-correct-errors.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="restore-php-nuke-from-backup.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 26. How to solve common probems with PHP-Nuke</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="install-patches-correct-errors.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTALL-NEW-MODULES"
>26.3. How to install new modules</A
></H1
><P
><DIV
CLASS="FIGURE"
><A
NAME="FIG-MODULES-3"
></A
><P
><B
>Figure 26-4.    Administration panel: Modules.
   </B
></P
><DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="./images/modules.png"><DIV
CLASS="CAPTION"
><P
>Administration panel: Modules.</P
></DIV
></P
></DIV
></DIV
></P
><DIV
CLASS="IMPORTANT"
><P
></P
><TABLE
CLASS="IMPORTANT"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/important.png"
HSPACE="5"
ALT="Important"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Check versions!</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Before we start,  check that the version of the module you are about to install is compatible with the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> version of your installation!</P
></TD
></TR
></TABLE
></DIV
><P
>The add-on modules of <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> are of various types (see <A
HREF="php-nuke-add-on-modules.html"
>Section 8.3</A
> for some examples), but can be grouped together in 3 different categories:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Modules that do not change the database structure (see <A
HREF="install-new-modules.html#INSTALL-MODULES-WITH-NO-DATABASE-CHANGE"
>Section 26.3.1</A
>).</P
></LI
><LI
><P
>Modules that change the database structure (see <A
HREF="install-new-modules.html#INSTALL-MODULES-WITH-DATABASE-CHANGE"
>Section 26.3.2</A
>).</P
></LI
><LI
><P
>Modules that change both the database structure and the orininal <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> files (see <A
HREF="install-new-modules.html#INSTALL-MODULES-WITH-DATABASE-FILES-CHANGE"
>Section 26.3.3</A
>).</P
></LI
></OL
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-MODULES-WITH-NO-DATABASE-CHANGE"
>26.3.1. How to install modules that do not change the database structure</A
></H2
><P
>These are the simplest modules to install. Their installation consists only of copying the module's files in the aproppriate folders in <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
>. There are no changes to the original tables and no new tables involved.</P
><P
>These modules may consist of only a public part, only an administration part , or both. But how tell if a certain module requires a database modification or not? Generally, a module package comes with the following folders:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>html <A
NAME="MODULES-HTML"
><IMG
SRC="images/callouts/1.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(1)"></A
>
html/modules <A
NAME="MODULES-HTML-MODULES"
><IMG
SRC="images/callouts/2.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(2)"></A
>
html/admin <A
NAME="MODULES-HTML-ADMIN"
><IMG
SRC="images/callouts/3.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(3)"></A
>
html/images <A
NAME="MODULES-HTML-IMAGES"
><IMG
SRC="images/callouts/4.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(4)"></A
>
html/sql <A
NAME="MODULES-HTML-SQL"
><IMG
SRC="images/callouts/5.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(5)"></A
></PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="CALLOUTLIST"
><DL
COMPACT="COMPACT"
><DT
><A
HREF="install-new-modules.html#MODULES-HTML"
><IMG
SRC="images/callouts/1.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(1)"></A
></DT
><DD
>       This is a container folder that is not involved in the installation.
      </DD
><DT
><A
HREF="install-new-modules.html#MODULES-HTML-MODULES"
><IMG
SRC="images/callouts/2.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(2)"></A
></DT
><DD
>       The subfolders of this folder constitute the public part of the module and should be copied under a directory with the module's name in the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> modules folder.
      </DD
><DT
><A
HREF="install-new-modules.html#MODULES-HTML-ADMIN"
><IMG
SRC="images/callouts/3.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(3)"></A
></DT
><DD
>       The subfolders of this folder constitute the administration  part of the module and should be copied under PHP-Nuke's admin folder.
      </DD
><DT
><A
HREF="install-new-modules.html#MODULES-HTML-IMAGES"
><IMG
SRC="images/callouts/4.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(4)"></A
></DT
><DD
>       Contains any images used by the module. Its contents should be copied in the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> images folder.
      </DD
><DT
><A
HREF="install-new-modules.html#MODULES-HTML-SQL"
><IMG
SRC="images/callouts/5.png"
HSPACE="0"
VSPACE="0"
BORDER="0"
ALT="(5)"></A
></DT
><DD
>       Contains the file with all the necessary modification commands for the database, if any. It is the existence of such a file (sometimes not with the .sql ending) that suggests that the module in question requires changes in the database. However, its absence is not a sure sign that such a change is not needed at all: some modules will make their changes to the database on-the-fly,  e.g. through some install.php <ACRONYM
CLASS="ACRONYM"
>PHP</ACRONYM
> script that we will have to open with our browser during installation.
      </DD
></DL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-MODULES-WITH-DATABASE-CHANGE"
>26.3.2. How to install modules that change the database structure</A
></H2
><P
>These modules, although they will not change any original <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> files, they will require a change in the <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> database. The required change in the database may be of two types:</P
><P
></P
><OL
TYPE="1"
><LI
><P
>Some tables are appended to the database, but without changing any of the existing ones.</P
></LI
><LI
><P
>The original <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> tables must be changed.</P
></LI
></OL
><P
>The installation of these modules consists in the copying of their files into the appropriate folders (see <A
HREF="install-new-modules.html#INSTALL-MODULES-WITH-NO-DATABASE-CHANGE"
>Section 26.3.1</A
> for the details, remember that they don't overwrite or change any original <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> file) and the import of a .sql file (using phpMyAdmin, as shown in <A
HREF="phpmyadmin2.html#PHPMYADMIN-NAVIGATION-BAR-SQL"
>Section 3.4.2</A
>, or the command line as in <A
HREF="installation-process.html#DATABASE-CREATION"
>Section 3.2.4</A
>), or the opening of some install.php file through the browser that will make the database changes automatically.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-MODULES-WITH-DATABASE-FILES-CHANGE"
>26.3.3. How to install modules that change the database structure and the files</A
></H2
><P
>There are module that, in order to function properly, require the addition of functions in the original files of <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
>. These modules will overwrite mainfile.php, modules.php, or some other file. </P
><DIV
CLASS="CAUTION"
><P
></P
><TABLE
CLASS="CAUTION"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/caution.png"
HSPACE="5"
ALT="Caution"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Beware of subsequent installations!</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>If you install a module that changes PHP-Nuke's original files, you may not be able to conduct the installation of another one that requires changes in those files too! The new module's installation script may not find the expected code to modify, since it will have been changed by the previous one. </P
><P
>For example, in <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> 6.0 there were two interesting add-on modules, Indy News and Groups, that both required changes to be made in mainfile.php. In order to get them both to work, we had to do the changes in mainfile.php by hand, resulting in a file that contained a mix of modifications by both modules.</P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="WARNING"
><P
></P
><TABLE
CLASS="WARNING"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/warning.png"
HSPACE="5"
ALT="Warning"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Automatic upgrades may not work any more!</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>In case you had to change the original tables of <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> (i.e. you had not just to append some new tables to the database, but to change existing ones), then you may find out the next time you want to upgrade, the automatic upgrade scripts that come with each new <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> version (see <A
HREF="upgrade-php-nuke.html"
>Chapter 4</A
>) do not work any more!</P
><P
>This is because the scripts will search for the original table structure to upgrade, but will find some new one instead. In this case it is recommended to have a look at the upgrade scripts and do the changes manually, using either a graphical frontend, like phpMyAdmin (<A
HREF="phpmyadmin.html"
>Section 3.3</A
>) or the MySQL command line (<A
HREF="installation-process.html#DATABASE-CREATION"
>Section 3.2.4</A
>).</P
></TD
></TR
></TABLE
></DIV
><P
>The same warning applies to file changes during upgrades: it is best to make the changes in the files by hand, also for those files of the new modules. Such a procedure can be very painful and time-consuming. It is recommended that you use a local test server for all these changes and that you do not upload the modified files, until you have tested them thoroughly and made all backups of the production system. (See <A
HREF="restore-php-nuke-from-backup.html#FIG-BACKUP-DB"
>Figure 26-2</A
> and <A
HREF="administration-functions.html"
>Section 7.1</A
>, for PHP-Nuke's own backup function, <A
HREF="phpmyadmin.html"
>Section 3.3</A
> for phpMyAdmin's functionality, which also includes a very good web interface to database backups and <A
HREF="backup-mysql-using-browser.html"
>Section 27.16</A
>, for home-made scripts that automate the backup work for you).</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="restore-php-nuke-from-backup.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="install-patches-correct-errors.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>How to restore <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> from backup</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="solve-common-problems-php-nuke.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>How to install patches and correct errors</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>