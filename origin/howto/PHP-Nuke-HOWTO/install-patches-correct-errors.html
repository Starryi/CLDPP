<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>How to install patches and correct errors</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="PHP-Nuke: Management and Programming"
HREF="index.html"><LINK
REL="UP"
TITLE="How to solve common probems with PHP-Nuke"
HREF="solve-common-problems-php-nuke.html"><LINK
REL="PREVIOUS"
TITLE="How to install new modules"
HREF="install-new-modules.html"><LINK
REL="NEXT"
TITLE="How to find all registration links"
HREF="find-all-registration-links.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP-Nuke: Management and Programming</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="install-new-modules.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 26. How to solve common probems with PHP-Nuke</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="find-all-registration-links.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTALL-PATCHES-CORRECT-ERRORS"
>26.4. How to install patches and correct errors</A
></H1
><P
>From time to time it occurs that some functions of a certain <SPAN
CLASS="APPLICATION"
>PHP-Nuke</SPAN
> version contain bugs, or that some others are in need of an update. Here we will briefly discuss the most common problems that arise in such situations.</P
><DIV
CLASS="TIP"
><P
></P
><TABLE
CLASS="TIP"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/tip.png"
HSPACE="5"
ALT="Tip"></TD
><TH
ALIGN="LEFT"
VALIGN="MIDDLE"
><B
>Use the Forums!</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>If you are in search of a solution to a common problem, your first move should be to consult a Forum, like those of the authors:   <A
HREF="http://www.spaghettilearning.com/modules.php?name=Forums&#38;file=index&#38;c=1"
TARGET="_top"
>PHP-Nuke Forum of spaghettibrain</A
> (Claudio), or <A
HREF="http://www.karakas-online.de/forum/phpnuke.html"
TARGET="_top"
>PHP-Nuke Forum of karakas-online</A
> (Chris). Of course, you should always use the search function of the Forums first, before asking a question that has been possibly asked (and answered) many times already.</P
></TD
></TR
></TABLE
></DIV
><P
>Here is an example of the installation of a patch:</P
><P
>Generally a patch consists of one or more files that will overwrite the buggy existing ones. The &#8220;installation&#8221; of the patch is thus nothing more than the simple overwriting of those files: foobar.php (12Kb) will overwrite the existing file foobar.php (13Kb) (notice that the name is the same, but the size differs). It is a good practice not to overwrite the old file, thus deleting it completely, but to move it to something like foobar.old or foobar.orig, so that you can easily restore it, should the new version present unexpected problems.</P
><P
>Example of a manual correction in the code:</P
><P
>Suppose our file consists of a number of lines:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$qdb = "WHERE topic='$new_topic'";
$sql_a = "SELECT topictext FROM ".$prefix."_topics WHERE topicid='$new_topic'";
$result_a = $db-&#62;sql_query($sql_a)
$row_a = $db-&#62;sql_fetchrow($result_a);
$numrows_a = $db-&#62;sql_numrows($result_a);
$topic_title = $row_a[topictext];</PRE
></FONT
></TD
></TR
></TABLE
><P
>and we are told that we must replace the fourth one with </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$result_a = $db-&#62;sql_query($sql_a);</PRE
></FONT
></TD
></TR
></TABLE
><P
>then, after we do this and save the file, our new file will look like:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$qdb = "WHERE topic='$new_topic'";
$sql_a = "SELECT topictext FROM ".$prefix."_topics WHERE topicid='$new_topic'";
$result_a = $db-&#62;sql_query($sql_a);
$row_a = $db-&#62;sql_fetchrow($result_a);
$numrows_a = $db-&#62;sql_numrows($result_a);
$topic_title = $row_a[topictext];</PRE
></FONT
></TD
></TR
></TABLE
><P
>(Can you see the difference? <SPAN
CLASS="INLINEMEDIAOBJECT"
><IMG
SRC="./images/icon_wink.png"></SPAN
>)</P
><P
>Most decent text editors (see <A
HREF="editing-php-nuke-files.html"
>Chapter 11</A
>) will display the line number for your orientation during such operations.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="install-new-modules.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="find-all-registration-links.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>How to install new modules</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="solve-common-problems-php-nuke.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>How to find all registration links</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>