<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Internet/Intranet Linux server</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="HP HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="

Solutions and Sizing
"
HREF="sizing.html"><LINK
REL="PREVIOUS"
TITLE="Linux as file and print server"
HREF="x6630.html"><LINK
REL="NEXT"
TITLE="Linux as computing server"
HREF="linux-computing.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>HP HOWTO: </TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x6630.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 4. Solutions and Sizing</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="linux-computing.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="LINUX-INTRANET"
>4.2. Internet/Intranet Linux server</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN6698"
>4.2.1. Web Server</A
></H2
><P
>&#13;
The Web service uses 2.5 MB of RAM, in static mode (simple HTML pages) and 5 MB of RAM in dynamic mode (HTML pages generated from perl, PHP, ...) per user.
The disk space needed is function of the nature of the server, knowing that most of the consumption comes from images.
Processor resources used are important, thus it could be useful to consider the increase in frequency and the addition of processors, because this type of traffic could be quite well done in parallel. With Apache 2.0 and the support of threads, it will become even more obvious.
We will priviledge also the I/O speed with Ultra 2 LVD SCSI at 80 MB/s, if the budget allows it, and 10.000 RPM disks.&#13;</P
><DIV
CLASS="TABLE"
><A
NAME="AEN6701"
></A
><P
><B
>Table 4-3. Sizing of a static Web server</B
></P
><TABLE
BORDER="1"
FRAME="border"
RULES="rows"
WIDTH="100%"
CLASS="CALSTABLE"
><COL
WIDTH="40%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><THEAD
><TR
><TH
>Simultaneous users</TH
><TH
>RAM size</TH
><TH
>Disk size</TH
><TH
>Machine example</TH
></TR
></THEAD
><TBODY
><TR
><TD
>  1 -  100</TD
><TD
>256 MB</TD
><TD
>9 GB</TD
><TD
>E800</TD
></TR
><TR
><TD
>100 -  500</TD
><TD
>1 GB</TD
><TD
>9 GB</TD
><TD
>LC2000 Bi-processor</TD
></TR
><TR
><TD
>500 - 1000</TD
><TD
>2 GB</TD
><TD
>9 GB</TD
><TD
>LH6000 Quadri-processor</TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="TABLE"
><A
NAME="AEN6730"
></A
><P
><B
>Table 4-4. Sizing of a dynamic Web server</B
></P
><TABLE
BORDER="1"
FRAME="border"
RULES="rows"
WIDTH="100%"
CLASS="CALSTABLE"
><COL
WIDTH="40%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><THEAD
><TR
><TH
>Simultaneous users</TH
><TH
>RAM size</TH
><TH
>Disk size</TH
><TH
>Machine example</TH
></TR
></THEAD
><TBODY
><TR
><TD
>  1 -  100</TD
><TD
>512 MB</TD
><TD
>9 GB</TD
><TD
>E800</TD
></TR
><TR
><TD
>100 -  500</TD
><TD
>2 GB</TD
><TD
>9 GB</TD
><TD
>LC2000 Bi-processor</TD
></TR
><TR
><TD
>500 - 1000</TD
><TD
>4 GB</TD
><TD
>18 GB</TD
><TD
>LH6000 Quadri-processor</TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN6759"
>4.2.2. Mail Server</A
></H2
><P
>&#13;
Generally, this machine is used as both SMTP (sending and reception of messages) and POP/IMAP server (keeper of messages and manager of client accesses).
The SMTP Mail service uses 2 MB of RAM per user.
The POP/IMAP Mail service uses 2 MB of RAM per user.
The disk space needed becomes more and more important as long as attachments (images, various documents) take the greatest place in exchanges via e-mail. We consider in that case that an average mail box size is 50 MB.
Processor resources used are important, thus it could be useful to consider the increase in frequency and the addition of processors, because this type of traffic could be quite well done in parallel.&#13;</P
><DIV
CLASS="TABLE"
><A
NAME="AEN6762"
></A
><P
><B
>Table 4-5. Sizing of an e-mail server</B
></P
><TABLE
BORDER="1"
FRAME="border"
RULES="rows"
WIDTH="100%"
CLASS="CALSTABLE"
><COL
WIDTH="40%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><THEAD
><TR
><TH
>Simultaneous users</TH
><TH
>RAM size</TH
><TH
>Disk size</TH
><TH
>Machine example</TH
></TR
></THEAD
><TBODY
><TR
><TD
>  1 -  100</TD
><TD
>400 MB</TD
><TD
>9 GB</TD
><TD
>E800</TD
></TR
><TR
><TD
>100 -  500</TD
><TD
>2 GB</TD
><TD
>27 GB</TD
><TD
>LC2000 Bi-processor</TD
></TR
><TR
><TD
>500 - 1000</TD
><TD
>4 GB</TD
><TD
>54 GB</TD
><TD
>LH6000 Quadri-processor</TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN6791"
>4.2.3. Firewall/Proxy/Web-Cache server</A
></H2
><P
>&#13;
Generally, this machine is both a Firewall server, a proxy (in both directions) and a cache for the Web because all requests go through it.
The Firewall service uses 1 MB of RAM.
The Proxy service uses 0.3 MB per incoming relay.
The Web cache service uses 0.5 MB per user.
The disk space needed is function of the parameters of the cache Web server. In that case, we consider 20 MB per user.
Processor resources used are important, due to the analysis of IP packets. Thus it could be useful to consider the increase in frequency.&#13;</P
><DIV
CLASS="TABLE"
><A
NAME="AEN6794"
></A
><P
><B
>Table 4-6. Sizing of a Firewall/Proxy/Web-Cache server</B
></P
><TABLE
BORDER="1"
FRAME="border"
RULES="rows"
WIDTH="100%"
CLASS="CALSTABLE"
><COL
WIDTH="40%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><THEAD
><TR
><TH
>Simultaneous users</TH
><TH
>RAM size</TH
><TH
>Disk size</TH
><TH
>Machine example</TH
></TR
></THEAD
><TBODY
><TR
><TD
>  1 -  100</TD
><TD
>128 MB</TD
><TD
>9 GB</TD
><TD
>E800</TD
></TR
><TR
><TD
>100 -  500</TD
><TD
>512 MB</TD
><TD
>18 GB</TD
><TD
>E800</TD
></TR
><TR
><TD
>500 - 1000</TD
><TD
>1 GB</TD
><TD
>27 GB</TD
><TD
>E800</TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN6823"
>4.2.4. Directory server</A
></H2
><P
>&#13;
Generally, this machine use a software like 

<A
HREF="http://www.openldap.org"
TARGET="_top"
>OpenLDAP</A
> 


to fulfill its goals.
The LDAP service uses 1 MB of RAM and 10 kB of RAM per user.
The disk space needed is of the same kind, so 10 kB per user.
Processor resources used are moderated.&#13;</P
><DIV
CLASS="TABLE"
><A
NAME="AEN6827"
></A
><P
><B
>Table 4-7. Sizing of a LDAP server</B
></P
><TABLE
BORDER="1"
FRAME="border"
RULES="rows"
WIDTH="100%"
CLASS="CALSTABLE"
><COL
WIDTH="40%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><COL
WIDTH="20%"
ALIGN="LEFT"><THEAD
><TR
><TH
>Simultaneous users</TH
><TH
>RAM size</TH
><TH
>Disk size</TH
><TH
>Machine example</TH
></TR
></THEAD
><TBODY
><TR
><TD
>  1 -  100</TD
><TD
>64 MB</TD
><TD
>9 GB</TD
><TD
>E800</TD
></TR
><TR
><TD
>100 -  500</TD
><TD
>64 MB</TD
><TD
>9 GB</TD
><TD
>E800</TD
></TR
><TR
><TD
>500 - 1000</TD
><TD
>128 MB</TD
><TD
>9 GB</TD
><TD
>E800</TD
></TR
></TBODY
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x6630.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="linux-computing.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Linux as file and print server</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sizing.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Linux as computing server</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>