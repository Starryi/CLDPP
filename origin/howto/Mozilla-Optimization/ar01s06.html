<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>6. Compile the Source</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Mozilla Optimization Mini-HOWTO"><link rel="up" href="index.html" title="Mozilla Optimization Mini-HOWTO"><link rel="prev" href="ar01s05.html" title="5. Configure the Source"><link rel="next" href="ar01s07.html" title="7. Post-Install Configuration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6. Compile the Source</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s05.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s07.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="compile"></a>6. Compile the Source</h2></div></div></div><p>To configure Mozilla's compile-time options, type <span class="command"><strong>./configure</strong></span> from the root directory of the Mozilla source tree.  To get a full list of compile-time options, type <span class="command"><strong>./configure --help</strong></span>.  Some things to verify before doing a production compilation include verifying that environment preferences (mail vs. no mail, calendar, ldap, etc.) are set and making sure that the crypto package is enabled.  
</p><p>
For simplicity's sake, I generally use a simple build script like the following to configure Mozilla. 
</p><pre class="screen">
#!/bin/sh

MOZILLA_OFFICIAL=1
export MOZILLA_OFFICIAL
BUILD_OFFICIAL=1
export BUILD_OFFICIAL

./configure --with-x --disable-calendar --enable-crypto --with-system-nspr 
--disable-debug --enable-extensions --enable-optimize
--without-system-zlib --without-system-jpeg --without-system-png 
--without-system-mng
</pre><p>Once you have your patches applied, config files modified, and options set, simply build Mozilla with <span class="emphasis"><em>gmake</em></span> by typing <span class="command"><strong>./gmake</strong></span> in the root directory of your source tree, and then create your tarball by typing <span class="command"><strong>gmake</strong></span> in the <code class="filename">xpinstall/packager</code> directory.  This will drop the tarball in the dist subdirectory just beneath the root directory of your Mozilla source tree.  Just move that package to <code class="filename">/usr/local</code>, unpack it, run it once from the command-line as the user who built the package (the command is <span class="command"><strong>/usr/local/mozilla/mozilla</strong></span>), and you are nearly ready to browse.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s05.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5. Configure the Source </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 7. Post-Install Configuration</td></tr></table></div></body></html>
