<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Second Mouse in X mini-HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><META
NAME="KEYWORD"
CONTENT="  XFree
 "><META
NAME="KEYWORD"
CONTENT="  mouse
 "></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>Second Mouse in X mini-HOWTO</A
></H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>Greg Wierzchowski</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:greg.wierzchowski@usa.net"
>greg.wierzchowski@usa.net</A
>&#62;</CODE
></P
></DIV
></DIV
><P
CLASS="PUBDATE"
>2001-07-18<BR></P
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Revision History</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.2</TD
><TD
ALIGN="LEFT"
>2001-11-17</TD
><TD
ALIGN="LEFT"
>Revised by: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Corrected for the Wheel Mouse in XFree 3.x.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.1</TD
><TD
ALIGN="LEFT"
>2001-07-21</TD
><TD
ALIGN="LEFT"
>Revised by: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Added "Alternatives" section.</TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 1.0</TD
><TD
ALIGN="LEFT"
>2001-07-18</TD
><TD
ALIGN="LEFT"
>Revised by: GW</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
>Initial Release.</TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><P
></P
><A
NAME="AEN11"
></A
><P
>Quick instructions to enable a second mouse in X.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>1. <A
HREF="#INTRO"
>Introduction</A
></DT
><DT
>2. <A
HREF="#COPYRIGHT"
>Copyright and License</A
></DT
><DT
>3. <A
HREF="#PROTOCOL"
>Mouse Protocols</A
></DT
><DT
>4. <A
HREF="#XFREE3"
>XFree 3.x</A
></DT
><DT
>5. <A
HREF="#XFREE4"
>XFree 4.x</A
></DT
><DT
>6. <A
HREF="#ALTERNATIVES"
>Alternatives</A
></DT
><DT
>7. <A
HREF="#CREDITS"
>Credits</A
></DT
></DL
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="INTRO"
>1. Introduction</A
></H2
><P
>This mini-HOWTO was created by gathering the information already available on
the internet, in newsgroups and other HOWTOs. I needed to hook up an USB mouse
in addition to the built-in trackpoint on my Thinkpad laptop. </P
><P
>Examples in this mini-HOWTO pertain to my particular hardware configuration,
which is PS/2 mouse as a primary pointer and USB wheel mouse as an additional
one. It should be pretty straightforward to implement another combination, say,
a PS/2 and a serial mice. Two things that would have to be changed are the
<EM
>mouse
protocol</EM
> and the <EM
>mouse device</EM
>. Wherever
possible, I try to provide appropriate examle. </P
><P
>The instructions for X are divided into two sections, one for XFree version 3 and one
for XFree 4. The format of the XF86Config file has significantly changed between
versions and requires slightly different approach. In XFree 3.x, the second
mouse has to appear in an <EM
>Xinput</EM
> section, which has
slightly different syntax than the regular <EM
>Pointer</EM
> section.
In XFree 4.x, it's just another pointer.</P
></DIV
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="COPYRIGHT"
>2. Copyright and License</A
></H2
><P
>This document is copyright 2001 by Greg Wierzchowski and is released under
      the terms of the GNU Free Documentation License, which is hereby incorporated
      by reference. Send feedback to
      <A
HREF="mailto:greg.wierzchowski@usa.net"
TARGET="_top"
><I
CLASS="CITETITLE"
>greg.wierzchowski@usa.net</I
></A
>.
      </P
></DIV
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="PROTOCOL"
>3. Mouse Protocols</A
></H2
><P
>Two most important parameters in the <TT
CLASS="FILENAME"
>XF86Config</TT
> file, ones that are crucial to the mouse working properly are the <EM
>Protocol</EM
> and <EM
>Device</EM
>.</P
><P
>As far as <EM
>Protocol</EM
> is concerned, it seems that
<EM
>gpm</EM
> uses compatible protocol names, so please look there
for the detailed information. Here is the excerpt taken from the gpm info page
(just the few most commont types):
<DIV
CLASS="TABLE"
><A
NAME="AEN55"
></A
><P
><B
>Table 1. Most Common Mouse Protocols in X</B
></P
><TABLE
BORDER="1"
FRAME="border"
CLASS="CALSTABLE"
><COL
WIDTH="1*"
TITLE="COLUMN1"><COL
WIDTH="1*"
TITLE="COLUMN2"><THEAD
><TR
><TH
>Protocol Name</TH
><TH
>Description</TH
></TR
></THEAD
><TBODY
><TR
><TD
>Microsoft</TD
><TD
>Standard Microsoft mice.</TD
></TR
><TR
><TD
>MouseSystems</TD
><TD
>This is the standard protocol for three-button serial devices.</TD
></TR
><TR
><TD
>MMSeries</TD
><TD
>Title says it all.  This mouse decoder accepts standard serial
      options, although they should not be needed.</TD
></TR
><TR
><TD
>Logitech</TD
><TD
>This is the protocol used by old serial Logitech mice.</TD
></TR
><TR
><TD
>BusMouse</TD
><TD
>Some bus devices use this protocol, including those produced by
      Logitech.</TD
></TR
><TR
><TD
>PS/2</TD
><TD
>The protocol used by most busmice.</TD
></TR
><TR
><TD
>IMPS/2</TD
><TD
>"IntelliMouse" on the ps/2 port. <EM
>Also works with USB
	 mice</EM
></TD
></TR
></TBODY
></TABLE
></DIV
></P
></DIV
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="XFREE3"
>4. XFree 3.x</A
></H2
><P
>In XFree 3.x, additional pointing devices, like mice or tablets, are defined
through the use of an <EM
>Xinput</EM
> section. The primary mouse is
defined as usual:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>Section "Pointer"
    Protocol    "PS/2"
    Device      "/dev/mouse"
EndSection</PRE
></FONT
></TD
></TR
></TABLE
>
In the case above, it's a regular three-button PS/2 mouse, which works for the
trackpoint as well. Now, for the USB mouse:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>    Section "Xinput"
  SubSection "Mouse"
    DeviceName "USB Mice"
    Protocol "IMPS/2"
    ZAxisMapping 4 5
    Port "/dev/input/mice"
    Alwayscore
  EndSubSection
EndSection</PRE
></FONT
></TD
></TR
></TABLE
>
My mouse is a wheel mouse, thus the protocol is <EM
>IMPS/2</EM
>. ZAxisMapping line is also needed for the wheel to work.
I also want the mouse to always work alongside the other one, and this is achieved
through the <EM
>AlwaysCore</EM
> option. If. for example, this was 
a serial mouse, the <EM
>Port</EM
> would read 
<B
CLASS="COMMAND"
>"/dev/ttyS0"</B
> for <B
CLASS="COMMAND"
>COM1</B
>. </P
></DIV
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="XFREE4"
>5. XFree 4.x</A
></H2
><P
>With XFree 4.x the task is even easier. First, the primary mouse, usually present in the config file already:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>Section "InputDevice"
        Identifier  "Mouse0"
        Driver      "mouse"
        Option      "Device" "/dev/mouse"
        Option      "Protocol" "PS/2"
        Option      "Emulate3Buttons" "off"
        Option      "ZAxisMapping" "4 5"
EndSection</PRE
></FONT
></TD
></TR
></TABLE
>
To add another mouse just copy the above section and modify it, so that it reads:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>Section "InputDevice"
        Identifier  "Mouse1"
        Driver      "mouse"
        Option      "Device" "/dev/input/mice"
        Option      "Protocol" "IMPS/2"
        Option      "Emulate3Buttons" "off"
        Option      "ZAxisMapping" "4 5"
EndSection</PRE
></FONT
></TD
></TR
></TABLE
>
Well, this way you can define as many additional pointers as you wish, and the same applies to joysticks and tablets.</P
><P
>To make both mice work together, there's one more change to be made to the <TT
CLASS="FILENAME"
>XF86Config</TT
> file.
There is a section called <EM
>ServerLayout</EM
> where all the components are specified. Here's how it looks <EM
>before</EM
> adding a second mouse:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>Section "ServerLayout"
        Identifier "XFree86 Configured"
        Screen      0  "Screen0" 0 0
        InputDevice    "Mouse0" "CorePointer"
        InputDevice    "Keyboard0" "CoreKeyboard"
EndSection</PRE
></FONT
></TD
></TR
></TABLE
>
And <EM
>after</EM
> adding the second mouse:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>Section "ServerLayout"
        Identifier "XFree86 Configured"
        Screen      0  "Screen0" 0 0
        InputDevice    "Mouse0" "CorePointer"
        InputDevice    "Mouse1" "AlwaysCore"
        InputDevice    "Keyboard0" "CoreKeyboard"
EndSection</PRE
></FONT
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="ALTERNATIVES"
>6. Alternatives</A
></H2
><P
>Another way to use two (or more) mice at the same time is to use a program such as <EM
>MultiMouse</EM
> by Takashi Manabe. It's a daemon multiplexing several mice and making them available through the special device <TT
CLASS="FILENAME"
>/dev/mumse</TT
> as a MouseSystems compatible mouse.</P
><P
> According to the author: <SPAN
CLASS="QUOTE"
>"This program allows you to use multiple mice at the same time. This program is developed for a subnote user who want to use both a pre-mounted pointing device and a external serial mouse."</SPAN
></P
><P
>I'm not sure if the program supports second mouse other than serial, but the advantage is that the second mouse works in console mode too. <B
CLASS="COMMAND"
>MultiMouse</B
> can be found at Sunsite (sunsite.unc.edu /pub/Linux/system/Misc) and Tucows (www.tucows.com Linux Console -&#62; Utilities).</P
></DIV
><DIV
CLASS="SECTION"
><HR><H2
CLASS="SECTION"
><A
NAME="CREDITS"
>7. Credits</A
></H2
><P
>Special thanks to all the people who contribute to the Linux community and who made this HOWTO possible.</P
></DIV
></DIV
></BODY
></HTML
>