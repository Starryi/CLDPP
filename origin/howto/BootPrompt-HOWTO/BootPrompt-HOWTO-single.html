<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.72">
 <TITLE>The Linux BootPrompt-HowTo</TITLE>
</HEAD>
<BODY>
<H1>The Linux BootPrompt-HowTo</H1>

<H2>by Paul Gortmaker. </H2>v1.4, Mar 21, 2003
<HR>
<EM>    This is the BootPrompt-Howto, which is a compilation of all the
        possible boot time arguments that can be passed to the Linux
        kernel at boot time.    A discussion of how the kernel sorts boot time arguments, along
        with an overview of some of the popular software used to boot Linux
        kernels is also included.</EM>
<HR>
<H2><A NAME="main-intro"></A> <A NAME="s1">1. Introduction</A></H2>


<P>The kernel has the capability to accept information at
boot in the form of a `command line', similar to an argument
list you would give to a program. In general this is used to
supply the kernel with information about hardware parameters
that the kernel would not be able to determine on its own, or
to avoid/override the values that the kernel would otherwise
detect.</P>
<P>It is the job of the boot loader (e.g. LILO, loadlin or Grub) to 
take this information from the user and put it in a previously
agreed upon place where the kernel can find it once it starts.</P>
<P>This present revision covers kernels up to and including v2.4.20.
and v2.5.63</P>
<P>The BootPrompt-Howto is by:
<BLOCKQUOTE>
Paul Gortmaker, <CODE>p_gortmaker @ yahoo.com</CODE>
</BLOCKQUOTE>
</P>
<P>This document is Copyright (c) 1995-2003 by Paul Gortmaker.
Please see the Disclaimer and Copying information at the end
of this document (
<A HREF="#copyright">copyright</A>)
for information about redistribution of
this document and the usual `we are not responsible for what
you manage to break...' type legal stuff.</P>

<H2><A NAME="ss1.1">1.1 Intended Audience and Applicability</A>
</H2>

<P>Most Linux users should never have to even look at this document.
Linux does an exceptionally good job at detecting most hardware and
picking reasonable default settings for most parameters.
The information in this document is aimed at users who might want
to change some of the default settings to optimize the kernel to
their particular machine, or to a user who has `rolled their own' 
kernel to support a not so common piece of hardware for which 
the automatic defaults are not optimal.</P>
<P>For the sake of this document it is best to break the 
boot arguments into two general categories; (a)ones
handled by the kernel and (b)those being handled by a device driver.
Examples would be <CODE>init=</CODE> which tells the kernel what the
first program to run should be, versus <CODE>aha154x=</CODE> which
tells a device driver for a SCSI card what hardware resources it
should use are.  This document concentrates on giving detailed
information on those in  (a) for reasons outlined below.</P>
<P><EM>IMPORTANT NOTE:</EM> Driver related boot prompt arguments 
only apply to hardware drivers that are compiled directly into the
kernel. They have <EM>no effect</EM> on drivers that are loaded
as modules. Most Linux distributions come with a basic `bare-bones'
kernel, and the drivers are small modules that are loaded after
the kernel has initialized. 
If you are unsure if you are using modules then try <CODE>lsmod</CODE>,
look at <CODE>man depmod</CODE> and <CODE>man modprobe</CODE> along with the
contents of your <CODE>/etc/modules.conf</CODE>.  </P>
<P>In light of this, device driver boot prompt arguments are
only really used by a few people who are building their own 
kernels, and thus have the kernel source at hand.  These people 
are usually going to check the source for the options and
syntax required by that driver to get the most up to date info.</P>
<P>For example, if you were looking for what arguments could be
passed to the AHA1542 SCSI driver, then you would go to the
<CODE>linux/drivers/scsi</CODE> directory, and look in the
file <CODE>aha1542.c</CODE> for <CODE>__setup(... , ...)</CODE>.  The
first thing in brackets is the argument you provide at boot,
and the second thing is the name of the function that processes your
argument.  Usually near the top of this function or at the
top of the source file you will find a description of the boot 
time arguments that the driver accepts.</P>


<H2><A NAME="ss1.2">1.2 Related Documentation</A>
</H2>


<P>For a while now, the kernel source has come with the file
<CODE>linux/Documentation/kernel-parameters.txt</CODE>.  This
file contains a brief listing of all the boot time arguments
that you can provide, along with quick pointers to where in 
the source you can find where the arguments are parsed.
The idea is that this file gives developers a quick and
easy place to add in a brief description of any new arguments
that they add while working on the source.  As such, it 
will probably always be more up to date than this document.
Actually, I'm considering discontinuing this document in light 
of the existence of <CODE>kernel-parameters.txt</CODE>.  (Opinions?)</P>
<P>The <CODE>linux</CODE> directory is usually found in <CODE>/usr/src/</CODE>
for most distributions.  All references in this document
to files that come with the kernel will have their pathname
abbreviated to start with <CODE>linux</CODE> - you will have to add the 
<CODE>/usr/src/</CODE> or whatever is appropriate for your system.
Some distributions may not install the full kernel source by
default, and only put in the <CODE>linux/include</CODE> directory.
If you can't find the file in question, then install the kernel
source and/or make use of the <CODE>find</CODE> and <CODE>locate</CODE> commands.
If you can't find the kernel source package in your distribution
then the kernel source is available at:</P>
<P>
<A HREF="http://www.kernel.org">Kernel Source Home</A></P>
<P>The next best thing to reading the kernel C source itself, will 
be any of the other documentation files that are
distributed with the kernel itself. There are now quite a
few of these, and most of them can be found in the directory
<CODE>linux/Documentation</CODE> and subdirectories from there.
Sometimes there will be <CODE>README.foo</CODE> files that can be found
in the related driver directory (e.g. <CODE>linux/drivers/???/</CODE>,
where examples of <CODE>???</CODE> could be <CODE>scsi</CODE>, <CODE>char</CODE>, or <CODE>net</CODE>).
The general trend is to move these files into the Documentation
directory, so if a file mentioned in this document is no longer
there, chances are it has been moved.</P>
<P>If you have figured out what boot-args you intend to use, and
now want to know how to get that information to the kernel, then
look at the documentation that comes with the software that you
use to boot the kernel (e.g. LILO or loadlin). A brief overview
is given below, but it is no substitute for the documentation
that comes with the booting software.</P>

<H2><A NAME="new-doc"></A> <A NAME="ss1.3">1.3 New Versions of this Document</A>
</H2>

<P>New versions of this document can be retrieved via anonymous
FTP from most Linux FTP sites in the directory
<CODE>/pub/Linux/docs/HOWTO/</CODE>. Updates will be made as new 
information and/or drivers becomes available. If this copy that
you are presently reading is more than six months old, then
you should probably check to see if a newer copy exists.
I would recommend viewing this via a WWW browser or in the
Postscript/dvi format. Both of these contain cross-references
that are lost in a simple plain text version.</P>
<P>If you want to get the official copy, here is URL.</P>
<P>
<A HREF="http://metalab.unc.edu/mdw/HOWTO/BootPrompt-HOWTO.html">BootPrompt-HOWTO</A></P>

<H2><A NAME="oview"></A> <A NAME="s2">2. Overview of Boot Prompt Arguments</A></H2>


<P>This section gives some examples of software that can be used
to pass kernel boot-time arguments to the kernel itself.
It also gives you an idea of how the arguments are processed,
what limitations there are on the boot args, and how they filter
down to each appropriate device that they are intended for.</P>
<P>It is <EM>important</EM> to note that spaces should <EM>not</EM> be
used in a boot argument, but only between separate arguments.
A list of values that are for a single argument are to be
separated with a comma between the values, and again without
any spaces. See the following examples below.</P>
<P>
<HR>
<PRE>
        ether=9,0x300,0xd0000,0xd4000,eth0  root=/dev/hda1            *RIGHT*
        ether = 9, 0x300, 0xd0000, 0xd4000, eth0  root = /dev/hda1    *WRONG*
</PRE>
<HR>
</P>
<P>Once the Linux kernel is up and running, one can view the command
line arguments that were in place at boot by simply typing
<CODE>cat /proc/cmdline</CODE> at a shell prompt. </P>

<H2><A NAME="lilo"></A> <A NAME="ss2.1">2.1 LILO (LInux LOader)</A>
</H2>

<P>The LILO program (LInux LOader) written by Werner Almesberger
is the most commonly used. It has the ability to boot
various kernels, and stores the configuration information
in a plain text file. Most distributions ship with LILO
as the default boot-loader. LILO can boot DOS, OS/2, Linux,
FreeBSD, etc. without any difficulties, and is quite flexible.</P>
<P>A typical configuration will have LILO stop and print <CODE>LILO:</CODE>
shortly after you turn on your computer. It will then wait for
a few seconds for any optional input from the user, and failing
that it will then boot the default system. Typical system labels
that people use in the LILO configuration files are <CODE>linux</CODE>
and <CODE>backup</CODE> and <CODE>msdos</CODE>. If you want to type in a boot
argument, you type it in here, after typing in the system label
that you want LILO to boot from, as shown in the example below.</P>
<P>
<HR>
<PRE>
        LILO: linux root=/dev/hda1
</PRE>
<HR>
</P>
<P>LILO comes with excellent documentation, and for the purposes
of boot args discussed here, the LILO <CODE>append=</CODE> command
is of significant importance when one wants to add a boot time
argument as a permanent addition to the LILO config file.
You simply add something like <CODE>append = "foo=bar"</CODE> to the
<CODE>/etc/lilo.conf</CODE> file. It can either be added at the top
of the config file, making it apply to all sections, or to a
single system section by adding it inside an <CODE>image=</CODE> section.
Please see the LILO documentation for a more complete description.</P>

<H2><A NAME="loadlin"></A> <A NAME="ss2.2">2.2 LoadLin</A>
</H2>

<P>The other commonly used Linux loader is `LoadLin' which is
a DOS program that has the capability to launch a Linux
kernel from the DOS prompt (with boot-args) assuming that
certain resources are available. This is good for people
that use DOS and want to launch into Linux from DOS.</P>
<P>It is also very useful if you have certain hardware which relies
on the supplied DOS driver to put the hardware into a known
state. A common example is `SoundBlaster Compatible' sound
cards that require the DOS driver to set a few proprietary
registers to put the card into a SB compatible mode. Booting
DOS with the supplied driver, and then loading Linux from
the DOS prompt with <CODE>LOADLIN.EXE</CODE> avoids the reset of 
the card that
happens if one rebooted instead. Thus the card is left in a
SB compatible mode and hence is useable under Linux.</P>
<P>There are also other programs that can be used to boot Linux.
For a complete list, please look at the programs available
on your local Linux ftp mirror, under <CODE>system/Linux-boot/</CODE>.</P>

<H2><A NAME="rdev"></A> <A NAME="ss2.3">2.3 The ``rdev'' utility</A>
</H2>

<P>There are a few of the kernel boot parameters that have their
default values stored in various bytes in the kernel image itself.
There is a utility called <CODE>rdev</CODE> that is installed on most
systems that knows where these values are, and how to change them.
It can also change things that have no kernel boot argument
equivalent, such as the default video mode used.</P>
<P>The rdev utility is usually also aliased to swapdev, ramsize,
vidmode and rootflags. These are the five things that rdev
can change, those being the root device, the swap device,
the RAM disk parameters, the default video mode, and the        
readonly/readwrite setting of root device.</P>
<P>More information on <CODE>rdev</CODE> can be found by typing
<CODE>rdev -h</CODE> or by reading the supplied man page (<CODE>man rdev</CODE>).</P>

<H2><A NAME="ss2.4">2.4 How the Kernel Sorts the Arguments</A>
</H2>

<P>Most of the boot args take the form of:
<HR>
<PRE>
        name[=value_1][,value_2]...[,value_11]
</PRE>
<HR>
</P>
<P>where `name' is a unique keyword that is used to identify
what part of the kernel the associated values (if any) are to be
given to. Multiple boot args are just a space separated list
of the above format. Note the limit of 11 is real, as the
present code only handles 11 comma separated parameters per
keyword. (However, you can re-use the same keyword with
up to an additional 11 parameters in unusually complicated
situations, assuming the setup function supports it.)
Also note that the kernel splits the list into a maximum of
ten integer arguments, and a following string, so you
can't really supply 11 integers unless you convert the
11th arg from a string to an int in the driver itself.</P>
<P>Most of the sorting goes on in <CODE>linux/init/main.c</CODE>.
First, the kernel checks to see if the argument is any of
the special arguments `root=', `ro', `rw', or `debug'.
The meaning of these special arguments is described further
on in the document.</P>
<P>Then it walks a list of      setup functions (contained in the
<CODE>bootsetups</CODE> array) to see if the specified
argument string (such as `foo') has been associated with a
setup function (<CODE>foo_setup()</CODE>) for a particular
device or part of the kernel. If you
passed the kernel the line <CODE>foo=3,4,5,6,bar</CODE> then the
kernel would search the <CODE>bootsetups</CODE> array to see if
`foo' was registered. If it was, then it would call the
setup function associated with `foo' (<CODE>foo_setup()</CODE>)
and hand it the integer arguments
3, 4, 5 and 6 as given on the kernel command line, and
also hand it the string argument <CODE>bar</CODE>.</P>

<H2><A NAME="ss2.5">2.5 Setting Environment Variables.</A>
</H2>

<P>Anything of the form `foo=bar' that is not accepted as a
setup function as described above is then interpreted as an
environment variable to be set. An example would
be to use <CODE>TERM=vt100</CODE> or <CODE>BOOT_IMAGE=vmlinuz.bak</CODE>
as a boot argument.  These environment
variables are typically tested for in the initialization 
scripts to enable or disable a wide range of things.</P>

<H2><A NAME="ss2.6">2.6 Passing Arguments to the `init' program</A>
</H2>

<P>Any remaining arguments that were not picked up by the
kernel and were not interpreted as environment variables
are then passed onto process one, which is usually the
<CODE>init</CODE> program. The most common argument that is passed to
the <CODE>init</CODE> process is the word <EM>single</EM> which instructs
<CODE>init</CODE> to boot the computer in single user mode, and not
launch all the usual daemons. Check the manual page for the
version of <CODE>init</CODE> installed on your system to see what
arguments it accepts.</P>

<H2><A NAME="general"></A> <A NAME="s3">3. General Non-Device Specific Boot Args</A></H2>

<P>These are the boot arguments that are not related to any
specific device or peripheral. They are instead related to
certain internal kernel parameters, such as memory handling,
ramdisk handling, root file system handling and others.</P>

<H2><A NAME="ss3.1">3.1 Root Filesystem options</A>
</H2>

<P>The following options all pertain to how the kernel selects
and handles the root filesystem.</P>

<H3>The `root=' Argument</H3>

<P>This argument tells the kernel what device is to be used as
the root filesystem while booting. The default of this setting
is the value of the root device of the system that
the kernel was built on.
For example, if the kernel in question was built on a system
that used `/dev/hda1' as the root partition, then the default
root device would be `/dev/hda1'.  To override this default
value, and select the second floppy drive as the root device,
one would use `root=/dev/fd1'.</P>
<P>Valid root devices are any of the following devices:</P>
<P>(1) /dev/hdaN to /dev/hddN, which is partition N on ST-506
compatible disk `a to d'.</P>
<P>(2) /dev/sdaN to /dev/sdeN, which is partition N on SCSI
compatible disk `a to e'.</P>
<P>(3) /dev/xdaN to /dev/xdbN, which is partition N on XT
compatible disk `a to b'.</P>
<P>(4) /dev/fdN, which is floppy disk drive number N. Having
N=0 would be the DOS `A:' drive, and N=1 would be `B:'.</P>
<P>(5) /dev/nfs, which is not really a device, but rather a
flag to tell the kernel to get the root fs via the network.</P>
<P>(6) /dev/ram, which is the RAM disk.</P>
<P>The more awkward and less portable numeric specification
of the above possible disk devices in major/minor format is
also accepted. (e.g. /dev/sda3 is major 8, minor 3, so you
could use <CODE>root=0x803</CODE> as an alternative.)</P>
<P>This is one of the few kernel boot arguments that has its
default stored in the kernel image, and which can thus
be altered with the <CODE>rdev</CODE> utility.</P>


<H3>The `rootflags=' Argument</H3>

<P>This option allows you to give options pertaining to the
mounting of the root filesystem just as you would to the
<CODE>mount</CODE> program.  An example could be giving the
<CODE>noatime</CODE>  option to an ext2 fs.</P>

<H3>The `rootfstype=' Argument</H3>

<P>This option allows you to give a comma separated list of
fs types that will be tried for a match when trying to 
mount the root filesystem.  This list will be used instead
of the internal default which usually starts with ext2,
minix and the like.</P>

<H3>The `ro' Argument</H3>

<P>When the kernel boots, it needs a root filesystem to read
basic things off of. This is the root filesystem that is
mounted at boot. However, if the root filesystem is mounted
with write access, you can not reliably check the filesystem
integrity with half-written files in progress. The `ro'
option tells the kernel to mount the root filesystem as
`readonly' so that any filesystem consistency check programs
(fsck) can safely assume that there are no half-written
files in progress while performing the check. No programs
or processes can write to files on the filesystem in
question until it is `remounted' as read/write capable.</P>
<P>This is one of the few kernel boot arguments that has its
default stored in the kernel image, and which can thus
be altered with the <CODE>rdev</CODE> utility.</P>

<H3>The `rw' Argument</H3>

<P>This is the exact opposite of the above, in that it tells the
kernel to mount the root filesystem as read/write. The default
is to mount the root filesystem as read only. Do not
run any `fsck' type programs on a filesystem that is mounted
read/write.</P>
<P>The same value stored in the image file mentioned above is
also used for this parameter, accessible via <CODE>rdev</CODE>.</P>

<H3>The `nfsroot=' Argument</H3>

<P>This argument tells the kernel which machine, what directory
and what NFS options to use for the root filesystem.
Also note that
the argument <CODE>root=/dev/nfs</CODE> is required. Detailed
information on using an NFS root fs is in the file
<CODE>linux/Documentation/nfsroot.txt</CODE>. </P>


<H3>The `ip=' or `nfsaddrs=' Argument</H3>

<P>If you are using NFS as a root filesystem, then there is no
programs like <CODE>ifconfig</CODE> and <CODE>route</CODE> present until
the root fs is mounted, and so the
kernel has to configure the network interfaces directly.
This boot argument sets up the various network interface addresses
that are required to communicate over the network. If this argument
is not given, then the kernel tries to use RARP and/or BOOTP to
figure out these parameters. </P>

<H2><A NAME="ss3.2">3.2 Options Relating to RAM Disk Management</A>
</H2>

<P>The following options all relate to how the kernel handles
the RAM disk device, which is usually used for bootstrapping
machines during the install phase, or for machines with
modular drivers that need to be installed to access the
root filesystem.</P>


<H3>The `ramdisk_start=' Argument</H3>

<P>To allow a kernel image to reside on a floppy disk along with a
compressed ramdisk image, the `ramdisk_start=&lt;offset&gt;' command
was added. The kernel can't be included into the compressed ramdisk
filesystem image, because it needs to be stored starting at block
zero so that the BIOS can load the bootsector and then the kernel
can bootstrap itself to get going.</P>
<P>Note: If you are using an uncompressed ramdisk image, then the kernel
can be a part of the filesystem image that is being loaded into the
ramdisk, and the floppy can be booted with LILO, or the two can be
separate as is done for the compressed images.</P>
<P>If you are using a two-disk boot/root setup (kernel on disk 1,
ramdisk image on disk 2) then the ramdisk would start at block zero,
and an offset of zero would be used. Since this is the default value,
you would not need to actually use the command at all.</P>

<H3>The `load_ramdisk=' Argument</H3>

<P>This parameter tells the kernel whether it is to try to load a
ramdisk image or not. Specifying `load_ramdisk=1' will tell the
kernel to load a floppy into the ramdisk. The default value is
zero, meaning that the kernel should not try to load a ramdisk.</P>
<P>Please see the file <CODE>linux/Documentation/ramdisk.txt</CODE>
for a complete description of the new boot time arguments, and
how to use them. A description of how this parameter can be set
and stored in the kernel image via `rdev' is also described.</P>

<H3>The `prompt_ramdisk=' Argument</H3>

<P>This parameter tells the kernel whether or not to give you a prompt
asking you to insert the floppy containing the ramdisk image. In
a single floppy configuration the ramdisk image is on the same floppy
as the kernel that just finished loading/booting and so a prompt
is not needed. In this case one can use `prompt_ramdisk=0'. In a
two floppy configuration, you will need the chance to switch disks,
and thus `prompt_ramdisk=1' can be used. Since this is the default
value, it doesn't really need to be specified. (
(Historical note: Sneaky people used to use the `vga=ask' LILO
option to temporarily pause the boot process and allow a chance to 
switch from boot to root floppy.)</P>
<P>Please see the file <CODE>linux/Documentation/ramdisk.txt</CODE>
for a complete description of the new boot time arguments, and
how to use them. A description of how this parameter can be set
and stored in the kernel image via `rdev' is also described.</P>

<H3>The `ramdisk_size=' Argument</H3>

<P>While it is true that the ramdisk grows dynamically as required,
there is an upper bound on its size so that it doesn't consume
all available RAM and leave you in a mess. The default is 4096
(i.e. 4MB) which should be large enough for most needs. You
can override the default to a bigger or smaller size with this
boot argument.</P>
<P>Please see the file <CODE>linux/Documentation/ramdisk.txt</CODE>
for a complete description of the new boot time arguments, and
how to use them. A description of how this parameter can be set
and stored in the kernel image via `rdev' is also described.</P>

<H3>The `ramdisk_blocksize=' Argument</H3>

<P>This can be tuned for better memory management behaviour.
Quoting from the ramdisk driver <CODE>rd.c</CODE>:</P>
<P>It would be very desirable to have a soft-blocksize (that in 
the case of the ramdisk driver is also the hardblocksize ;) of 
PAGE_SIZE because doing that we'll achieve a far better MM 
footprint. Using a rd_blocksize of BLOCK_SIZE in the worst case 
we'll make PAGE_SIZE/BLOCK_SIZE buffer-pages unfreeable. With a 
rd_blocksize of PAGE_SIZE instead we are sure that only 1 page 
will be protected. Depending on the size of the ramdisk you may 
want to change the ramdisk blocksize to achieve a better or worse 
MM behaviour. The default is still BLOCK_SIZE (needed by 
rd_load_image that supposes the filesystem in the image uses 
a BLOCK_SIZE blocksize)</P>

<H3>The `ramdisk=' Argument (obsolete)</H3>

<P>(NOTE: This argument is obsolete, and should not be used except
on kernels v1.3.47 and older. The commands that should be used
for the ramdisk device are documented above.  Newer kernels
may accept this as an alias for <CODE>ramdisk_size</CODE>.)</P>
<P>This specifies the size in kB of the RAM disk device.
For example, if one wished to have a root filesystem on a 1.44MB
floppy loaded into the RAM disk device, they would use:</P>
<P>
<HR>
<PRE>
        ramdisk=1440
</PRE>
<HR>
</P>
<P>This is one of the few kernel boot arguments that has its
default stored in the kernel image, and which can thus
be altered with the <CODE>rdev</CODE> utility.</P>


<H3>The `noinitrd' (initial RAM disk) Argument</H3>

<P>The v2.x and newer kernels have a feature where the root filesystem
can be initially a RAM disk, and the kernel executes <CODE>/linuxrc</CODE>
on that RAM image. This feature is typically used to allow loading
of modules needed to mount the real root filesystem (e.g. load
the SCSI driver modules stored in the RAM disk image, and then
mount the real root filesystem on a SCSI disk.)</P>
<P>The actual `noinitrd' argument determines what happens to the
initrd data after the kernel has booted.  When
specified, instead of converting it to a RAM disk, it
is accessible via <CODE>/dev/initrd</CODE>, which can be read once
before the RAM is released back to the system. For full details
on using the initial RAM disk, please consult
<CODE>linux/Documentation/initrd.txt</CODE>. In addition, the most
recent versions of <CODE>LILO</CODE> and <CODE>LOADLIN</CODE> should have additional
useful information.</P>


<H2><A NAME="ss3.3">3.3 Boot Arguments Related to Memory Handling</A>
</H2>

<P>The following arguments alter how Linux detects or handles
the physical and virtual memory of your system.</P>

<H3>The `cachesize=' Argument</H3>

<P>Override level 2 CPU cache size detection (in kB).  Sometimes 
CPU hardware bugs make them report the cache size incorrectly. 
The kernel will attempt work arounds to fix known problems, but 
for some CPUs it is not possible to determine what the correct 
size should be.  This option provides an override for these 
situations.</P>

<H3>The `mem=' Argument</H3>

<P>This argument has several purposes: The original purpose was to
specify the amount of installed memory (or a value less than
that if you wanted to limit the amount of memory available to
linux).</P>
<P>The next (and hardly used) purpose is to specify
<CODE>mem=nopentium</CODE> which tells the Linux kernel to not use
the 4MB page table performance feature.  If you want to use
it for both purposes, use a separate <CODE>mem=</CODE> for each one.</P>
<P>The original BIOS call defined in the PC specification  that
returns the amount of installed memory was only designed to
be able to report up to 64MB. (Yes, another lack of foresight,
just like the 1024 cylinder disks... sigh.) Linux uses this
BIOS call at boot to determine how much memory is installed.
A newer specification (e820) allows the BIOS to get this right
on most machines nowadays.  If you have more than 64MB of RAM 
installed on an older machine, you can use this
boot argument to tell Linux how much memory you have.
Here is a quote from Linus on the usage of the <CODE>mem=</CODE> parameter.</P>
<P>``The kernel will accept any `mem=xx' parameter you give it, and if
it turns out that you lied to it, it will crash horribly sooner or
later.  The parameter indicates the highest addressable RAM address,
so `mem=0x1000000' means you have 16MB of memory, for example.  For
a 96MB machine this would be `mem=0x6000000'.
If you tell Linux that it has more memory
than it actually does have, bad things will happen: maybe not at
once, but surely eventually.''</P>
<P>Note that the argument does not have to be in hex, and the
suffixes `k' and `M' (case insensitive) can be used to specify
kilobytes and Megabytes, respectively. (A `k' will cause a 10 bit
shift on your value, and a `M' will cause a 20 bit shift.)
A typical example for a 128MB machine would be "<CODE>mem=128m</CODE>".</P>
<P>In some cases, the memory reported via e820 can also be wrong,
and so the <CODE>mem=exactmap</CODE> was added.  You use this in
conjunction with specifying an exact memory map, such as:</P>
<P>
<HR>
<PRE>
        mem=exactmap mem=640K@0 mem=1023M@1M
</PRE>
<HR>
</P>
<P>for a 1GB machine with the usual 384k of ISA memory mapped
I/O space excluded from use.</P>


<H3>The `memfrac=' Argument</H3>

<P>Memory is broken down into zones; on i386 these zones
correspond to `DMA' (for legacy ISA devices that can only address
up to 16MB via DMA); `Normal' for memory from 16MB up to 1GB,
and `HighMem' for memory beyond 1GB (assuming your kernel
was built with high mem support enabled). The two (or three)
integers supplied here determine how much memory in each zone
should be kept free - with the size of the zone divided by the
number supplied being used as the minimum (so smaller numbers
mean keep more free in the zone).  The defaults are currently
<CODE>memfrac=32,128,128</CODE>.</P>

<H3>The `swap=' Argument</H3>

<P>This allows the user to tune some of the virtual memory (VM)
parameters that are related to swapping to disk. It accepts
the following eight parameters:</P>
<P>
<HR>
<PRE>
        MAX_PAGE_AGE
        PAGE_ADVANCE
        PAGE_DECLINE
        PAGE_INITIAL_AGE
        AGE_CLUSTER_FRACT
        AGE_CLUSTER_MIN
        PAGEOUT_WEIGHT
        BUFFEROUT_WEIGHT
</PRE>
<HR>
</P>
<P>Interested hackers are advised to have a read of 
<CODE>linux/mm/swap.c</CODE> and also make note of the goodies in 
<CODE>/proc/sys/vm</CODE>. Kernels come with some
useful documentation on this in the
<CODE>linux/Documentation/vm/</CODE> directory.</P>

<H3>The `buff=' Argument</H3>

<P>Similar to the `swap=' argument, this allows the user to
tune some of the parameters related to buffer memory management.
It accepts the following six parameters:</P>
<P>
<HR>
<PRE>
        MAX_BUFF_AGE
        BUFF_ADVANCE
        BUFF_DECLINE
        BUFF_INITIAL_AGE
        BUFFEROUT_WEIGHT
        BUFFERMEM_GRACE
</PRE>
<HR>
</P>
<P>Interested hackers are advised to have a read of 
<CODE>linux/mm/swap.c</CODE> and also make note of the goodies
in <CODE>/proc/sys/vm</CODE>.  Kernels come with some
useful documentation on this in the
<CODE>linux/Documentation/vm/</CODE> directory.</P>

<H2><A NAME="ss3.4">3.4 Other Misc. Kernel Boot Arguments</A>
</H2>

<P>These various boot arguments let the user tune certain
internal kernel parameters.</P>

<H3>The `acpi=' Argument</H3>

<P>Currently this only accepts `off' to disable the ACPI subsystem.</P>

<H3>The `console=' Argument</H3>

<P>Usually the console is the 1st virtual terminal, and so boot
messages appear on your VGA screen.  Sometimes it is nice to
be able to use another device like a serial port (or even a
printer!) to be the console when no video device is present.
It is also useful to capture boot time messages if a problem
stops progress before they can be logged to disk.
An example would be to use
<CODE>console=ttyS1,9600</CODE> for selecting the 2nd serial port
at 9600 baud to be the console.
More information can be found in 
<CODE>linux/Documentation/serial-console.txt</CODE>.</P>

<H3>The `debug' Argument</H3>

<P>The kernel communicates important (and not-so important)
messages to the operator via the <CODE>printk()</CODE> function.
If the message is considered important, the <CODE>printk()</CODE>
function will put a copy on the present console as well
as handing it off to the <CODE>klogd()</CODE> facility so that it
gets logged to disk. The reason for printing important
messages to the console as well as logging them to disk is
because under unfortunate circumstances (e.g. a disk failure)
the message won't make it to disk and will be lost.</P>
<P>The threshold for what is and what isn't considered important
is set by the <CODE>console_loglevel</CODE> variable. The default is
to log anything more important than <CODE>DEBUG</CODE> (level 7) to
the console. (These levels are defined in the include file
<CODE>kernel.h</CODE>) Specifying <CODE>debug</CODE> as a boot argument will
set the console loglevel to 10, so that <EM>all</EM> kernel
messages appear on the console.</P>
<P>The console loglevel can usually also be set at run time via
an option to the <CODE>klogd()</CODE> program. Check the man page
for the version installed on your system to see how to do this.</P>

<H3>The `decnet=' Argument</H3>

<P>If you are using DECnet, you can supply two comma separated
integers here to give your area and node respectively.</P>

<H3>The `devfs=' Argument</H3>

<P>If you are using devfs, instead of the standard static
devices in <CODE>/dev/</CODE> then you can supply the words
<CODE>only</CODE> or <CODE>mount</CODE> with this argument.
There are also additional debug arguments that are listed
in the source.</P>

<H3>The `gpt' Argument</H3>

<P>If you are using EFI GUID Partition Table handling, you can
use this to override problems associated with an invalid PMBR.</P>

<H3>The `idle=' Argument</H3>

<P>Setting this to `poll' causes the idle loop in the kernel
to poll on the need reschedule flag instead of waiting
for an interrupt to happen. This can result in an improvement
in performance on SMP systems (albeit at the cost of an
increase in power consumption).</P>

<H3>The `init=' Argument</H3>

<P>The kernel defaults to starting the `init' program at boot,
which then takes care of setting up the computer for users
via launching getty programs, running `rc' scripts and the like.
The kernel first looks for <CODE>/sbin/init</CODE>, then
<CODE>/etc/init</CODE> (depreciated), and as a last resort, it
will try to use <CODE>/bin/sh</CODE> (possibly on <CODE>/etc/rc</CODE>).
If for example, your init program got corrupted and thus stopped
you from being able to boot, you could simply use the boot prompt
<CODE>init=/bin/sh</CODE> which would drop you directly into a
shell at boot, allowing you to replace the corrupted program.</P>

<H3>The `isapnp=' Argument</H3>

<P>This takes the form of:
<CODE>isapnp=read_port,reset,skip_pci_scan,verbose</CODE></P>

<H3>The `isapnp_reserve_dma=' Argument</H3>

<P>This takes the form of:
<CODE>isapnp_reserve_dma=n1,n2,n3,...nN</CODE>
where n1 ... nN are the DMA channel numbers to not use for PnP.</P>

<H3>The `isapnp_reserve_io=' Argument</H3>

<P>This takes the form of:
<CODE>isapnp_reserve_irq=io1,size1,io2,size2,...ioN,sizeN</CODE>
where ioX,sizeX are I/O start and length pairs of regions
in I/O space that are not to be used by PnP.</P>

<H3>The `isapnp_reserve_irq=' Argument</H3>

<P>This takes the form of:
<CODE>isapnp_reserve_irq=n1,n2,n3,...nN</CODE>
where n1 ... nN are the interrupt numbers to not use for PnP.</P>

<H3>The `isapnp_reserve_mem=' Argument</H3>

<P>This takes the form of:
<CODE>isapnp_reserve_mem=mem1,size1,mem2,size2,...memN,sizeN</CODE>
where ioX,sizeX are I/O start and length pairs of regions
in memory space that are not to be used by PnP.</P>

<H3>The `kbd-reset' Argument</H3>

<P>Normally on i386 based machines, the Linux kernel does not 
reset the keyboard controller at boot, since the BIOS is
supposed to do this.  But as usual, not all machines do what
they should. Supplying this option may help if you are having 
problems with your keyboard behaviour.  It simply forces a
reset at initialization time. (Some have argued that this should
be the default behaviour anyways).</P>

<H3>The `lockd.udpport=' and `lockd.tcpport' Argument</H3>

<P>These tell the kernel to use the given port numbers for
NFS lockd operation (for either UDP or TCP operation).</P>

<H3>The `maxcpus=' Argument</H3>

<P>The number given with this argument limits the maximum
number of CPUs activated in SMP mode.  Using a value of
0 is equivalent to the <CODE>nosmp</CODE> option.</P>

<H3>The `mca-pentium' Argument</H3>

<P>The IBM model 95 Microchannel machines seem to lock up on the 
test that Linux usually does to detect the type of math chip
coupling.  Since all Pentium chips have a built in math processor,
this test (and the lock up problem) can be avoided by using
this boot option.</P>

<H3>The `md=' Argument</H3>

<P>If your root filesystem is on a Multiple Device then you can
use this (assuming you compiled in boot support) to tell the
kernel the  multiple device layout. The format (from the 
file <CODE>linux/Documentation/md.txt</CODE>) is:</P>
<P><CODE>md=md_device_num,raid_level,chunk_size_factor,fault_level,dev0,dev1,...,devN</CODE></P>
<P>Where <CODE>md_device_num</CODE> is the number of the md device,
i.e. 0 means md0, 1 means md1, etc.
For <CODE>raid_level</CODE>, use -1 for linear mode and 0 for striped mode.
Other modes are currently unsupported.
The <CODE>chunk_size_factor</CODE> is for  raid-0 and raid-1 only and
sets the chunk size as PAGE_SIZE shifted left the specified 
amount.  The <CODE>fault_level</CODE> is only for raid-1
and sets the maximum fault number to the specified number.
(Currently unsupported due to lack of boot support for raid1.)
The <CODE>dev0-devN</CODE> are a comma separated list of the devices that
make up the individual md device: 
e.g. <CODE>/dev/hda1,/dev/hdc1,/dev/sda1</CODE></P>
<P>See also <CODE>raid=</CODE>.</P>

<H3>The `nmi_watchdog=' Argument</H3>

<P>Supplying a non-zero integer will enable the non maskable
interrupt watchdog (assuming IO APIC support is compiled in).
This checks to see if the interrupt count is increasing
(indicating normal system activity) and if it is not then
it assumes that a processor is stuck and forces an error
dump of diagnostic information.</P>

<H3>The `no387' Argument</H3>

<P>Some i387 coprocessor chips have bugs that show up when
used in 32 bit protected mode. For example, some of the
early ULSI-387 chips would cause solid lockups while
performing floating point calculations, apparently due to
a bug in the FRSAV/FRRESTOR instructions.  Using the `no387'
boot argument causes Linux to ignore the math coprocessor
even if you have one. Of course you must then have your
kernel compiled with math emulation support! This may also
be useful if you have one of those <EM>really</EM> old 386 machines
that could use an 80287 FPU, as Linux can't use an 80287.</P>

<H3>The `no-hlt' Argument</H3>

<P>The i386 (and successors thereof) family of CPUs have a
`hlt' instruction which tells the CPU that nothing is
going to happen until an external device (keyboard, modem,
disk, etc.) calls upon the CPU to do a task. This allows the
CPU to enter a `low-power' mode where it sits like a zombie
until an external device wakes it up (usually via an interrupt).
Some of the early i486DX-100 chips had a problem  with the
`hlt' instruction, in that they couldn't reliably return to
operating mode after this instruction was used. Using the
`no-hlt' instruction tells Linux to just run an infinite loop
when there is nothing else to do, and to <EM>not</EM> halt your
CPU when there is no activity. This allows people with these
broken chips to use Linux, although they would be well advised
to seek a replacement through a warranty where possible.</P>

<H3>The `no-scroll' Argument</H3>

<P>Using this argument at boot disables scrolling features that
make it difficult to use Braille terminals.</P>

<H3>The `noapic' Argument</H3>

<P>Using this option tells a SMP kernel to not use some of the
advanced features of the interrupt controller on multi processor
machines.  Use of this option may be required when a device
(such as those using ne2k-pci or 3c59xi drivers) stops generating
interrupts (i.e. <CODE>cat /proc/interrupts</CODE> shows the same
interrupt count.)
See <CODE>linux/Documentation/IO-APIC.txt</CODE> for more information.</P>

<H3>The `noht' Argument</H3>

<P>This will disable hyper-threading on intel processors that 
have this feature.</P>

<H3>The `noisapnp' Argument</H3>

<P>If ISA PnP is built into the kernel, this will disable it.</P>

<H3>The `nomce' Argument</H3>

<P>Some newer processors have the ability to self-monitor and
detect inconsistencies that should not regularly happen.
If an inconsistency is detected, a Machine Check Exception
will take place and the system will be halted (rather than
plundering forward and corrupting your data).  You can use
this argument to disable this feature, but be sure to check
that your CPU is not overheating or otherwise faulty first.</P>

<H3>The `nosmp' Argument</H3>

<P>Use of this option will tell a SMP kernel on a SMP machine to
operate single processor.  Typically only used for debugging
and determining if a particular problem is SMP related.</P>

<H3>The `noresume' Argument</H3>

<P>If software suspend is enabled, and a suspend to disk file
has been specified, using this argument will give a normal
boot and the suspend data will be ignored.</P>

<H3>The `notsc' Argument</H3>

<P>Use of this option will tell the kernel to not use the
Time Stamp Counter for anything, even if the CPU has one.</P>

<H3>The `nofxsr" Argument</H3>

<P>Use of this option will tell the kernel to not use 
any speed-up tricks involving the floating point unit,
even if the processor supports them.</P>

<H3>The `panic=' Argument</H3>

<P>In the unlikely event of a kernel panic (i.e. an internal error
that has been detected by the kernel, and which the kernel decides
is serious enough to moan loudly and then halt everything), the
default behaviour is to just sit there until someone comes along
and notices the panic message on the screen and reboots the machine.
However if a machine is running unattended in an isolated location
it may be desirable for it to automatically reset itself so that
the machine comes back on line. For example, using <CODE>panic=30</CODE> at
boot would cause the kernel to try and reboot itself 30 seconds
after the kernel panic happened. A value of zero gives the default
behaviour, which is to wait forever.</P>
<P>Note that this timeout value can also be read and set via the
<CODE>/proc/sys/kernel/panic</CODE> sysctl interface.</P>

<H3>The `pirq=' Argument</H3>

<P>Using this option tells a SMP kernel information on the PCI
slot versus IRQ settings for SMP motherboards which are
unknown (or known to be blacklisted).
See <CODE>linux/Documentation/IO-APIC.txt</CODE> for more
information.</P>

<H3>The `profile=' Argument</H3>

<P>Kernel developers can 
profile how and where the kernel is spending its CPU cycles
in an effort to maximize efficiency and performance. This
option lets you set the profile shift count at boot. Typically
it is set to two.   You need a tool such as 
<CODE>readprofile.c</CODE> that can make use of the <CODE>/proc/profile</CODE>
output.</P>

<H3>The `quiet' Argument</H3>

<P>This is pretty much the opposite of the `debug' argument.
When this is given, only important and system critical
kernel messages are printed to the console.  Normal messages
about hardware detection at boot are suppressed.</P>

<H3>The `raid=' Argument</H3>

<P>Accepts <CODE>noautodetect</CODE> at the moment.  See also <CODE>md=</CODE>.</P>

<H3>The `reboot=' Argument</H3>

<P>This option controls the type of reboot that Linux will do
when it resets the computer (typically via <CODE>/sbin/init</CODE>
handling a Control-Alt-Delete). The default as of v2.0
kernels is to do a `cold' reboot (i.e. full reset, BIOS does
memory check, etc.) instead of a `warm' reboot (i.e. no full
reset, no memory check). It was changed to be cold by default 
since that tends to work on cheap/broken hardware that fails
to reboot when a warm reboot is requested. To get the old 
behaviour (i.e. warm reboots) use <CODE>reboot=w</CODE> or in fact
any word that starts with <CODE>w</CODE> will work.</P>
<P>Other accepted options are `c', `b', `h', and `s', for cold,
bios, hard, and SMP respectively. The `s' takes an optional
digit to specify which CPU should handle the reboot. Options
can be combined where it makes sense, i.e. <CODE>reboot=b,s2</CODE> </P>

<H3>The `reserve=' Argument</H3>

<P>This is used to <EM>protect</EM> I/O port regions from probes.
The form of the command is:</P>
<P>
<BLOCKQUOTE><CODE>
reserve=iobase,extent[,iobase,extent]...
</CODE></BLOCKQUOTE>
</P>
<P>In some machines it may be necessary to prevent device drivers from
checking for devices (auto-probing) in a specific region. This may be
because of poorly designed hardware that causes the boot to <EM>freeze</EM>
(such as some ethercards), hardware that is mistakenly identified,
hardware whose state is changed by an earlier probe, or merely
hardware you don't want the kernel to initialize.</P>
<P>The <CODE>reserve</CODE> boot-time argument addresses this problem by specifying
an I/O port region that shouldn't be probed. That region is reserved
in the kernel's port registration table as if a device has already
been found in that region (with the name <CODE>reserved</CODE>). 
Note that this mechanism shouldn't be necessary on most machines. 
Only when there is a problem or special case would it be necessary 
to use this.</P>
<P>The I/O ports in the specified region are protected against
device probes that do a <CODE>check_region()</CODE> prior to probing
blindly into a region of I/O space. This was put in to be used 
when some driver was hanging on a NE2000, or misidentifying 
some other device as its own.  A correct device driver shouldn't 
probe a reserved region, unless another boot argument explicitly 
specifies that it do so.  This implies that <CODE>reserve</CODE> will 
most often be used with some other boot argument. Hence if you 
specify a <CODE>reserve</CODE> region to protect a specific device, you 
must generally specify an explicit probe for that device. Most 
drivers ignore the port registration table if they are given an 
explicit address.</P>
<P>For example, the boot line</P>
<P>
<HR>
<PRE>
        reserve=0x300,32  blah=0x300
</PRE>
<HR>
</P>
<P>keeps all device drivers except the driver for `blah' from
probing <CODE>0x300-0x31f</CODE>.</P>
<P>As usual with boot-time specifiers there is an 11 parameter limit,
thus you can only specify 5 reserved regions per <CODE>reserve</CODE> keyword.
Multiple <CODE>reserve</CODE> specifiers will work if you have an unusually
complicated request.</P>

<H3>The `resume=' Argument</H3>

<P>If you are using software suspend, then this will allow you to
specify the file name of the suspend to disk data that you 
want the machine to resume from.</P>

<H3>The `vga=' Argument</H3>

<P>Note that this is not really a boot argument. It is an option
that is interpreted by LILO and not by the kernel like all the
other boot arguments are. However its use has become so common
that it deserves a mention here. It can also be set via using
<CODE>rdev -v</CODE> or equivalently <CODE>vidmode</CODE> on the vmlinuz file.
This allows the setup code to use the video BIOS to change
the default display mode before actually booting the Linux
kernel. Typical modes are 80x50, 132x44 and so on. The best
way to use this option is to start with <CODE>vga=ask</CODE> which
will prompt you with a list of various modes that you can use
with your video adapter before booting the kernel. Once you
have the number from the above list that you want to use, you
can later put it in place of the `ask'. For more information,
please see the file <CODE>linux/Documentation/svga.txt</CODE>
that comes with all recent kernel versions.</P>
<P>Note that newer kernels (v2.1 and up) have the setup code that 
changes the video mode as an option, listed as
<CODE>Video mode selection support</CODE> so you need to enable this
option if you want to use this feature.</P>

<H2><A NAME="s4">4. Boot Arguments to Control PCI Bus Behaviour (`pci=')</A></H2>

<P>The `pci=' argument (not avail. in v2.0 kernels)
can be used to change the behaviour of PCI bus device
probing and device behaviour. Firstly the file
<CODE>linux/drivers/pci/pci.c</CODE> checks for 
architecture independent <CODE>pci=</CODE> options. 
The remaining allowed arguments are handled
in <CODE>linux/arch/???/kernel/bios32.c</CODE> and are
listed below for ???=i386.</P>

<H2><A NAME="ss4.1">4.1 The `pci=assign-busses' Argument</A>
</H2>

<P>This tells the kernel to always assign all PCI bus numbers, 
overriding whatever the firmware may have done.</P>

<H2><A NAME="ss4.2">4.2 The `pci=bios' and `pci=nobios' Arguments</A>
</H2>

<P>These are used to set/clear the flag indicating that the
PCI probing is to take place via the PCI BIOS.  The default
is to use the BIOS.</P>

<H2><A NAME="ss4.3">4.3 The `pci=conf1' and `pci=conf2' Arguments</A>
</H2>

<P>If PCI direct mode is enabled, the use of these enables
either configuration Type 1 or Type 2.  These implicitly
clear the PCI BIOS probe flag (i.e. `pci=nobios') too.</P>

<H2><A NAME="ss4.4">4.4 The `pci=irqmask=' Argument</A>
</H2>

<P>This allows the user to supply an IRQ mask value, which
is converted using strtol(). It will set a bit mask of IRQs 
allowed to be assigned automatically to PCI devices. You
can make the kernel exclude IRQs of your ISA cards this way.</P>

<H2><A NAME="ss4.5">4.5 The `pci=lastbus=' Argument</A>
</H2>

<P>This allows the user to supply a lastbus value, which
is converted using strtol().  It will scan all buses till bus N. 
Can be useful if the kernel is unable to find your secondary buses
and you want to tell it explicitly which ones they are.</P>

<H2><A NAME="ss4.6">4.6 The `pci=noacpi' Argument</A>
</H2>


<P>This disables the use of ACPI routing information during
the PCI configuration stages.</P>

<H2><A NAME="ss4.7">4.7 The `pci=nopeer' Argument</A>
</H2>

<P>This disables the default peer bridge fixup, which according
to the source does the following:</P>
<P>``In case there are peer host bridges, scan bus behind each of 
them.  Although several sources claim that the host bridges should 
have header type 1 and be assigned a bus number as for PCI2PCI 
bridges, the reality doesn't pass this test and the bus number 
is usually set by BIOS to the first free value.''</P>

<H2><A NAME="ss4.8">4.8 The `pci=nosort' Argument</A>
</H2>

<P>Using this argument instructs the kernel to not sort the
PCI devices during the probing phase.</P>

<H2><A NAME="ss4.9">4.9 The `pci=off' Argument</A>
</H2>

<P>Using this option disables all PCI bus probing. Any
device drivers that make use of PCI functions to find
and initialize hardware will most likely fail to work.</P>

<H2><A NAME="ss4.10">4.10 The `pci=usepirqmask' Argument</A>
</H2>

<P>This sets the USE_PIRQ_MASK flag during PCI init.
The kernel will honour the possible IRQ mask
stored in the BIOS PIR table. This is needed on some systems 
with broken BIOSes, notably some HP Pavilion N5400
and Omnibook XE3 notebooks. This will have no effect if 
ACPI IRQ routing is enabled.</P>

<H2><A NAME="ss4.11">4.11 The `pci=rom' Argument</A>
</H2>

<P>This sets the ASSIGN_ROM flag during the probing phase.
The kernel will assign address space to expansion ROMs.
Use with caution as certain devices share address
decoders between ROMs and other resources.</P>


<H2><A NAME="s5">5. Boot Arguments for Video Frame Buffer Drivers</A></H2>

<P>The `video=' argument (not avail. in v2.0 kernels)
is used when the frame buffer device abstraction layer
is built into the kernel. If that sounds complicated,
well it isn't really too bad.  It basically means that 
instead of having a different
video program (the X11R6 server) for each brand of video
card (e.g. XF86_S3, XF86_SVGA, ...), the kernel would have 
a built in driver available for each video card and export 
a single interface for the video program so that only one
X11R6 server (XF86_FBDev) would be required.  This is similar
to how networking is now - the kernel has drivers available for
each brand of network card and exports a single network 
interface so that just one version of a network program
(like Netscape) will work for all systems, regardless of the
underlying brand of network card.</P>
<P>The typical format of this argument is 
<CODE>video=name:option1,option2,...</CODE>
where <CODE>name</CODE> is the name of a generic option or of a
frame buffer driver.
The <CODE>video=</CODE> option is passed from <CODE>linux/init/main.c</CODE>
into <CODE>linux/drivers/video/fbmem.c</CODE> for further processing.
Here it is checked for some generic options before trying to 
match to a known driver name. Once a driver name match is made,
the comma separated option list is then passed into that particular
driver for final processing. The list of valid driver names
can be found by reading down the <CODE>fb_drivers</CODE> array in the
file <CODE>fbmem.c</CODE> mentioned above.</P>
<P>Information on the options that each driver supports will
eventually be found in <CODE>linux/Documentation/fb/</CODE> but 
currently (v2.2) only a few are described there.  
Unfortunately the number
of video drivers and the number of options for each one 
is content for another document itself and hence 
too much to list here.</P>
<P>If there is no Documentation file for your card, you 
will have to get
the option information directly from the driver. Go to
<CODE>linux/drivers/video/</CODE> and look in the appropriate
<CODE>???fb.c</CODE> file (the ??? will be based on the card name).
In there, search for a function with <CODE>_setup</CODE> in its name
and you should see what options the driver tries to match, 
such as <CODE>font</CODE> or <CODE>mode</CODE> or...</P>

<H2><A NAME="ss5.1">5.1 The `video=map:...' Argument</A>
</H2>

<P>This option is used to set/override the console to frame buffer
device mapping. A comma separated list of numbers sets the mapping,
with the value of option N taken to be the frame buffer device 
number for console N.</P>

<H2><A NAME="ss5.2">5.2 The `video=scrollback:...' Argument</A>
</H2>

<P>A number after the colon will set the size of memory allocated 
for the scrollback buffer. (Use Shift and Page Up or Page Down 
keys to scroll.)  A suffix of `k' or `K' after the number will 
indicate that the number is to be interpreted as kilobytes 
instead of bytes.</P>

<H2><A NAME="ss5.3">5.3 The `video=vc:...' Argument</A>
</H2>


<P>A number, or a range of numbers (e.g. <CODE>video=vc:2-5</CODE>)
will specify the first, or the first and last frame
buffer virtual console(s). The use of this option also 
has the effect of setting the frame buffer console to
<EM>not</EM> be the default console.</P>

<H2><A NAME="s6">6. Boot Arguments for SCSI Peripherals.</A></H2>

<P>This section contains the descriptions of the boot args that
are used for passing information about the installed SCSI
host adapters, and SCSI devices.</P>

<H2><A NAME="ss6.1">6.1 Arguments for Upper and Mid-level Drivers</A>
</H2>

<P>The upper level drivers handle all things SCSI, regardless
of whether they be disk, tape, or CD-ROM.
The mid level drivers handle things like disks, CD-ROMs and
tapes without getting into low level host adapter 
device driver specifics.</P>

<H3>Maximum Probed LUNs (`max_scsi_luns=')</H3>

<P>Each SCSI device can have a number of `sub-devices' contained
within itself. The most common example is any of the 
SCSI CD-ROMs that handle more than one disk at a time.
Each CD is addressed as a `Logical Unit Number' (LUN) of
that particular device. But most devices, such as hard disks,
tape drives and such are only one device, and will be
assigned to LUN zero.</P>
<P>The problem arises with single LUN devices with bad firmware.
Some poorly designed SCSI devices (old and unfortunately new)
can not handle being probed for LUNs not equal to zero. They
will respond by locking up, and possibly taking the whole
SCSI bus down with them.</P>
<P>The kernel has a configuration option that allows you
to set the maximum number of probed LUNs. The default is to
only probe LUN zero, to avoid the problem described above.</P>
<P>To specify the number of probed LUNs at boot, one enters
`max_scsi_luns=n' as a boot arg, where n is a number between
one and eight. To avoid problems as described above, one would
use n=1 to avoid upsetting such broken devices</P>

<H3>SCSI Logging (`scsi_logging=')</H3>

<P>Supplying a non-zero value to this boot argument turns on
logging of all SCSI events (error, scan, mlqueue, mlcomplete,
llqueue, llcomplete, hlqueue, hlcomplete).  Note that
better control of which events are logged can be obtained
via the <CODE>/proc/scsi/scsi</CODE> interface if you aren't
interested in the events that take place at boot before
the <CODE>/proc/</CODE> filesystem is accessible.</P>

<H3>Parameters for the SCSI Tape Driver (`st=')</H3>

<P>Some boot time configuration of the SCSI tape driver can
be achieved by using the following:</P>
<P>
<HR>
<PRE>
        st=buf_size[,write_threshold[,max_bufs]]
</PRE>
<HR>
</P>
<P>The first two numbers are specified in units of kB.
The default <CODE>buf_size</CODE> is 32kB, and the maximum size
that can be specified is a ridiculous 16384kB.
The <CODE>write_threshold</CODE> is the value at which the buffer is
committed to tape, with a default value of 30kB.
The maximum number of buffers varies with the number of drives
detected, and has a default of two. An example usage would be:</P>
<P>
<HR>
<PRE>
        st=32,30,2
</PRE>
<HR>
</P>
<P>Full details can be found in the <CODE>README.st</CODE> file that is
in the <CODE>scsi</CODE> directory of the kernel source tree.</P>

<H2><A NAME="ss6.2">6.2 Arguments for SCSI Host Adapter Drivers</A>
</H2>


<P>These are arguments for low level SCSI host device drivers,
and as such are typically only used by those that compile
their own kernel with the SCSI driver built in.  These 
people are advised to check the source for the latest
list of options that can be supplied to their driver.</P>
<P><CODE>aha152x=</CODE> Adaptec aha151x, aha152x, aic6260, aic6360, SB16-SCSI</P>
<P><CODE>aha1542=</CODE> Adaptec aha1540, aha1542</P>
<P><CODE>aic7xxx=</CODE> Adaptec aha274x, aha284x, aic7xxx</P>
<P><CODE>advansys=</CODE> AdvanSys SCSI Host Adaptors </P>
<P><CODE>in2000=</CODE> Always IN2000 Host Adaptor </P>
<P><CODE>AM53C974=</CODE> AMD AM53C974 based hardware </P>
<P><CODE>BusLogic=</CODE> ISA/PCI/EISA BusLogic SCSI Hosts</P>
<P><CODE>eata=</CODE> EATA SCSI Cards</P>
<P><CODE>tmc8xx=</CODE> Future Domain TMC-8xx, TMC-950 </P>
<P><CODE>fdomain=</CODE> Future Domain TMC-16xx, TMC-3260, AHA-2920 </P>
<P><CODE>ppa=</CODE> IOMEGA Parallel Port / ZIP drive</P>
<P><CODE>ncr5380=</CODE> NCR5380 based controllers</P>
<P><CODE>ncr53c400=</CODE> NCR53c400 based controllers</P>
<P><CODE>ncr53c406a=</CODE> NCR53c406a based controllers</P>
<P><CODE>pas16=</CODE> Pro Audio Spectrum</P>
<P><CODE>st0x=</CODE> Seagate ST-0x</P>
<P><CODE>t128=</CODE> Trantor T128</P>
<P><CODE>u14-34f=</CODE> Ultrastor SCSI cards</P>
<P><CODE>wd7000=</CODE> Western Digital WD7000 cards</P>


<H2><A NAME="s7">7. Hard Disks</A></H2>

<P>This section lists all the boot args associated with standard
MFM/RLL, ST-506, XT, and IDE disk drive devices.
Note that both the IDE and the generic ST-506 HD driver
both accept the `hd=' option.</P>

<H2><A NAME="ss7.1">7.1 IDE Disk/CD-ROM Driver Parameters</A>
</H2>

<P>The IDE driver accepts a number of parameters, which range
from disk geometry specifications, to support for advanced or
broken controller chips. The following is a summary of
some of the more common boot arguments. For full details, you
<EM>really</EM> should consult the file <CODE>ide.txt</CODE> in the
<CODE>linux/Documentation</CODE> directory, from which this
summary was extracted.</P>
<P>
<HR>
<PRE>

 "hdx="  is recognized for all "x" from "a" to "h", such as "hdc".
 "idex=" is recognized for all "x" from "0" to "3", such as "ide1".

 "hdx=noprobe"          : drive may be present, but do not probe for it
 "hdx=none"             : drive is NOT present, ignore cmos and do not probe
 "hdx=nowerr"           : ignore the WRERR_STAT bit on this drive
 "hdx=cdrom"            : drive is present, and is a cdrom drive
 "hdx=cyl,head,sect"    : disk drive is present, with specified geometry
 "hdx=autotune"         : driver will attempt to tune interface speed
                                to the fastest PIO mode supported,
                                if possible for this drive only.
                                Not fully supported by all chipset types,
                                and quite likely to cause trouble with
                                older/odd IDE drives.

 "idex=noprobe"         : do not attempt to access/use this interface
 "idex=base"            : probe for an interface at the addr specified,
                                where "base" is usually 0x1f0 or 0x170
                                and "ctl" is assumed to be "base"+0x206
 "idex=base,ctl"        : specify both base and ctl
 "idex=base,ctl,irq"    : specify base, ctl, and irq number
 "idex=autotune"        : driver will attempt to tune interface speed
                                to the fastest PIO mode supported,
                                for all drives on this interface.
                                Not fully supported by all chipset types,
                                and quite likely to cause trouble with
                                older/odd IDE drives.
 "idex=noautotune"      : driver will NOT attempt to tune interface speed
                                This is the default for most chipsets,
                                except the cmd640.
 "idex=serialize"       : do not overlap operations on idex and ide(x^1)
</PRE>
<HR>
</P>
<P>The following are valid ONLY on ide0,
and the defaults for the base,ctl ports must not be altered.</P>
<P>
<HR>
<PRE>

 "ide0=dtc2278"         : probe/support DTC2278 interface
 "ide0=ht6560b"         : probe/support HT6560B interface
 "ide0=cmd640_vlb"      : *REQUIRED* for VLB cards with the CMD640 chip
                          (not for PCI -- automatically detected)
 "ide0=qd6580"          : probe/support qd6580 interface
 "ide0=ali14xx"         : probe/support ali14xx chipsets (ALI M1439/M1445)
 "ide0=umc8672"         : probe/support umc8672 chipsets
</PRE>
<HR>
</P>
<P>During the install of some PCMCIA systems, you may be able
to get detection of your CD-ROM by using:
<HR>
<PRE>

 "ide2=0x180,0x386"     : probe typical PCMCIA IDE interface location
</PRE>
<HR>
</P>
<P>Everything else is rejected with a "BAD OPTION" message.
Also note that there is an implied <CODE>ide0=0x1f0 ide1=0x170</CODE>
in the absence of any other ide boot args.</P>

<H2><A NAME="ss7.2">7.2 Old MFM/RLL/Standard ST-506 Disk Driver Options (`hd=')</A>
</H2>

<P>The standard disk driver can accept geometry arguments for
the disks similar to the IDE driver. Note however that it
only expects three values (C/H/S) -- any more or any less
and it will silently ignore you. Also, it only accepts
`hd=' as an argument, i.e. `hda=', `hdb=' and so on are
not valid here. The format is as follows:</P>
<P>
<HR>
<PRE>
        hd=cyls,heads,sects
</PRE>
<HR>
</P>
<P>If there are two disks installed, the above is repeated
with the geometry parameters of the second disk.</P>

<H2><A NAME="ss7.3">7.3 XT Disk Driver Options (`xd=', `xd_geo=')</A>
</H2>

<P>If you are unfortunate enough to be using one of these old
8 bit cards that move data at a whopping 125kB/s then here
is the scoop.  The probe code for these cards looks for an installed
BIOS, and if none is present, the probe will not find your card. Or,
if the signature string of your BIOS is not recognized then it
will also not be found. In either case, you will then have to use a
boot argument of the form:</P>
<P>
<HR>
<PRE>
        xd=type,irq,iobase,dma_chan
</PRE>
<HR>
</P>
<P>The <CODE>type</CODE> value specifies the particular manufacturer of the
card, and are as follows: 0=generic; 1=DTC; 2,3,4=Western Digital,
5,6,7=Seagate; 8=OMTI. The only difference between multiple types
from the same manufacturer is the BIOS string used for detection,
which is not used if the type is specified.</P>
<P>The <CODE>xd_setup()</CODE> function does no checking on the values, and
assumes that you entered all four values. Don't disappoint it.
Here is an example usage for a WD1002 controller with the BIOS
disabled/removed, using the `default' XT controller parameters:</P>
<P>
<HR>
<PRE>
        xd=2,5,0x320,3
</PRE>
<HR>
</P>
<P>If the disk geometry that the kernel prints out comes out all
wrong to what you know the disk is set up as, you can override
that as well, with:</P>
<P>
<HR>
<PRE>
        xd_geo=cyl_xda,head_xda,sec_xda
</PRE>
<HR>
</P>
<P>Add another comma and another three CHS values if you are
silly enough to have two disks on the old hunk of scrap...</P>

<H2><A NAME="s8">8. The Sound Drivers </A></H2>


<P>Note that there was a rewrite of a lot of the sound
core and related drivers.  The older stuff is generally
called `OSS' and the newer is called `ALSA'.  The intention
is to drop the OSS stuff eventually.  To avoid name conflict,
the ALSA stuff generally has `snd-' as a prefix to all
the boot parameters.</P>
<P>Note that each driver has its own
individual boot argument (very old kernels used a shared
<CODE>sound=</CODE>). Also, generally no defaults are set at
compile time (i.e. you <EM>must</EM> supply a boot
argument for older non-PNP ISA cards to be detected.)
Your best source of information for your card is the files
in <CODE>linux/Documentation/sound/</CODE>.  </P>

<H2><A NAME="ss8.1">8.1 Individual Sound Device Driver Arguments</A>
</H2>



<H3>ALSA ISA drivers</H3>

<P><CODE>snd-dummy=</CODE> Dummy soundcard</P>
<P><CODE>snd-mpu401=</CODE> mpu401 UART</P>
<P><CODE>snd-mtpav=</CODE> MOTU Midi Timepiece </P>
<P><CODE>snd-serial=</CODE> Serial UART 16450/16550 MIDI</P>
<P><CODE>snd-virmidi=</CODE> Dummy soundcard for virtual rawmidi devices</P>
<P><CODE>snd-ad1816a=</CODE> ADI SoundPort AD1816A</P>
<P><CODE>snd-ad1848=</CODE> Generic driver for AD1848/AD1847/CS4248</P>
<P><CODE>snd-als100=</CODE> Avance Logic ALS100</P>
<P><CODE>snd-azt2320=</CODE> Aztech Systems AZT2320 (and 2316)</P>
<P><CODE>snd-cmi8330=</CODE> C-Media's CMI8330</P>
<P><CODE>snd-cs4231=</CODE> Generic driver for CS4231 chips</P>
<P><CODE>snd-cs4232=</CODE> Generic driver for CS4232 chips</P>
<P><CODE>snd-cs4236=</CODE> Generic driver for CS4235/6/7/8/9 chips</P>
<P><CODE>snd-dt019x=</CODE> Diamond Technologies DT-019x</P>
<P><CODE>snd-es1688=</CODE> Generic ESS AudioDrive ESx688 </P>
<P><CODE>snd-es18xx=</CODE> Generic ESS AudioDrive ES18xx</P>
<P><CODE>snd-gusclassic=</CODE> Gus classic</P>
<P><CODE>snd-gusextreme=</CODE> Gus extreme</P>
<P><CODE>snd-gusmax=</CODE> Gus Max</P>
<P><CODE>snd-interwave=</CODE> Interwave</P>
<P><CODE>snd-interwave-stb=</CODE> Interwave</P>
<P><CODE>snd-opl3sa2=</CODE> Yamaha OPL3SA2</P>
<P><CODE>snd-opti93x=</CODE> OPTi 82c93x based cards </P>
<P><CODE>snd-opti92x-cs4231=</CODE> OPTi 82c92x/CS4231</P>
<P><CODE>snd-opti92x-ad1848=</CODE> OPTi 82c92x/AD1848</P>
<P><CODE>snd-es968=</CODE> ESS AudioDrive ES968</P>
<P><CODE>snd-sb16=</CODE> SoundBlaster 16</P>
<P><CODE>snd-sbawe=</CODE> SoundBlaster 16 AWE</P>
<P><CODE>snd-sb8=</CODE> Old 8 bit SoundBlaster (1.0, 2.0, Pro)</P>
<P><CODE>snd-sgalaxy=</CODE> Sound galaxy</P>
<P><CODE>snd-wavefront=</CODE> Wavefront</P>

<H3>OSS drivers</H3>


<P><CODE>ad1848=</CODE> AD1848</P>
<P><CODE>adlib=</CODE> Adlib </P>
<P><CODE>mad16=</CODE> MAD16</P>
<P><CODE>pas2=</CODE> ProAudioSpectrum PAS16 </P>
<P><CODE>sb=</CODE> SoundBlaster </P>
<P><CODE>uart401=</CODE> UART 401 (on card chip)</P>
<P><CODE>uart6850=</CODE> UART 6850 (on card chip)</P>
<P><CODE>opl3=</CODE> Yamaha OPL2/OPL3/OPL4 FM Synthesizer (on card chip)</P>
<P><CODE>opl3sa=</CODE> Yamaha OPL3-SA FM Synthesizer (on card chip)</P>
<P><CODE>opl3sa2=</CODE> Yamaha OPL3-SA2/SA3 FM Synthesizer (on card chip)</P>

<H3>ALSA PCI Drivers</H3>


<P><CODE>snd-ali5451=</CODE> ALi PCI audio M5451</P>
<P><CODE>snd-als4000=</CODE> Avance Logic ALS4000</P>
<P><CODE>snd-cmipci=</CODE> C-Media CMI8338 and 8738</P>
<P><CODE>snd-cs4281=</CODE> Cirrus Logic CS4281</P>
<P><CODE>snd-cs46xx=</CODE> Cirrus Logic Sound Fusion CS46XX</P>
<P><CODE>snd-emu10k1=</CODE> EMU10K1 (SB Live!)</P>
<P><CODE>snd-ens1370=</CODE> Ensoniq ES1370 AudioPCI</P>
<P><CODE>snd-ens1371=</CODE> Ensoniq ES1371 AudioPCI</P>
<P><CODE>snd-es1938=</CODE> ESS Solo-1 (ES1938, ES1946, ES1969)</P>
<P><CODE>snd-es1968=</CODE> ESS Maestro 1/2/2E</P>
<P><CODE>snd-fm801=</CODE> ForteMedia FM801</P>
<P><CODE>snd-intel8x0=</CODE> Intel ICH (i8x0) chipsets</P>
<P><CODE>snd-maestro3=</CODE> ESS Maestro3/Allegro (ES1988)</P>
<P><CODE>snd-korg1212=</CODE> Korg 1212 IO</P>
<P><CODE>snd-rme32=</CODE> RME Digi32, Digi32/8 and Digi32 PRO</P>
<P><CODE>snd-nm256=</CODE> NeoMagic 256AV and 256ZX</P>
<P><CODE>snd-rme96=</CODE> RME Digi96, Digi96/8 and Digi96/8 PRO/PAD/PST</P>
<P><CODE>snd-rme9652=</CODE> RME Digi9652 audio interface</P>
<P><CODE>snd-hdsp=</CODE> RME Hammerfall DSP</P>
<P><CODE>snd-sonicvibes=</CODE> S3 SonicVibes</P>
<P><CODE>snd-trident=</CODE> Trident 4DWave DX/NX &amp; SiS SI7018</P>
<P><CODE>snd-via82xx=</CODE> VIA South Bridge  VT82C686A/B/C, VT8233A/C, VT8235 </P>
<P><CODE>snd-ymfpci=</CODE> Yamaha DS1/DS1E </P>
<P><CODE>snd-ice1712=</CODE> ICEnsemble ICE1712 (Envy24)</P>


<H2><A NAME="s9">9. CD-ROMs (Non-SCSI/ATAPI/IDE)</A></H2>

<P>This section lists all the possible boot args pertaining to
these older CD-ROM devices on proprietary interface cards.
Note that this does not include SCSI or
IDE/ATAPI CD-ROMs. See the appropriate section(s) for those
types of CD-ROMs.</P>
<P>Note that most of these CD-ROMs have documentation files that you
<EM>should</EM> read, and they are all in one handy place:
<CODE>linux/Documentation/cdrom</CODE>.</P>

<H2><A NAME="ss9.1">9.1 Old CD-ROM Driver Arguments</A>
</H2>


<P><CODE>aztcd=</CODE> Aztech Interface</P>
<P><CODE>cdu31a=</CODE> CDU-31A and CDU-33A Sony Interface (Also Old PAS)</P>
<P><CODE>sonycd535=</CODE> CDU-535 Sony Interface</P>
<P><CODE>gscd=</CODE> GoldStar Interface</P>
<P><CODE>isp16=</CODE> ISP16 Interface</P>
<P><CODE>mcd=</CODE> Mitsumi Standard Interface </P>
<P><CODE>mcdx=</CODE> Mitsumi XA/MultiSession Interface</P>
<P><CODE>optcd=</CODE> Optics Storage Interface </P>
<P><CODE>cm206=</CODE> Phillips CM206 Interface</P>
<P><CODE>sjcd=</CODE> Sanyo Interface</P>
<P><CODE>sbpcd=</CODE> SoundBlaster Pro Interface </P>

<H2><A NAME="s10">10. Serial and ISDN Drivers</A></H2>



<H2><A NAME="ss10.1">10.1 The ISDN drivers</A>
</H2>


<P>Please see <CODE>linux/Documentation/isdn/</CODE> for the full
details of all the options the following ISDN drivers accept.</P>
<P><CODE>icn=</CODE> ICN ISDN driver</P>
<P><CODE>pcbit=</CODE> PCBIT ISDN driver</P>
<P><CODE>teles=</CODE> Teles ISDN driver</P>

<H2><A NAME="ss10.2">10.2 The Serial drivers</A>
</H2>

<P>Please see <CODE>linux/Documentation/</CODE> and/or the <CODE>README</CODE>
files in <CODE>linux/drivers/char</CODE> for the full details of
all the options that the following support.</P>
<P><CODE>digi=</CODE> DigiBoard Driver</P>
<P><CODE>riscom8=</CODE> RISCom/8 Multiport Serial Driver</P>
<P><CODE>baycom=</CODE> Baycom Serial/Parallel Radio Modem </P>

<H2><A NAME="s11">11. Other Hardware Devices</A></H2>

<P>Any other devices that didn't fit into any of the above categories
got lumped together here.</P>

<H2><A NAME="ss11.1">11.1 Ethernet Devices (`ether=', `netdev=')</A>
</H2>

<P>Different drivers make use of different parameters, but they all
at least share having an IRQ, an I/O port base value, and
a name. In its most generic form, it looks something like this:</P>
<P>
<HR>
<PRE>
        ether=irq,iobase[,param_1[,param_2,...param_8]]],name
</PRE>
<HR>
</P>
<P>The first non-numeric argument is taken as the name.
The <CODE>param_n</CODE> values (if applicable) usually have
different meanings for each different card/driver.
Typical <CODE>param_n</CODE> values are used to specify things
like shared memory address, interface selection, DMA
channel and the like.</P>
<P>The most common use of this parameter is to force probing
for a second ethercard, as the default is to only probe
for one (with 2.4 and older kernels). This can be accomplished 
with a simple:</P>
<P>
<HR>
<PRE>
        ether=0,0,eth1
</PRE>
<HR>
</P>
<P>Note that the values of zero for the IRQ and I/O base in the
above example tell the driver(s) to autoprobe.</P>
<P>IMPORTANT NOTE TO MODULE USERS: The above will <EM>not</EM> force a
probe for a second card if you are using the driver(s) as run time
loadable modules (instead of having them complied into the kernel).
Most Linux distributions use a bare bones kernel combined with a
large selection of modular drivers.  The <CODE>ether=</CODE> only applies 
to drivers compiled directly into the kernel.</P>
<P>The Ethernet-HowTo has complete and extensive
documentation on using multiple cards and on the card/driver
specific implementation of the <CODE>param_n</CODE> values where used. 
Interested readers should refer to the section in that document 
on their particular card for more complete information.
<A HREF="http://metalab.unc.edu/mdw/HOWTO/Ethernet-HOWTO.html">Ethernet-HowTo</A></P>

<H2><A NAME="ss11.2">11.2 The Floppy Disk Driver (`floppy=')</A>
</H2>

<P>There are many floppy driver options, and they are all listed in
<CODE>floppy.txt</CODE> in <CODE>linux/Documentation</CODE>.  There are too
many options in that file to list here. Instead, only those
options that may be required to get a Linux install to proceed
on less than normal hardware are reprinted here.</P>
<P><CODE>floppy=0,daring</CODE>
Tells the floppy driver that your floppy controller should be used
with caution (disables all daring operations). </P>
<P><CODE>floppy=thinkpad</CODE>
Tells the floppy driver that you have a Thinkpad. Thinkpads use an
inverted convention for the disk change line.</P>
<P><CODE>floppy=nodma</CODE>
Tells the floppy driver not to use DMA for data transfers.
This is needed on HP Omnibooks, which don't have a workable
DMA channel for the floppy driver. This option is also useful
if you frequently get `Unable to allocate DMA memory' messages.
Use of `nodma' is not recommended if
you have a FDC without a FIFO (8272A or 82072). 82072A and
later are OK). The FDC model is reported at boot.
You also need at least a 486 to use nodma.</P>
<P><CODE>floppy=nofifo</CODE>
Disables the FIFO entirely. This is needed if you get `Bus
master arbitration error' messages from your Ethernet card (or
from other devices) while accessing the floppy.</P>
<P><CODE>floppy=broken_dcl</CODE>
Don't use the disk change line, but assume that the disk was
changed whenever the device node is reopened. Needed on some
boxes where the disk change line is broken or unsupported.
This should be regarded as a stopgap measure, indeed it makes
floppy operation less efficient due to unneeded cache
flushings, and slightly more unreliable. Please verify your
cable connection and jumper settings if you have any DCL
problems. However, some older drives, and also some Laptops
are known not to have a DCL.</P>
<P><CODE>floppy=debug</CODE>
Print (additional) debugging messages.</P>
<P><CODE>floppy=messages</CODE>
Print informational messages for some operations (disk change
notifications, warnings about over and underruns, and about
autodetection).</P>

<H2><A NAME="ss11.3">11.3 The Bus Mouse Driver (`bmouse=')</A>
</H2>

<P>The busmouse driver only accepts one parameter, that being
the hardware IRQ value to be used.</P>

<H2><A NAME="ss11.4">11.4 The MS Bus Mouse Driver (`msmouse=')</A>
</H2>

<P>The MS mouse driver only accepts one parameter, that being
the hardware IRQ value to be used.</P>

<H2><A NAME="ss11.5">11.5 The Printer Driver (`lp=')</A>
</H2>

<P>With this boot argument you can tell the printer driver
what ports to use and what ports <EM>not</EM> to use. The latter comes
in handy if you don't want the printer driver to claim all available
parallel ports, so that other drivers (e.g. PLIP, PPA) can use
them instead.</P>
<P>The format of the argument is multiple i/o, IRQ pairs. For example,
<CODE>lp=0x3bc,0,0x378,7</CODE> would use the port at <CODE>0x3bc</CODE> in IRQ-less
(polling) mode, and use IRQ 7 for the port at <CODE>0x378</CODE>. The port
at <CODE>0x278</CODE> (if any) would not be probed, since autoprobing only
takes place in the absence of a <CODE>lp=</CODE> argument. To disable the
printer driver entirely, one can use <CODE>lp=0</CODE>.</P>

<H2><A NAME="ss11.6">11.6 The Parallel port IP driver (`plip=')</A>
</H2>


<P>Using <CODE>plip=timid</CODE> will tell the plip driver to avoid
any ports that appear to be in use by other parallel port 
devices. Otherwise you can use <CODE>plip=parportN</CODE> where
<CODE>N</CODE> is a non-zero integer indicating the parallel
port to use. (Using <CODE>N</CODE>=0 will disable the plip driver.)</P>

<H2><A NAME="s12">12. Copying, Translations, Closing, etc.</A></H2>

<P>Hey, you made it to the end! (Phew...)  Now just the legal stuff.</P>

<H2><A NAME="copyright"></A> <A NAME="ss12.1">12.1 Copyright and Disclaimer</A>
</H2>

<P>This document is Copyright (c) 1995-1999 by Paul Gortmaker.
Copying and redistribution is allowed under the conditions as
outlined in the Linux Documentation Project Copyright, available
from where you obtained this document, OR as outlined in the
GNU General Public License, version 2 (see linux/COPYING).</P>
<P>This document is <EM>not</EM> gospel. However, it is probably the most
up to date info that you will be able to find. Nobody is responsible
for what happens to your hardware but yourself. If your stuff
goes up in smoke, or anything else bad happens, 
we take no responsibility. ie. THE AUTHOR IS NOT RESPONSIBLE
FOR ANY DAMAGES INCURRED DUE TO ACTIONS TAKEN BASED ON THE
INFORMATION INCLUDED IN THIS DOCUMENT.</P>
<P>A hint to people considering doing a translation.  First,
translate the SGML source (available via FTP from the HowTo
main site) so that you can then generate other output formats.
Be sure to keep a copy of the original English SGML source that
you translated from! When an updated HowTo is released,
get the new SGML source for that version, and then a simple
<CODE>diff -u old.sgml new.sgml</CODE> will show you exactly what has
changed so that you can easily incorporate those changes into
your translated SMGL source without having to re-read or
re-translate everything.</P>
<P>If you are intending to incorporate this document into a
published work, please make contact (via e-mail) so that
you can be supplied with the most up to date information
available. In the past, out of date versions of the Linux
HowTo documents have been published, which caused the developers
undue grief from being plagued with questions that were already
answered in the up to date versions.</P>

<H2><A NAME="ss12.2">12.2 Closing</A>
</H2>

<P>If you have found any glaring typos, or outdated info in this
document, please let me know. It is easy to overlook stuff,
as the kernel (and the number of drivers) is huge compared
to what it was when I started this.</P>
<P>Thanks,</P>
<P>Paul Gortmaker, <CODE>p_gortmaker @ yahoo.com</CODE></P>

</BODY>
</HTML>
