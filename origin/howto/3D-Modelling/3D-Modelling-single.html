<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.72">
 <TITLE>3D Graphics Modelling and Rendering mini-HOWTO</TITLE>
</HEAD>
<BODY>
<H1>3D Graphics Modelling and Rendering mini-HOWTO</H1>

<H2>
<A HREF="mailto:dave@joot.com">Dave Jarvis</A></H2>v1.1, 27 March 2001
<HR>
<EM>Details download and installation instructions for a graphics rendering and
modelling development environment using RedHat Linux.</EM>
<HR>
<H2><A NAME="Introduction"></A> <A NAME="s1">1. Introduction</A></H2>

<H2><A NAME="Intro-Preamble"></A> <A NAME="ss1.1">1.1 Preamble</A>
</H2>

<P>This document will guide you through the steps used to install and
configure an environment for modelling and rendering three-dimensional
graphics using Linux.  In this section you will also find information
in  laymans terms about the required components and how they piece
together.  The installation section is purposely minimal; merely the
quick and dirty steps needed to take to get up and running (if it
doesn't work, more information is available).  For those that want more
information about the software components and what they do (in general),
please continue reading.</P>
<P>There are, at the minimum, three software packages you'll need in order to
get up and running.  These are as follows (in the order they are
explained, not the order they are installed):</P>
<P>
<UL>
<LI>a graphics library;</LI>
<LI>a graphics modeller;</LI>
<LI>a graphics renderer.</LI>
</UL>
</P>
<H2><A NAME="Intro-Modelling"></A> <A NAME="ss1.2">1.2 Modelling vs. Modeling</A>
</H2>

<P>The spelling <EM>modelling</EM> is Canadian.  The spelling <EM>modeling</EM>
is American.  The original author of this document is Canadian.  ;-)</P>
<H2><A NAME="Intro-Copyright"></A> <A NAME="ss1.3">1.3 Copyright Information</A>
</H2>

<P>Copyright &copy; 2000-2001 Dave Jarvis</P>
<P>This document may be reproduced in whole or in part, without fee, subject
to the following restrictions:</P>
<P>
<UL>
<LI>the copyright notice above and this permission notice must be
preserved complete on all complete or partial copies;</LI>
<LI>any translation or derived work must be approved by the author in
writing before distribution;</LI>
<LI>if you distribute this work in part, instructions for obtaining
the complete version of this manual must be included, and a means for
obtaining a complete version provided;</LI>
<LI>small portions may be reproduced as illustrations for reviews or
quotes in other works without this permission notice if proper citation
is given.</LI>
</UL>
</P>
<H2><A NAME="Background"></A> <A NAME="s2">2. Background Information</A></H2>

<P>The content of this section exists only to describe, in general, the
three main components required for three-dimensional modelling and
rendering with a Linux-based system.</P>
<H2><A NAME="Background-GL"></A> <A NAME="ss2.1">2.1 The Graphics Library</A>
</H2>

<P>A graphics library consists of the most basic tools used for manipulating
graphical images.  Think of all the things needed to build a house: wiring,
plumbing, wood, bricks, and such.  The graphics library can be thought of
as not these items, but rather the tools used create such items.  After
all, wire, metal tubes, planks, and bricks don't magically appear; rather
they are created and formed as entities unto themselves.  On a similar note,
graphics don't magically appear on the screen -- typically they consist
of lower-level graphics primatives (lines, rectangles, and individual
pixels, for example).</P>
<P>So the graphics library, then, can be thought of as the low-level graphics
primatives used to build more complex objects (spheres, boxes, complex
polygons, etc.).  Those complex objects are then used to build even more
complicated shapes and figures.</P>
<P>The graphics library installed was the freeware implementation of OpenGL
called <EM>Mesa</EM>.</P>
<H2><A NAME="Background-GM"></A> <A NAME="ss2.2">2.2 The Graphics Modeller</A>
</H2>

<P>Since the graphics renderer is, ideally, completely hidden from the end-user,
we'll deal with that last (besides which, modelling is the next logical step
in keeping with my house-building analogy).  However, when it comes to the
actual installation, a graphics modeller relies on the renderer already being
installed.</P>
<P>If the graphics library is akin to the tools used to build the tools used
to build a house (!), then graphics modellers can be thought of as the
tools used to build the blueprints for the house -- sophisticated
blueprints, as modellers let you dictate exactly where the wiring, plumbing,
wood panels, bricks, and forth are supposed to go.  Furthermore, they
let you pick the style of panelling and the colour of the bricks you
desire.</P>
<P>The graphics modeller installed was the freeware package called
<EM>The Mops</EM>, which produces <EM>RenderMan</EM>-compatible files.</P>
<H2><A NAME="Background-GR"></A> <A NAME="ss2.3">2.3 The Graphics Renderer</A>
</H2>

<P>In keeping with the house-building analogy, the graphics renderer is then
the construction workers.  Once you have the blueprints and materials ready
to go, you need something to actually build the house so it appears how it
was designed.  The graphics renderer is given information (i.e., the
blueprints in the form of a <EM>RenderMan</EM>-compatible file, or
equivalent) from the modeller to produce the final result.</P>
<P>Just as the graphics modeller needs the graphics renderer before it can be
installed, the renderer relies on the graphics library being installed
beforehand.</P>
<P>The graphics renderer installed was the <EM>Blue Moon Rendering Toolkit</EM>
which uses <EM>RenderMan</EM> files.</P>
<H2><A NAME="Inst-Instructions"></A> <A NAME="s3">3. Installation Instructions</A></H2>

<P>Keep in mind that these are brief instructions; a quick summary of the more
important details you'll find listed in README files for the corresponding
software packages.  It is, by no means, a substitute for actually reading
those files (as they contain copyright information and other instructions
not necessarily covered by this document).</P>
<H2><A NAME="Inst-Warning"></A> <A NAME="ss3.1">3.1 Warning</A>
</H2>

<P>First, let it be known that this document only covers how to get up and
running using RedHat v7.0.  Whenever given the choice as to which software
package to download, please make sure it is compatible with the flavour
of Linux you happen to be running.</P>
<P>Second, please only send E-mail if you have information that would be
helpful to other people who might read this document (such as explaining
how to install other tools, pointers to other tutorials, missing steps
grammar and/or speling mistakes and/or tpyos, etc.).  If software
doesn't compile, or you can't figure it out, please read its accompanying
documentation.  Please understand that your system may be completely
different, and as such debugging problems via E-mail across the Internet is
not a task anyone enjoys.  ;-)</P>
<P>Third, these are software packages that installed without any severe
hitches (read: severe headaches).  In the Related Links section, there
are alternate software packages along side the ones covered below.  Note
that just because a given software package is not covered in depth does
not mean it is any worse (or better) than those chosen to install.</P>
<P>Good luck!</P>
<H2><A NAME="Inst-Download"></A> <A NAME="ss3.2">3.2 Download the Software</A>
</H2>

<P>Before you begin, you will need a web browser and Unix shell.  If you
don't know how to use a shell [bash, ksh, etc.], you're own your own
(although instructions are given in both English and shell commands).</P>
<P>Unless otherwise specified, all instructions are to be carried out as
<CODE>root</CODE>.</P>

<P>
<OL>
<LI>Create a new directory <CODE>/usr/local/archives</CODE> for the packages:
<BLOCKQUOTE><CODE>
<PRE>
mkdir /usr/local/archives
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Download the following packages (in <B>.tar.gz</B> form)
into the newly created directory (homepages are given, as
well as links to download pages, and minimum software version):

<UL>
<LI>
<A HREF="http://www.mesa3d.org/">Mesa Graphics Library</A> v3.4.1:
<A HREF="http://www.mesa3d.org/download.html">www.mesa3d.org/download.html</A></LI>
<LI>
<A HREF="http://www.bmrt.org/">Blue Moon Rendering Toolkit</A> v2.6beta:
<A HREF="http://www.bmrt.org/BMRTdownload/index.html">www.bmrt.org/BMRTdownload/index.html</A></LI>
<LI>
<A HREF="http://www.informatik.uni-rostock.de/~rschultz/mops/">The Mops</A> v0.42d:
<A HREF="http://www.informatik.uni-rostock.de/~rschultz/mops/download.html">www.informatik.uni-rostock.de/~rschultz/mops/download.html</A></LI>
</UL>
</LI>
</OL>
</P>
<H2><A NAME="Inst-GL"></A> <A NAME="ss3.3">3.3 Install the Graphics Library</A>
</H2>

<P>Old versions of <CODE>tar</CODE> do not support the <CODE>z</CODE> argument.
For those systems, leave out the <CODE>z</CODE> argument and use <CODE>gunzip</CODE>
on the file before using <CODE>tar</CODE>.</P>
<P>
<OL>
<LI>Change to the <CODE>/usr/local/archives</CODE> directory:
<BLOCKQUOTE><CODE>
<PRE>
cd /usr/local/archives
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Extract <EM>Mesa</EM> (substitute version number where required):
<BLOCKQUOTE><CODE>
<PRE>
tar zxf MesaLib-3.4.1.tar.gz
tar zxf MesaDemos-3.4.1.tar.gz
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Change to the <CODE>MesaLib</CODE> subdirectory:
<BLOCKQUOTE><CODE>
<PRE>
cd Mesa-3.4.1
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Configure, make, and install <EM>Mesa</EM> with the following sequence of
commands:
<BLOCKQUOTE><CODE>
<PRE>
./configure; make; make install
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Edit <CODE>/etc/ld.so.conf</CODE>, and ensure you have a line that
reads:
<BLOCKQUOTE><CODE>
<PRE>
/usr/local/lib
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Run the dynamic library configuration program:
<BLOCKQUOTE><CODE>
<PRE>
ldconfig
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</OL>
</P>
<H2><A NAME="Inst-GR"></A> <A NAME="ss3.4">3.4 Install the Graphics Renderer</A>
</H2>

<P>
<OL>
<LI>Return to the <CODE>/usr/local/archives</CODE> directory:
<BLOCKQUOTE><CODE>
<PRE>
cd ..
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Extract the <EM>Blue Moon Rendering Toolkit</EM> (substitute version
number where required):
<BLOCKQUOTE><CODE>
<PRE>
tar zxf BMRT2.6beta.linux-glibc2.tar.gz
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Change to the <CODE>BMRT</CODE> subdirectory:
<BLOCKQUOTE><CODE>
<PRE>
cd BMRT2.6
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Copy files to appropriate destination directories:
<BLOCKQUOTE><CODE>
<PRE>
cp bin/* /usr/local/bin/
cp lib/lib* /usr/local/lib/
cp include/* /usr/local/include/
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Make a directory for the shaders, ensure it is world-writable,
then copy the shader files into it:
<BLOCKQUOTE><CODE>
<PRE>
mkdir /usr/local/shaders
chmod 777 /usr/local/shaders
cp shaders/*.sl* /usr/local/shaders/
cp shaders/*.h /usr/local/shaders/
cp examples/*.sl* /usr/local/shaders/
cp examples/*.h /usr/local/shaders/
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Edit the system login profile (<CODE>/etc/profile</CODE> or equivalent),
and add the line:
<BLOCKQUOTE><CODE>
<PRE>
export SHADERS=.:/usr/local/shaders
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Copy the <CODE>.rendribrc</CODE> file to each user's home directory.</LI>
</OL>
</P>
<P>If anything goes wrong, please consult the <CODE>README</CODE> file
that accompanies the <EM>Blue Moon Rendering Toolkit</EM>, or visit
their website.</P>
<H2><A NAME="Inst-GM"></A> <A NAME="ss3.5">3.5 Install the Graphics Modeller</A>
</H2>

<P><EM>The Mops</EM> may be installed on a per-user basis, or on a system-wide
basis by root (or equivalent).  In this example, it is installed using a
non-administrative account, which should yield positive results.  Note that
the compile failed during the install (missing a C header file), so the
precompiled binaries (compatible with RedHat v6.0, your system may vary)
were installed, as follows:</P>
<P>
<OL>
<LI>Change to one directory above where you'd like <EM>The Mops</EM> to
reside.  For example, if <CODE>/usr/local/mops</CODE> was desired, then issue
the following command:
<BLOCKQUOTE><CODE>
<PRE>
cd /usr/local
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Extract the mops (substitute number where required), then change into
its directory:
<BLOCKQUOTE><CODE>
<PRE>
tar zxf /usr/local/archives/mops-0.42d-BMRT26-linux.tar.gz
cd mops
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Move the following files from <CODE>/usr/local/mops/src</CODE>
to <CODE>/usr/local/mops</CODE>:
<BLOCKQUOTE><CODE>
<PRE>
mv src/crtmopssh.sh .
mv src/mfio.so .
mv src/mops .
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Copy the <CODE>.mopsrc</CODE> file to the home directory of each user
wanting to run The Mops.  For example, the user "jane" would need the
following commands run:

<BLOCKQUOTE><CODE>
<PRE>
cp src/mopsrc /home/jane/.mopsrc
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Create <CODE>/usr/local/lib/mops</CODE> and move the buttons and shaders:
<BLOCKQUOTE><CODE>
<PRE>
mkdir /usr/local/lib/mops/
mv buttons/* /usr/local/lib/mops/
mv shader/*.sl* /usr/local/shaders/
</PRE>
</CODE></BLOCKQUOTE>
</LI>
</OL>
</P>
<P>If anything goes wrong, please consult the <CODE>README</CODE> and
<CODE>Setup.txt</CODE> files that accompany <EM>The Mops</EM>, or visit
their website.</P>
<P>Log out from <CODE>root</CODE>.  Log in as a regular user, and run
<EM>The Mops</EM> as follows:</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
/usr/local/mops/mops
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>You may wish to create a subdirectory within <CODE>$HOME/mops</CODE> called
<CODE>models</CODE> for saving 3D models.</P>
<H2><A NAME="Inst-Clean"></A> <A NAME="ss3.6">3.6 Clean Up</A>
</H2>

<P>Now that the installation is complete, you can remove from your
system all files that you no longer require (substituting version
numbers where required).</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
cd /usr/local/archives/
rm -rf BMRT2.6
rm -rf Mesa-3.4.1
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Note: Be cautious when using <CODE>rm -rf</CODE> ... make sure you are
in the correct directory, and the files and/or directories you wish to
delete are present.</P>
<H2><A NAME="Misc-Information"></A> <A NAME="s4">4. Miscellaneous Information</A></H2>

<P>Instead of a frequently asked questions section, here is information
about some of the (almost embarassing) problems faced.</P>
<H2><A NAME="Misc-Lighting"></A> <A NAME="ss4.1">4.1 Lighting</A>
</H2>

<P>The most frustrating problem, initially, was trying to figure out why
everything was black -- and then how to actually light objects up.  In
these "virtual worlds" where you are modelling objects, the worlds
are created from scratch.  There is <EM>no light</EM> in the world until
you actually put a light source in it!  The light sources then shine
a given direction, illuminating things in their path (according to
the surface properties of the objects).  Make certain that your light
source is:</P>
<P>
<OL>
<LI>pointing (rotated and translated) in the correct direction;</LI>
<LI>intense enough to actually cast discernable lighting.</LI>
</OL>
</P>
<H2><A NAME="Misc-Tutorials"></A> <A NAME="ss4.2">4.2 Tutorials</A>
</H2>

<P>The most basic thing a person would want to do with modelling/rendering
packages is position a sphere on a surface, give it some lighting, and
see the result.  A decent tutorial should describe that first.</P>
<P>That said, <EM>The Mops</EM> has a wonderful
<A HREF="http://www.informatik.uni-rostock.de/~rschultz/mops/tut1/tut1.html">first tutorial</A>.</P>
<H2><A NAME="Links-Related"></A> <A NAME="s5">5. Related Links</A></H2>

<H2><A NAME="Links-GL"></A> <A NAME="ss5.1">5.1 Graphics Libraries</A>
</H2>

<P>
<A HREF="http://www.mesa3d.org/">Mesa</A> - An OpenGL-compliant
Graphics Library.</P>
<H2><A NAME="Links-GR"></A> <A NAME="ss5.2">5.2 Graphics Renderers</A>
</H2>

<P>
<A HREF="http://www.bmrt.org/">BMRT</A> - The Blue Moon Rendering
Toolkit.</P>
<P>
<A HREF="http://www.povray.org/">POV-Ray</A> - The Persistence of
Vision Raytracer.</P>
<H2><A NAME="Links-GM"></A> <A NAME="ss5.3">5.3 Graphics Modellers</A>
</H2>

<P>
<A HREF="http://www.informatik.uni-rostock.de/~rschultz/mops/">The Mops</A> - A 3D modelling package that uses BMRT.</P>
<P>
<A HREF="http://www.blender.nl">Blender</A> - Freeware modelling
and rendering suite of tools.</P>
<H2><A NAME="Links-Misc"></A> <A NAME="ss5.4">5.4 Miscellaneous Links</A>
</H2>

<P>Here are some links that don't really fit into any other category, yet
are still worthwhile checking out if you are seriously considering
using your Linux computer as a 3D modelling and rendering machine.</P>
<P>
<A HREF="http://glide.xxedgexx.com/software.html">3D Software for Linux</A> - Contains most (if not all) links in
this document and then some.</P>
<P>
<A HREF="http://ntua.linuxberg.com/x11html/gra_3d.html">3D Modelling Software for Linux</A> - Links to software packages
chiefly related to modelling.</P>
<P>
<A HREF="http://linux3d.netpedia.net">3D Modelling and Rendering using Linux</A> - A comprehensive site
with articles and software that explains what this document summarizes.</P>
<H2><A NAME="Acknowledgements"></A> <A NAME="s6">6. Acknowledgements</A></H2>

<P>I would like to extend a heart-felt thanks to the developers of the
software packages detailed in this document.  The quality of their
products is of a commercial level, yet they keep the spirit of free
software alive.  Well done!</P>
</BODY>
</HTML>
