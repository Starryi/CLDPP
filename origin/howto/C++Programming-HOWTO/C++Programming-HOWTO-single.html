<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.72">
 <TITLE>C++ Programming HOW-TO</TITLE>
</HEAD>
<BODY>
<H1>C++ Programming HOW-TO</H1>

<H2>Al Dev (Alavoor Vasudevan)        
<A HREF="mailto:alavoor[AT]yahoo.com">alavoor[AT]yahoo.com</A></H2>v42.9, 17 Sep 2002
<HR>
<EM>This document provides a comprehensive list of C++ URL pointers, links to C++ online textbooks, and programming tips on C++. This document also provides a C++ library which imitates Java-language,
and which has various methods to avoid memory problems in C++. Using
this library you can compile Java's source code under C++.
This document serves as a "Home of C++ language".
The information given here will help you to program properly in C++ language
and applies to all the operating systems that is - Linux, MS DOS, BeOS, Apple Macintosh OS, Microsoft Windows 95/98/NT/2000, OS/2, IBM OSes (MVS, AS/400 etc..), VAX VMS, Novell Netware, all flavors of Unix like Solaris, HPUX, AIX, SCO, Sinix, BSD, etc.. and to all other operating systems which supplies C++ compilers (it means almost all the operating systems on this planet).</EM>
<HR>
<H2><A NAME="s1">1. Introduction</A></H2>

<P><B>(The latest version of this document is at 
<A HREF="http://www.milkywaygalaxy.freeservers.com">http://www.milkywaygalaxy.freeservers.com</A>. You may
want to check there for changes).</B></P>
<P>The purpose of this document is to provide you with a comprehensive list of
URL pointers and programming tips on C++.  Also, this document provides a
Java-like String class, string tokenizer, memory functions and many other
functions, which can be used in general C++ applications.
C++ and Java is often used concurrently in many software projects.
Programmers jump back and forth between C++ and Java will find this Java-like classes
very helpful.
Various examples are given which demonstrate the usage of this library and the Standard C++
Library.</P>
<P>This document is not a textbook on C++, and there are already several
excellent on-line text books on the internet. Since C++ is being used for a long time
there are very large number of C++ documents/articles/tutorials on Internet. 
If you are new to C++ and you
never programmed in C++, then it is strongly suggested that you first either
read an online C++ textbook given in chapter 
<A HREF="#onlinebooks">C++ Online Textbooks</A> or you buy a C++ book from online bookstores such as 
<A HREF="http://www.amazon.com">Amazon</A> or 
<A HREF="http://www.barnesnoble.com">barnes</A>.</P>
<P>As someone said - <I>Leave the C/C++ programming to system engineers who write
operating system, device drivers and fast response real-time programming, you should use 
Java/PHP-scripting as speed of the
computers in year 2005 will be several billion times faster than computers of year 2002!! </I>
Hardware is getting cheaper and faster.</P>


<H2><A NAME="ss1.1">1.1 Program in C++ ? C++ vs. Java/PHP</A>
</H2>

<P>C++ is one of the most powerful languages and will be used for a long time in
the future in spite of emergence of Java or PHP-scripting. 
Programs which need real-time ultra fast response use C/C++.
C++ runs <B>extremely fast</B>
and is in fact <B> 10 to 20 times FASTER than </B> Java.  
Java is the "offspring" of C++.
The only complaint against Java is - <I>"Java is GOD DAMN SLOW" </I>.
Java byte-code is slower when running in a VM than the equivalent natively compiled code.
Java runs faster with JIT (Just-In-Time) compiler, but it is still slower
than C++. And optimized C/C++ program is about <B>3 to 4 times faster</B>
than Java compiled to native code with JIT compiler or ahead-of-time compiler!! 
Then, why do people use Java? Because it is
pure object oriented and is easier to program in Java, as Java automates
memory management, and programmers do not directly deal with memory
allocations. This document attempts to automate the memory management in C++
to make it much more easy to use.  The library given here will make C++ look
like Java and will enable C++ to compete with the Java language.</P>
<P>Because of manual memory allocations, debugging the C++ programs consumes a
major portion of time. This document will give you some better ideas and
tips to reduce the debugging time. </P>
<P>When should you use C++ and when you should use Java/PHP? </P>
<P>Bottom line is, you use C++:
<UL>
<LI> If you are developing a program where speed and performance is very important.</LI>
<LI> If the user base of your application or program is very large. Since C++
involves compile-link-debug cycle it is more time consuming to develop application in C++.
You can justify the cost only if the user base of your program is large enough.
Linking a large number of object files to create an executable takes time. (You can use
archives, libraries or shared libraries to reduce linking time).</LI>
<LI> If you have lot of experience programming in C++.</LI>
</UL>

Use Java/PHP:
<UL>
<LI> If speed and performance is not important (relative to C/C++).</LI>
<LI> Lower cost of development - There is no compile-link cycle, Java/PHP development is 
faster than C++.</LI>
<LI> Need rapid development.</LI>
<LI> You want no code maintenance nightmare. Maintaining C++ is more 
difficult than Java or PHP-scripting.</LI>
<LI> Java and PHP-scripting is the future, hardware speed will be zooming with the 
introduction of molecular, atomic 
and sub-atomic scale computers. Future computers will be several trillion times
faster than today's computer. Runtime performance of Java or PHP-script becomes less important as
speed of hardware zooms in future. The computers you are using
today (as of year 2002) are extremely slow and crawling and are not fast enough.</LI>
</UL>
</P>
<P>NOTE: There are lot of improvements in Java compilers (JIT and ahead-of-time). Java 
programs can be compiled with GNU GCJ 
<A HREF="http://gcc.gnu.org/java">http://gcc.gnu.org/java</A>,
GCJ is a portable, optimizing, ahead-of-time compiler for the Java
programming language. It can compile - Java source code directly to native machine code, 
Java source code to Java bytecode (class files), 
and Java bytecode to native machine code.</P>
<P>The Java native code compiler "gnu GCJ" is very rapidly maturing and in near future
everybody will be programming in Java instead of C++. Special optimizers in gnu GCJ
compiler can make Java programs as fast as C++ programs. The gnu GCJ compiler 
is 2-3 years away in becoming the de facto compiler on all platforms (initially on Linux
and then on MS Windows).</P>
<P>GCJ resources:
<UL>
<LI> Main site GNU GCJ 
<A HREF="http://gcc.gnu.org/java">http://gcc.gnu.org/java</A>,</LI>
<LI> Redhat rpm GNU GCJ 
<A HREF="http://www.redhat.com/apps/download">http://www.redhat.com/apps/download</A>. Go here and under the section "Find latest RPMs"
search by keyword 'gcc-java' and 'libgcj'.</LI>
<LI> Redhat GCJ Installation 
instructions 
<A HREF="http://www.redhat.com/devnet/articles/gcj.pdf">http://www.redhat.com/devnet/articles/gcj.pdf</A>
. In this document see also the "Usage of gnu GCJ", it gives some examples on howto
compile the Java programs using gcj (you MUST read the examples otherwise you will be
confused).</LI>
</UL>
</P>


<H2><A NAME="ss1.2">1.2 Which one Ada95, C, C++, Java or PHP?</A>
</H2>

<P>Language choice is very difficult. There are too many parameters - people,
people skills, cost, tools, politics (even national politics) and influence
of business-people/commercial companies.  The best language based on technical
merits does not get selected simply due to political decisions!</P>
<P>See the language comparison chart of David Wheeler at
<A HREF="http://www.adahome.com/History/Steelman/steeltab.htm">Ada comparison chart</A>.
Ada got 93%, Java 72%, C++ 68% and C got 53%. C++ and Java 
are closer in points (only 4% difference).
Development costs of Ada is half of C++ as per
<A HREF="http://sw-eng.falls-church.va.us/AdaIC/docs/reports/cada/cada_art.html">Stephen F. Zeigler</A>.
Ada95 is available at -
<UL>
<LI> Ada home 
<A HREF="http://www.gnuada.org">http://www.gnuada.org</A>.</LI>
<LI> Google 
<A HREF="http://directory.google.com/Top/Computers/Programming/Languages/Ada">Ada index</A></LI>
</UL>
</P>
<P>The C++ compiler is lot more complex than a C compiler and C++ programs may
run bit slower than C programs. 
The C compiler is very mature and seasoned.</P>
<P>On some system, you can use compiler options, to optimize the code
generated.</P>
<P>Nowadays, C is primarily used for low level systems programming to develop
operating systems, device drivers and applications which must perform fast.</P>
<P><B>Note: <I>Using the String, StringBuffer, StringTokenizer and
StringReader classes given in this howto, you can code in C++ which
"exactly" looks like Java.  Parts of this document tries to close the gap
between C++ and Java, by imitating Java classes in C++. Java programmers
who jump to and from C++ to Java will like this String class.</I></B></P>
<P>If you want to bypass the edit-compile-debug-compile cycle of C++ then see
scripting languages like PHP which can be used for web development and for
general purpose programming.  Scripting languages like PHP and PERL enable
rapid application development. PHP has some features of object-oriented
programming. PHP is at 
<A HREF="http://www.linuxdoc.org/HOWTO/PHP-HOWTO.html">http://www.linuxdoc.org/HOWTO/PHP-HOWTO.html</A>. </P>


<H2><A NAME="ss1.3">1.3 Problems facing the current C++ compilers</A>
</H2>

<P>Since C++ is a super-set of C, it has all the "bad" features of C.
Manual allocation and deallocation of memory is tedious and error prone 
(see 
<A HREF="#garbage">Garbage Collector for C++</A>).</P>
<P>In C programming - memory leaks, memory overflows are very common due
to usage of features like -
<HR>
<PRE>
        Datatype  char * and char[]
        String functions like strcpy, strcat, strncpy, strncat, etc..
        Memory functions like malloc, realloc, strdup, etc..
</PRE>
<HR>
</P>
<P>The usage of <B>char *</B> and <B>strcpy</B> causes <I>horrible</I> memory 
problems due to <I>"overflow"</I>, 
<I>"fence past errors"</I>, <I>"memory corruption"</I>, <I>"step-on-others-toe"</I> 
(hurting other variable's memory locations) or  <I>"memory leaks"</I>.
The memory problems are extremely hard to debug and are 
very time consuming to fix and trouble-shoot. Memory problems bring down
the productivity of programmers. This document helps increase the
productivity of programmers via different methods addressed to solve the
memory defects in C++.
Memory related bugs are very tough to crack, and even experienced programmers 
take several days or weeks to debug memory related problems. Memory 
bugs may hide inside the code for several months and can cause unexpected
program crashes. The memory bugs due to usage of
<B>char *</B> and <B>pointers</B> in C/C++  
is costing $2 billion 
every year in time lost due to debugging and downtime of programs. If you use
<B>char *</B> and <B>pointers</B> 
in C++ then it is a very costly affair, especially if your program size is greater 
than 10,000 lines of code.</P>
<P>Hence, the following techniques are proposed to overcome the faults of C.
Give preference in the following order -
<OL>
<LI> Use references instead of pointers.</LI>
<LI> Java style String class (given in this HOWTO) or the string class from the Standard C++ Library.</LI>
<LI> Character pointers (char *) in C++ <B>limit the usage</B> of char * to cases where you
cannot use the String class.</LI>
<LI> Character pointers (char *) in C using extern linkage specification, if you
do not want to use (char *) in C++.</LI>
</OL>
</P>
<P>To use "C char *", you would put 
all your C programs in a separate file and link to C++ programs using 
the <I>linkage-specification</I> statement <B>extern "C" </B> -
<HR>
<PRE>
extern "C" {
#include &lt;some_c_header.h>
}

extern "C" {
    comp();
    some_c_function();
}
</PRE>
<HR>
</P>
<P>The <B>extern "C"</B> is a linkage specification and is a flag that 
everything within the enclosing block (brace-surrounded) uses C linkage,
not C++ linkage. </P>
<P>The <B>'String class'</B> utilizes the constructor and destructor features
to automate memory management and provides access to functions like
<I>ltrim</I>, <I>substring</I>, etc.. </P>
<P>See also related 
<A HREF="#standard-string">string class</A> in your C++
compiler.  The <B>string class</B> is part of the Standard C++ Library
library and provides many string manipulation functions. </P>
<P>Because the C++ <B>'string class'</B> and <B>'String class'</B> library
provides many string manipulation functions, there is less need to use the
character pointer approach to write your own string functions.  Also, C++
programmers must be encouraged to use 'new', 'delete' operators instead of
using 'malloc' or 'free'.</P>
<P>Both string classes do everything that <B>char *</B> or <B>char []</B>
do. One of the added benefits is that you do not have to worry about the
memory problems and memory allocation at all.</P>


<H2><A NAME="c++-compilers"></A> <A NAME="s2">2. Recommended C++ Compilers </A></H2>

<P>The current C++ standard adopted by ISO and ANSI was first finalized in
1997, this means that not all compilers are up to pace yet, and not
supporting all features - it is extremely important that you get a standard
compliant C++ compiler.</P>

<H2><A NAME="ss2.1">2.1 Compilers for MS Windows 2000/NT/95/98/ME/XP</A>
</H2>

<P>Since MS Windows is quite popular for C++ development, the String class
library given in this document works well and runs very well on all the
versions of MS Windows i.e. MS Win XP/2000/NT/95/98/ME.
The C++ compilers for MS Windows are:
<UL>
<LI> Redhat Cygwin GNU gcc compiler 
<A HREF="http://www.cygwin.com">http://www.cygwin.com</A>
and mirror 
<A HREF="http://www.redhat.com/software/tools/cygwin">Redhat cygwin</A>.</LI>
<LI> GNU BloodShed at 
<A HREF="http://www.bloodshed.net/devcpp.html">http://www.bloodshed.net/devcpp.html</A></LI>
<LI> Borland C++ compiler 
<A HREF="http://www.borland.com/bcppbuilder/freecompiler">http://www.borland.com/bcppbuilder/freecompiler</A></LI>
<LI> Microsoft Visual C++ compiler 
<A HREF="http://msdn.microsoft.com/visualc">http://msdn.microsoft.com/visualc</A></LI>
<LI> MSDOS C++ compiler 
<A HREF="http://www.delorie.com/djgpp">http://www.delorie.com/djgpp</A></LI>
<LI> 
<A HREF="http://www.digitalmars.com">http://www.digitalmars.com</A></LI>
</UL>

The String class in this document is tested with all the above compilers.
It works fine with MS Visual C++ compiler v6.0, Borland C++ v5.2, Borland 
C++ compiler v5.5.1 and Bloodshed compiler.</P>

<H2><A NAME="ss2.2">2.2 Compilers for UNIX systems and clones</A>
</H2>

<P>In a GNU world, you will always be best off with GCC (GNU Compiler
Collection), GCC is distributed with most Linux distributions, FreeBSD and
most other UNIX clones. The GCC homepage is located at 
<A HREF="http://gcc.gnu.org">http://gcc.gnu.org</A>. The latest version of GCC (3.0) is one of the
most standards compliant compilers out there.</P>


<H2><A NAME="String Variety"></A> <A NAME="s3">3. String Class Varieties </A></H2>

<P>The string class is the one of the most vital objects in programming, and
string manipulations are most extensively used.
There is a lot of varieties of
string classes. Of course, you can build your own string class by simply
inheriting from these string classes -
<UL>
<LI> String class given in this document
<A HREF="#Appendix A">Appendix A String.h</A>

</LI>
<LI> Standard C++ Library string class (ANSI/ISO string class at 
<A HREF="http://www.msoe.edu/eecs/cese/resources/stl/string.htm">http://www.msoe.edu/eecs/cese/resources/stl/string.htm</A> and 
<A HREF="http://www.sgi.com/tech/stl/basic_string.html">http://www.sgi.com/tech/stl/basic_string.html</A>

</LI>
<LI> The external library Qt, has a Qt String class at 
<A HREF="http://doc.trolltech.com/qstring.html">http://doc.trolltech.com/qstring.html</A> mirror at 
<A HREF="http://www.cs.berkeley.edu/~dmartin/qt/qstring.html">http://www.cs.berkeley.edu/~dmartin/qt/qstring.html</A>

</LI>
<LI> If none of these are suitable, you can build 
your own string class.  You can start with one or more of the 
pre-built classes listed above (by using single or multiple inheritance.)</LI>
</UL>
</P>


<H2><A NAME="ss3.1">3.1 Multiple Inheritance - Sample Custom String class </A>
</H2>

<P>As mentioned above, you can build your own custom string class from the
pre-built classes by single or multiple inheritance.  In this section we
will build a sample custom string class by using multiple inheritance,
inheriting the standard C++ library string class and the String class
presented in Appendix A.</P>
<P>Start by downloading the sample file 'string_multi.h' from 
<A HREF="#Appendix A">Appendix A</A>
.</P>
<P>That file is reproduced below:</P>
<P>
<HR>
<PRE>
// ******************************************************************
// Sample program to demonstrate constructing your own string class
// by deriving from the String class and stdlib's "string" class
// ******************************************************************

#ifndef __STRING_MULTI_H_ALDEV_
#define __STRING_MULTI_H_ALDEV_

#include &lt;string>
#include "String.h"
#include "StringBuffer.h"

#ifdef NOT_MSWINDOWS
#else
using namespace std;  // required for MS Visual C++ compiler Version 6.0
#endif

// Important Notes: In C++ the constructors, destructors and copy 
//       operator are NOT inherited by the derived classes!!
//       Hence, if the operators like =, + etc.. are defined in
//       base class and those operators use the base class's contructors
//       then you MUST define equivalent constructors in the derived 
//       class. See the sample given below where constructors mystring(), 
//       mystring(char[]) are defined.
//
//       Also when you use operator as in atmpstr + mstr, what you are really
//       calling is atmpstr.operator+(mstr). The atmpstr is declared a mystring

class mystring:public String, string
{
        public:
                mystring():String() {}  // These are needed for operator=, +
                mystring(char bb[]):String(bb) {}  // These are needed for operator=, +
                mystring(char bb[], int start, int slength):String(bb, start, slength) {}
                mystring(int bb):String(bb) {}  // needed by operator+
                mystring(unsigned long bb):String(bb) {}  // needed by operator+
                mystring(long bb):String(bb) {}  // needed by operator+
                mystring(float bb):String(bb) {}  // needed by operator+
                mystring(double bb):String(bb) {}  // needed by operator+
                mystring(const String &amp; rhs):String(rhs) {}  // Copy Constructor needed by operator+
                mystring(StringBuffer sb):String(sb) {}  // Java compatibility
                mystring(int bb, bool dummy):String(bb, dummy) {}  // for StringBuffer class

                int mystraa; // customizations of mystring
        private:
                int mystrbb; // customizations of mystring
};

#endif // __STRING_MULTI_H_ALDEV_
</PRE>
<HR>
</P>


<H2><A NAME="Download String"></A> <A NAME="s4">4. Download String </A></H2>

<P>All the programs, examples are given in Appendix of this document.
You can download as a single tar zip, the String class, libraries 
and example programs from
<UL>
<LI> 
Go to 
<A HREF="http://www.milkywaygalaxy.freeservers.com">http://www.milkywaygalaxy.freeservers.com</A> and click on 
"Source code C++ 
Programming howto" (
<A HREF="http://www.milkywaygalaxy.freeservers.com">Milkyway Galaxy site</A>)
</LI>
<LI> Mirror sites are at -
<A HREF="http://www.angelfire.com/country/aldev0">angelfire</A>,
<A HREF="http://www.geocities.com/alavoor/index.html">geocities</A>,
<A HREF="http://aldev0.virtualave.net">virtualave</A>,
<A HREF="http://aldev0.50megs.com">50megs</A>,
<A HREF="http://members.theglobe.com/aldev1/index.html">theglobe</A>,
<A HREF="http://members.nbci.com/alavoor">NBCi</A>,
<A HREF="http://aldev.terrashare.com">Terrashare</A>,
<A HREF="http://members.fortunecity.com/aldev">Fortunecity</A>,
<A HREF="http://aldev.freewebsites.com">Freewebsites</A>,
<A HREF="http://members.tripod.lycos.com/aldev">Tripod</A>,
<A HREF="http://members.spree.com/technology/aldev">Spree</A>,
<A HREF="http://www.escalix.com/freepage/aldev">Escalix</A>,
<A HREF="http://www.httpcity.com/aldev/index.html">Httpcity</A>,
<A HREF="http://aldev.freeservers.com">Freeservers</A>.
</LI>
</UL>
</P>


<H2><A NAME="trust"></A> <A NAME="ss4.1">4.1 How Can I trust Al Dev's String Class? </A>
</H2>

<P>You may a have question of mis-trust of the String class software.
To build confidence, there is a scientific method to verify the
functionality of Al Dev's String class. In modern days, computer scientists
use the CPU power instead of human brain power to verify and validate the
software. Human brain is too slow and hence it is better to use the 
computer's power to test and validate software.</P>
<P>The program 
<A HREF="http://www.milkywaygalaxy.freeservers.com">example_String.cpp</A>
go here and click on 'Source code for C++'.
(and also given in 
<A HREF="#Appendix A">Appendix A</A> 
) has regression test module which you can use to run the regression tests
several millions of times automatically. After running the regression tests 
on the String class
you can certify that the String class program is a <B>ROCK SOLID</B> and 
a <B>BULLET-PROOF</B> program.</P>
<P>I tested the String class with 
<B>repeat cycle = 50000</B>
and it ran and completed the program without crash. While it is running I did
not notice any memory leak. On Linux, I used /usr/bin/gtop, UNIX top command, 
KDEStart->System->KDE System Guard
and KDEStart->System->Process management to monitor the cpu and memory usage.</P>
<P>I recommend that you start the regression test with 
<B>repeat cycle </B> equal to 10 million or greater. The greater the 
repeat cycle number the greater will be your confidence!!
Start the test and go to lunch (or go drink gharam chai - "chai peeke auvo") and come 
back to see the results!!</P>


<H2><A NAME="s5">5. Usage of String class</A></H2>

<P>Take notice, this String class is not the same as the string class
implemented in the Standard C++ Library. This special String class is a
"home-made" String class, made to help Java programmers convert to C++. When
you are more comfortable with C++, you should use the real string class
provided in The Standard C++ Library.</P>
<P>To use String class, you should first refer to a sample program
"example_String.cpp" given in 
<A HREF="#Appendix A">Appendix A</A> and
the String class which is given in 
<A HREF="#Appendix A">Appendix A</A>.</P>
<P>The <B>'String class'</B> is a complete replacement for char and char *
datatype.  You can use <B>'String class'</B> just like char and get much
more functionalities.  You should link with the library 'libString.a' which
you can build from the makefile given in 
<A HREF="#Appendix A">Appendix A</A> and copy the library to /usr/lib or /lib directory where
all the C++ libraries are located. To use the 'libString.a' compile your
programs like -
<HR>
<PRE>
        g++ example.cpp -lString
</PRE>
<HR>

See illustration sample code as given below -
<HR>
<PRE>
        String aa;

        aa = "Creating an Universe is very easy, similar to creating a baby human.";

        // You can use aa.val() like a 'char *' variable in programs
        for (unsigned long tmpii = 0; tmpii &lt; aa.length(); tmpii++)
        {
                //fprintf(stdout, "aa.val()[%ld]=%c ", tmpii, aa.val()[tmpii]);
                fprintf(stdout, "aa[%ld]=%c ", tmpii, aa[tmpii]);
        }

        // Using pointers on 'char *' val ...
        for (char *tmpcc = aa.val(); *tmpcc != 0; tmpcc++)  
        {
                fprintf(stdout, "aa.val()=%c ", *tmpcc);
        }
</PRE>
<HR>
</P>


<H2><A NAME="ss5.1">5.1 Operators</A>
</H2>

<P>The 
<B>'String class'</B> 
provides these operators :-
<UL>
<LI> Equal to <B>==</B> </LI>
<LI> Not equal to <B>!=</B> </LI>
<LI> Assignment <B>=</B>  </LI>
<LI> Add to itself and Assignment <B>+=</B> </LI>
<LI> String concatenation or addition <B>+</B>  </LI>
</UL>

For example to use operators -
<HR>
<PRE>
        String aa;
        String bb("Bill Clinton");

        aa = "put some value string";  // assignment operator
        aa += "add some more"; // Add to itself and assign operator
        aa = "My name is" + " Alavoor Vasudevan "; // string cat operator

        if (bb == "Bill Clinton")  // boolean equal to operator
                cout &lt;&lt; "bb is equal to 'Bill Clinton' " &lt;&lt; endl;

        if (bb != "Al Gore")   // boolean 'not equal' to operator
                cout &lt;&lt; "bb is not equal to 'Al Gore'" &lt;&lt; endl;
</PRE>
<HR>
</P>


<H2><A NAME="ss5.2">5.2 Functions</A>
</H2>

<P>The functions provided by String class have the <B>same name</B>
as that of Java language's 
String class. The function names and the behaviour is <B>exactly</B> the same
as that of Java's String class. StringBuffer class is also provided.
This will facilitate portability of code
between Java and C++ (you can cut and paste and do minimum changes to code).
The code from Java's function body can be copied into C++ member function 
body and with very mininum changes the code will compile under C++.
Another advantage is that developers coding in 
both Java and C++ do not need to remember two 
different syntax or function names.</P>
<P>For example to convert integer to string do -
<HR>
<PRE>
        String  aa;

        aa = 34;  // The '=' operator will convert int to string
        cout &lt;&lt; "The value of aa is : " &lt;&lt; aa.val() &lt;&lt; endl;

        aa = 234.878;  // The '=' operator will convert float to string
        cout &lt;&lt; "The value of aa is : " &lt;&lt; aa.val() &lt;&lt; endl;

        aa = 34 + 234.878;
        cout &lt;&lt; "The value of aa is : " &lt;&lt; aa.val() &lt;&lt; endl;
        // The output aa will be '268.878'

        // You must cast String to convert
        aa = (String) 34 + " Can create infinite number of universes!! " + 234.878;
        cout &lt;&lt; "The value of aa is : " &lt;&lt; aa.val() &lt;&lt; endl;
        // The output aa will be '34 Can create infinite number of universes!! 234.878'
</PRE>
<HR>
</P>
<P>Refer to
<A HREF="#Appendix A">Appendix A String.h</A>
for details about the String class function names. The same file String.h is
reproduced here in next section.</P>


<H2><A NAME="ss5.3">5.3 Renaming the String class</A>
</H2>


<H3>Case 1: Simple rename</H3>

<P>If you do not like the String class name then you can use <B>"typedef"</B>
to rename the String class.</P>
<P>In all the files where you do include String.h, insert these lines:
<HR>
<PRE>
// If you do not like the class name String, then you can rename using typedef
typedef String StringSomethingElseIwant;

// Your remaining code may be like this ....
int main()
{
        StringSomethingElseIwant aa_renstr; 
        aa_renstr = "I renamed the String Class using typedef";

        // .......etc...
}
</PRE>
<HR>

See the 
<A HREF="http://www.milkywaygalaxy.freeservers.com">example_String.cpp</A>
click on 'Source code for C++'.</P>


<H3>Case 2: Resolve conflict</H3>

<P>If there is a conflict with another class-name having the same name, and
you want to use both this class and conflicting class then you use this 
technique -
in all the files where you do include String.h, insert these lines: 
<HR>
<PRE>
#define  String  String_somethingelse_which_I_want
#include "String.h"
#undef String

#include "ConflictingString.h"  // This also has String class...

// All your code goes here...
int main()
{
        String_somethingelse_which_I_want aa;
        String bb; // This string class from conflicting string class

        aa = " some sample string";
        bb = " another string abraka-dabraka";
        .......
}
</PRE>
<HR>

The pre-processor will replace all literals of String 
to "String_somethingelse_which_I_want" and immediately undefines String.
After undef the conflicting string class header file is included which
defines the "String" class.</P>


<H2><A NAME="s6">6. String.h file</A></H2>

<P>C++ and Java are often used concurrently in many software projects.
Programmers who jump back and forth between C++ and Java will find this string class
very helpful.</P>
<P>In C++ (or any object oriented language), you just read the "class
data-structure" (i.e. interface) to begin using that class. You just need to
understand the interface and not the implementation of the interface.  In
case of String class, you just need to read and understand the String class
in String.h file. You <B>do not need</B> to read the entire implementation
(String.cpp) in order to use String class.  The object oriented classes are
real time saver and they <B>very neatly hide</B> the implementation.</P>
<P>(In object oriented Java language there is the equivalent called
<B>'interface'</B> , which hides the implementation details.)</P>
<P>Given below is the sample <B>String.h</B> file and 
see also 
<A HREF="#Appendix A">Appendix A String.h</A></P>
<P>The <B>String.h</B> has more than <B>200 string manipulation</B> functions  
but below only few functions are shown as sample.</P>
<P>
<HR>
<PRE>
// I compiled and tested this string class on Linux (Redhat 7.1) and 
// MS Windows Borland C++ version 5.2 (win32). This should also work
// using MS Visual C++ compiler
class String
{
        public:
                String();
                virtual ~String();

                // Functions below imitate Java language's String object 
                unsigned long length();
                char charAt(int where);
                void getChars(int sourceStart, int sourceEnd, 
                                char target[], int targetStart);
                char* toCharArray();
                char* getBytes();

                bool equals(String str2);
                bool equals(char *str2);
                bool equalsIgnoreCase(String str2);

                bool regionMatches(int startIndex, String str2, 
                                int str2StartIndex, int numChars);
                bool regionMatches(bool ignoreCase, int startIndex, 
                                String str2, int str2StartIndex, int numChars);

                String toUpperCase();
                String toLowerCase();

                bool startsWith(String str2);
                bool startsWith(char *str2);

                bool endsWith(String str2);
                bool endsWith(char *str2);

                int compareTo(String str2);
                int compareTo(char *str2);
                int compareToIgnoreCase(String str2);
                int compareToIgnoreCase(char *str2);

                int indexOf(char ch, int startIndex = 0);
                int indexOf(char *str2, int startIndex = 0);
                int indexOf(String str2, int startIndex = 0);

                int lastIndexOf(char ch, int startIndex = 0);
                int lastIndexOf(char *str2, int startIndex = 0);
                int lastIndexOf(String str2, int startIndex = 0);

                String substring(int startIndex, int endIndex = 0);
                String replace(char original, char replacement);
                String replace(char *original, char *replacement);

                String trim();

                String concat(String str2);
                String concat(char *str2);
                String concat(int bb);
                String concat(unsigned long bb);
                String concat(float bb);
                String concat(double bb);

                String reverse();
                String deleteCharAt(int loc);
                String deleteStr(int startIndex, int endIndex);

                String valueOf(char ch)
                        {char aa[2]; aa[0]=ch; aa[1]=0; return String(aa);}
                String valueOf(char chars[]){ return String(chars);}
                String valueOf(char chars[], int startIndex, int numChars);
                String valueOf(bool tf)
                        {if (tf) return String("true"); else return String("false");}
                String valueOf(int num){ return String(num);}
                String valueOf(long num){ return String(num);}
                String valueOf(float num) {return String(num);}
                String valueOf(double num) {return String(num);}

                // See also StringBuffer class in this file given below

                // ---- End of Java like String object functions -----

                //////////////////////////////////////////////////////
                //              List of additional functions not in Java
                //////////////////////////////////////////////////////

                String ltrim();
                String rtrim();

                ///////////////////////////////////////////////////////////////////////
                // More than 200 string manipulation functions are provided (see the 
                // "Download String" section) but only few functions are shown here.
                ///////////////////////////////////////////////////////////////////////

                void ensureCapacity(int capacity);
                void setLength(int len);
                void setCharAt(int where, char ch);

                int parseInt(String ss) {return ss.toInteger();}
                int parseInt(char *ss)
                        {String tmpstr(ss); return tmpstr.toInteger();}
                long parseLong(String ss) {return ss.parseLong();}
                long parseLong(char *ss)
                        {String tmpstr(ss); return tmpstr.parseLong();}
                float floatValue() {return (float) toDouble(); }
                double doubleValue() {return toDouble(); }

                // All Operators ...
                String operator+ (const String  rhs);
                String operator+= (const String  rhs);
                String operator= (const String  rhs);
                bool operator== (const String  rhs);
                bool operator!= (const String  rhs);
                char operator [] (unsigned long Index) const;
                ostream operator &lt;&lt; (ostream  Out, const String  str2);
                istream operator >> (istream  In, String  str2);
                bool String::operator&lt; (const char rhs);

                ///////////////////////////////////////////////////////////////////////
                // More than 200 string manipulation functions are provided (see the 
                // "Download String" section) but only few functions are shown here.
                ///////////////////////////////////////////////////////////////////////
};
</PRE>
<HR>
</P>


<H2><A NAME="ss6.1">6.1 StringBuffer.h</A>
</H2>

<P>C++ and Java are often used concurrently in many software projects.
Programmers jump back and forth between C++ and Java will find this stringbuffer class
very helpful.</P>
<P>
<HR>
<PRE>
//
// Author : Al Dev  Email: alavoor[AT]yahoo.com
//

// Imitate Java's StringBuffer object
// This class is provided so that the Java code is
// portable to C++, requiring minimum code changes
// Note: While coding in C++ DO NOT use this class StringBuffer,
// this is provided only for compiling code written in Java
// which is cut/pasted inside C++ code.
class StringBuffer: public String
{
        public:
                StringBuffer();
                ~StringBuffer();
                StringBuffer(char *aa);
                StringBuffer(int size);
                StringBuffer(String str);

                int capacity();
                StringBuffer append(String str2);
                        // See also operator +
                        //{ *this += str2; return *this;} // This is causing core dumps...

                StringBuffer append(char *str2);
                StringBuffer append(int bb);
                StringBuffer append(unsigned long bb) ;
                StringBuffer append(float bb) ;
                StringBuffer append(double bb) ;

                StringBuffer insert(int index, String str2);
                StringBuffer insert(int index, char ch);

                StringBuffer reverse();

                // Java's "delete()". Cannot use name delete in C++
                StringBuffer deleteStr(int startIndex, int endIndex);
                StringBuffer deleteCharAt(int loc);

                StringBuffer substring(int startIndex, int endIndex = 0);
                void assign(char *str);
};
</PRE>
<HR>
</P>


<H2><A NAME="ss6.2">6.2 StringTokenizer.h</A>
</H2>

<P>C++ and Java is often used concurrently in many software projects.
Programmers jump back and forth between C++ and Java will find this stringtokenizer class
very helpful.</P>
<P>
<HR>
<PRE>
//
// Author : Al Dev  Email: alavoor[AT]yahoo.com
//

// Imitate Java's StringTokenizer class
// provided to compile Java code in C++ and vice-versa
class StringTokenizer: public String
{
        public:
                StringTokenizer(String str);
                StringTokenizer(String str, String delimiters);
                StringTokenizer(String str, String delimiters, bool delimAsToken);
                ~StringTokenizer();

                int     countTokens();
                bool    hasMoreElements();
                bool    hasMoreTokens();
                String  nextElement(); // in Java returns type 'Object'
                String  nextToken();
                String  nextToken(String delimiters);
};
</PRE>
<HR>
</P>


<H2><A NAME="standard-string"></A> <A NAME="s7">7. The Standard C++ Library string class </A></H2>

<P>While the previously mentioned String class (note the uppercase S), is a
good thing for people coming from Java, then you should take notice of the
"real" string class provided by The Standard C++ Library.</P>
<P>The string class was made to overcome one of the greatest pitfalls in C;
character arrays. While character arrays are extremely fast, they have many
bad sides. Character arrays are the cause of many bugs, and parsing character
arrays is very time consuming.</P>
<P>The string class brings a good interface for parsing and handling strings,
and it's even STL compatible, so it can be used with all the general STL
algorithms. Actually you could say that a string is a
<B>vector&lt;char&gt;</B>. A container of chars, or an advanced array of
chars.</P>
<P>Useful string references can be found at the following sites:
<UL>
<LI>SGI STL basic_string reference: 
<A HREF="http://www.sgi.com/tech/stl/basic_string.html">http://www.sgi.com/tech/stl/basic_string.html</A>.</LI>
</UL>
</P>



<H2><A NAME="ss7.1">7.1 string by example</A>
</H2>

<P>Creating a string is easy:
<HR>
<PRE>
#include &lt;string>
#include &lt;iostream>

using namespace std;

int main()
{
    string str("Hello World!"); // Or string str = "Hello World!";
    cout &lt;&lt; str &lt;&lt; endl;
}
</PRE>
<HR>
</P>
<P>This code will create a string called "<B>str</B>', and put "<B>Hello
World!</B>' into it. It is then being outputted to standard output by using
cout.</P>
<P>(Note that I will skip the headers and the namespace from now on.)</P>
<P>Taking a substring of a string is also easy:
<HR>
<PRE>
string str("Hello Universe!");
string start = str.substr(0, 5);
string end = str.substr(5);
</PRE>
<HR>
</P>
<P>This will put the first 6 characters into the string "<B>start</B>", and
the rest into "<B>end</B>".</P>
<P>To get the size or length of a string, you would simply do this:
<HR>
<PRE>
string str("How long is this string?");
cout &lt;&lt; "Length of string is: " &lt;&lt; str.size() &lt;&lt; endl;
</PRE>
<HR>
</P>
<P>You can also use <B>length()</B> which works exactly the same.</P>



<H2><A NAME="ss7.2">7.2 Searching a string</A>
</H2>

<P>Searching a string is much easier than using plain character arrays, the
string class provides efficient member functions to search through the
string. All member functions return string::size_type.
<BR><CENTER>
<TABLE BORDER><TR><TD>
Member function </TD><TD>Purpose </TD></TR><TR><TD>
find() </TD><TD>find the first position of the specified substring </TD></TR><TR><TD>
find_first_of() </TD><TD>equal to find(), but finds the first position of any character specified</TD></TR><TR><TD>
find_last_of() </TD><TD>equal to find&thinsp;first&thinsp;of(), but finds the last position of any character specified </TD></TR><TR><TD>
find_first_not_of() </TD><TD>equal to find&thinsp;first&thinsp;of(), but returns the position of the first character not of those specified </TD></TR><TR><TD>
find_last_not_of() </TD><TD>equal to find&thinsp;last&thinsp;of(), but returns the last position of any characters not specified </TD></TR><TR><TD>
rfind() </TD><TD>equal to find(), but searches backwards </TD></TR><TR><TD>
</TD></TR></TABLE>
<CAPTION><B>string search member functions</B></CAPTION>
</CENTER><BR>
</P>
<P>A very common thing to do, is to search a string for contents. This can be done by using <B>find()</B>
<HR>
<PRE>
string str("Hello, can you find Ben?");
string::size_type position = str.find("Ben");
cout &lt;&lt; "First occurrence of Ben was found at: " &lt;&lt; position &lt;&lt; endl;
</PRE>
<HR>
</P>
<P>This code makes a case sensitive search for '<B>Ben</B>' in the string, and
puts the start position in the variable '<B>position</B>' of type
string::size_type. Note that the return value is not an int, but a
string::size_type which is a special implementation defined integral value.</P>
<P>The member function <B>find_first_of()</B> needs a practical introduction,
consider this:</P>
<P>
<HR>
<PRE>
string s = "C++ is an impressive language.";
string::size_type pos = s.find_first_of(" .");

while (pos != string::npos) {
    cout &lt;&lt; "Found space or dot at: " &lt;&lt; pos &lt;&lt; endl;
    pos = s.find_first_of(" .", pos + 1);
}
</PRE>
<HR>
</P>
<P>By using <B>find_first_of()</B>, we can search the string for <B>any</B>
character of the first argument, here we decide to search for a space or a
dot.</P>
<P>Try compiling the program and check the output.</P>



<H2><A NAME="ss7.3">7.3 A string tokenizer</A>
</H2>

<P>A very common operation with strings, is to tokenize it with a delimiter of
your own choice. This way you can easily split the string up in smaller
pieces, without fiddling with the find() methods too much. In C, you could
use <B>strtok()</B> for character arrays, but no equal function exists for
strings. This means you have to make your own. Here is a couple of
suggestions, use what suits your best.</P>
<P>The advanced tokenizer:
<HR>
<PRE>
void Tokenize(const string&amp; str,
                      vector&lt;string>&amp; tokens,
                      const string&amp; delimiters = " ")
{
    // Skip delimiters at beginning.
    string::size_type lastPos = str.find_first_not_of(delimiters, 0);
    // Find first "non-delimiter".
    string::size_type pos     = str.find_first_of(delimiters, lastPos);

    while (string::npos != pos || string::npos != lastPos)
    {
        // Found a token, add it to the vector.
        tokens.push_back(str.substr(lastPos, pos - lastPos));
        // Skip delimiters.  Note the "not_of"
        lastPos = str.find_first_not_of(delimiters, pos);
        // Find next "non-delimiter"
        pos = str.find_first_of(delimiters, lastPos);
    }
}
</PRE>
<HR>
</P>
<P>The tokenizer can be used in this way:
<HR>
<PRE>
#include &lt;string>
#include &lt;algorithm>
#include &lt;vector>

using namespace std;

int main()
{
    vector&lt;string> tokens;

    string str("Split me up! Word1 Word2 Word3.");

    Tokenize(str, tokens);

    copy(tokens.begin(), tokens.end(), ostream_iterator&lt;string>(cout, ", "));
}
</PRE>
<HR>
</P>
<P>The above code will use the Tokenize function, take the first argument
<B>str</B> and split it up. And because we didn't supply a third parameter
to the function, it will use the default delimiter " ", that is - a
whitespace. All elements will be inserted into the vector <B>tokens</B> we
created. </P>
<P>In the end we copy() the whole vector to standard out, just to see the
contents of the vector on the screen.</P>

<P>Another approach is to let stringstreams do the work. streams in C++ have
the special ability, that they read until a whitespace, meaning the
following code works if you only want to split on spaces:</P>
<P>
<HR>
<PRE>
#include &lt;vector>
#include &lt;string>
#include &lt;sstream>

using namespace std;

int main()
{
    string str("Split me by whitespaces");
    string buf; // Have a buffer string
    stringstream ss(str); // Insert the string into a stream

    vector&lt;string> tokens; // Create vector to hold our words

    while (ss >> buf)
        tokens.push_back(buf);
}
</PRE>
<HR>
</P>
<P>And that's it! The stringstream will use the output operator (&gt;&gt;) and
put a string into <B>buf</B> everytime a whitespace is met, <B>buf</B>
is then used to push_back() into the vector. And afterwards our vector
<B>tokens</B> will contain all the words in <B>str</B>.</P>



<H2><A NAME="s8">8. File Class</A></H2>

<P>C++ and Java are often used concurrently in many software projects.
Programmers jump back and forth between C++ and Java will find this File class
very helpful.</P>
<P>You would use the File class to manipulate the operating system files.
This class is an imitation of Java's File class and will be very useful
in C++ programming. Using this File class in C++ you can do 
if file <B>exists()</B> ?, 
if directory <B>exists()</B> ?, 
file <B>length()</B> and other functions.</P>
<P>Note that these classes have some great functionality not supported in the
Standard C++ Library, but don't confuse them with fstreams(iostreams), which is the
way you should perform many other operations on files.</P>
<P>
<UL>
<LI> C++ File class is at 
File.h
and File.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">File.cpp</A>
click on 'Source code of C++'.</LI>
<LI> Java: Java.io.File class definition 
<A HREF="http://java.sun.com/j2se/1.3/docs/api/java/io/File.html">http://java.sun.com/j2se/1.3/docs/api/java/io/File.html</A></LI>
<LI> Quick Reference on File Class 
<A HREF="http://unicornsrest.org/reference/java/qref11/java.io.File.html">http://unicornsrest.org/reference/java/qref11/java.io.File.html</A></LI>
</UL>
</P>


<H2><A NAME="memory-allocation"></A> <A NAME="s9">9. Memory Allocation in C++ </A></H2>

<P>In C, you use malloc(), free() and variants of malloc() to allocate and free
memory, but these functions have their pitfalls. Therefore C++ introduced
operators for handling memory, these operators are called <B>new</B> and
<B>delete</B>. These operators allocates and frees memory from the heap (or
sometimes called the free store) at runtime.</P>
<P>In C++, you should always use <B>new</B> and <B>delete</B> unless
you're really forced to use malloc() and free(). But be aware that you
cannot mix the two. You cannot malloc() memory, and then delete it
afterwards, likewise you can't "new" memory, and then free it with free().</P>


<H2><A NAME="zap"></A> <A NAME="ss9.1">9.1 C++ Zap (Delete) function </A>
</H2>

<P>The <B>delete</B> and <B>new</B> operators in C++ are much better than
the malloc and free functions of C.  Consider using new and zap (delete
function) instead of malloc and free as much as possible.</P>
<P>To make 
<B>delete</B> 
operators even more cleaner, make a Zap() inline function. Define 
a zap() function like this: 
<HR>
<PRE>
// Put an assert to check if x is NULL, this is to catch
// program "logic" errors early. Even though delete works 
// fine with NULL by using assert you are actually catching 
// "bad code" very early

// Defining Zap using templates
// Use zap instead of delete as this will be very clean
template &lt;class T>
inline void zap(T &amp; x)
{
        {assert(x != NULL);}
        delete x;
        x = NULL;
}

// In C++ the reason there are 2 forms of the delete operator is - because
// there is no way for C++ to tell the difference between a pointer to
// an object and a pointer to an array of objects. The delete operator
// relies on the programmer using "[]" to tell the two apart.
// Hence, we need to define zaparr function below.
// To delete array of pointers
template &lt;class T>
inline void zaparr(T &amp; x)
{
         {assert(x != NULL);}
     delete [] x;
     x = NULL;
}
</PRE>
<HR>
</P>
<P>The zap() function will delete the pointer and set it NULL.
This will ensure that even if multiple zap()'s are called on the
same deleted pointer then the
program will not crash. Please see the function zap_example() in 
<A HREF="http://www.milkywaygalaxy.freeservers.com">example_String.cpp</A>
click on 'Source code of C++'.</P>
<P>
<HR>
<PRE>
        // See zap_example() in example_String.cpp
        zap(pFirstname);
        //zap(pFirstname); // no core dumps.  Because pFirstname is NULL now
        //zap(pFirstname); // no core dumps.  Because pFirstname is NULL now

        zap(pLastname);
        zap(pJobDescription);

        int *iiarray = new int[10];
        zaparr(iiarray);
</PRE>
<HR>
</P>
<P>There is nothing magical about this, it just saves 
repetetive code, saves typing time and makes programs more readable. The
C++ programmers often forget to reset the deleted pointer
to NULL, and this causes annoying
problems causing core dumps and crashes. The zap() takes care of 
this automatically.
Do not stick a typecast in the zap() function -- if something errors out on the 
above zap() function it likely has another error somewhere.</P>
<P>Also 
<A HREF="#my_malloc">my_malloc()</A>
, my_realloc() and my_free() should be used 
instead of malloc(), realloc() and free(), as they
are much cleaner and have additional checks. 
For an example, see the file "String.h" which is using 
the 
<A HREF="#my_malloc">my_malloc()</A>
and my_free() functions.</P>
<P><B>WARNING :</B> Do not use free() to free memory allocated with 'new'
or 'delete' to free memory allocated with malloc. If you do, then
results will be unpredictable.</P>
<P>See the zap examples in
<A HREF="http://www.milkywaygalaxy.freeservers.com">example_String.cpp</A>
click on 'Source code of C++'.</P>



<H2><A NAME="my_malloc"></A> <A NAME="ss9.2">9.2 Usage of my_malloc and my_free </A>
</H2>

<P>Try to avoid using malloc and realloc as much as possible and use <B>new</B>
and <B>
<A HREF="#zap">zap</A>(delete)</B>. But sometimes you may need to 
use the C style memory allocations in C++. Use the functions 
<B>my_malloc()</B> ,
<B>my_realloc()</B> and
<B>my_free()</B>. 
These functions do proper allocations and initialisations and try to prevent 
memory problems. Also these functions (in DEBUG mode) can keep track 
of memory allocated and print total memory usage before and after the program
is run. This tells you if there are any memory leaks.</P>
<P>The my_malloc and my_realloc is defined as below. It allocates little more memory
(SAFE_MEM = 5) and initializes the space and if it cannot allocate it exits the
program. The 'call_check(), remove_ptr()' functions are active only 
when DEBUG_MEM is defined in 
makefile and are assigned to 
((void)0) i.e. NULL
for non-debug production release. They enable the total-memory used tracing.</P>
<P>
<HR>
<PRE>
void *local_my_malloc(size_t size, char fname[], int lineno) 
{
        size_t  tmpii = size + SAFE_MEM;
        void *aa = NULL;
        aa = (void *) malloc(tmpii);
        if (aa == NULL)
                raise_error_exit(MALLOC, VOID_TYPE, fname, lineno);
        memset(aa, 0, tmpii);
        call_check(aa, tmpii, fname, lineno);
        return aa;
}

char *local_my_realloc(char *aa, size_t size, char fname[], int lineno)
{
        remove_ptr(aa, fname, lineno);
        unsigned long tmpjj = 0;
        if (aa) // aa !=  NULL
                tmpjj = strlen(aa);
        unsigned long tmpqq = size + SAFE_MEM;
        size_t  tmpii = sizeof (char) * (tmpqq);
        aa = (char *) realloc(aa, tmpii);
        if (aa == NULL)
                raise_error_exit(REALLOC, CHAR_TYPE, fname, lineno);

        // do not memset memset(aa, 0, tmpii);
        aa[tmpqq-1] = 0;
        unsigned long kk = tmpjj;
        if (tmpjj > tmpqq)
                kk = tmpqq;
        for ( ; kk &lt; tmpqq; kk++)
                aa[kk] = 0;
        call_check(aa, tmpii, fname, lineno);
        return aa;
}
</PRE>
<HR>

See 
<A HREF="#Appendix A">my_malloc.cpp</A>.
and the header file
<A HREF="#Appendix A">my_malloc.h</A>.
for full implementation of the my_malloc program.</P>
<P>An example on usage of my_malloc and my_free as below:
<HR>
<PRE>
        char    *aa;
        int     *bb;
        float   *cc;
        aa = (char *) my_malloc(sizeof(char)* 214);
        bb = (int *) my_malloc(sizeof(int) * 10);
        cc = (float *) my_malloc(sizeof(int) * 20);

        aa = my_realloc(aa, sizeof(char) * 34);
        bb = my_realloc(bb, sizeof(int) * 14);
        cc = my_realloc(cc, sizeof(float) * 10);
</PRE>
<HR>

Note that in my_realloc you do not need to cast the datatype as the
variable itself is passed and correct my_realloc is called which
returns the proper datatype pointer. The my_realloc has overloaded
functions for char*, int* and float*.</P>



<H2><A NAME="garbage"></A> <A NAME="ss9.3">9.3 Garbage Collector for C++ </A>
</H2>

<P>In C/C++ Garbage Collection is not a standard feature and hence allocating 
and freeing storage explicitly is difficult, complicated and is error-prone.
The <B>Garbage Collection (GC)</B> is not part of the C++ standard because there 
are just so many ways how one could implement it; there are many 
GC techniques, and deciding to use a particular one would not
be good for certain programs. Computer scientists had designed many GC 
algorithms, each one of them catering to a particular problem domain.
There is no one single generic GC which will tackle all the problem domains.
As a consequence, GC is not part of C++ standard, they just left it out.
Still, you always have the choice of many freely available C++ libraries that do 
the job for you.</P>
<P>Visit these sites:
<UL>
<LI> 
<A HREF="http://www.xanalys.com/software_tools/mm/glossary/g.html#garbage.collection">Garbage Collection</A></LI>
<LI> 
<A HREF="http://www.xanalys.com/software_tools/mm">Memory management</A></LI>
<LI> Java-like library - Hans-J. Boehm's garbage
collector at 
<A HREF="http://www.hpl.hp.com/personal/Hans_Boehm/gc/index.html">Hans-Boehm</A>
works quite well under Linux, Solaris and Windows.</LI>
</UL>
</P>



<H2><A NAME="anticrash"></A> <A NAME="ss9.4">9.4 Anti-crash With const </A>
</H2>

<P>You must use <B>const</B> at every opportunity.
The <B>const</B> is your most powerful anti-crash weapon. An additional benefit 
is that it makes your code self-documenting. For instance, look at this:</P>
<P>
<HR>
<PRE>
const char *add2strings(const char *sz1, const char *sz2);
</PRE>
<HR>
</P>
<P>Such a declaration guarantee's that no matter what wierd things go on 
within the function, it can't harm the application programmer's two 
strings sz1 and sz2. If any memory corruption occurs, it will be to 
variables within the function's scope. This, of course, greatly 
reduces side effect bugs.</P>
<P>Furthermore, the declaration of the return pointer as 
<B>const</B>
means that 
the application programmer can't "reach inside" the function to 
corrupt its scope. For instance, if the return value is a static array 
of 40 characters, if the return wasn't static the application programmer could do this:</P>
<P>
<HR>
<PRE>
char *pchName = add2strings("James", "Bond 007");
strcat(pchName, " jumps out of the plane and parachutes down");
cout &lt;&lt; "I just corrupted an internal variable of add2strings. ";
cout &lt;&lt; "Will I see this message?\n";
cout &lt;&lt; "Will it crash later in the program? Who knows!\n";
</PRE>
<HR>
</P>
<P>Fortunately, because add2strings() returns a 
<B>const</B>
pointer, you'll get a compiler error on this:</P>
<P>char *pchName = add2strings("Big galaxies", "Big stars");</P>
<P>Even if you declared pchName as a 
<B>const</B>
char *, the moment you modified 
its contents with strcat() you'd get a compile error. The 
<B>const</B>
keyword 
helps the programmer keep any errors localized, thus greatly reducing 
the likelihood of side-effect errors.</P>




<H2><A NAME="forgetc"></A> <A NAME="ss9.5">9.5 Forget C </A>
</H2>

<P>Forget you ever knew printf(). Use cout &lt;&lt;. Of course, scanf() was 
flirting with disaster even in the rough and ready C days. Use cin >>, or make 
your own input routines or classes. What about that wonderful 
sprintf()? Instead of this:</P>
<P>
<HR>
<PRE>
#include &lt;iostream.h>
#include &lt;stdio.h>
/* . . . */
char myaString[100];
sprintf(myaString, "%s, %s %c", myaLname, myaFname, *myaMname);
cout &lt;&lt; myaString &lt;&lt; '\n';
</PRE>
<HR>

Try This:
<HR>
<PRE>
#include &lt;iostream.h>
#include &lt;strstream.h>
/* . . . */
ostrstream ost;
ost &lt;&lt; myaLname &lt;&lt; ", " &lt;&lt; myaFname &lt;&lt; " " &lt;&lt; *myaMname;
ost.put(0); //null terminate the string cout
cout &lt;&lt; ost.str() &lt;&lt; '\n';
</PRE>
<HR>
</P>



<H2><A NAME="pointers"></A> <A NAME="s10">10. Pointers are problems </A></H2>

<P>Pointers are not required for general purpose programming. In modern
languages like Java there is no support for pointers (Java 
internally uses pointers). Pointers make
the programs messy and programs using pointers are very hard to read.</P>
<P>Avoid using pointers as much as possible and use references. Pointers are really a
great pain. It is possible to write an application without using pointers.
<I>You should pointers only in those cases where references will not work.</I></P>
<P>A <B>reference</B> is an alias; when you create a reference, you initialize
it with the name of another object, the target. From the moment on, the reference
acts as an alternative name of the target, and anything you do to the reference
is really done to the target.</P>
<P><B>Syntax of References:</B> Declare a reference by writing the type, followed by
the reference operator (&amp;), followed by the reference name. References
<B>MUST</B> be initialized at the time of creation.
For example -
<HR>
<PRE>
        int     weight;
        int     &amp; rweight = weight;

        DOG     aa;
        DOG     &amp; rDogRef = aa;
</PRE>
<HR>
</P>
<P><I>Do's</I> of references -
<UL>
<LI>Do use references to create an alias to an object</LI>
<LI>Do initialize all references</LI>
<LI>Do use references for high efficiency and performance of program.</LI>
<LI>Do use <B>const</B> to protect references and pointers whenever possible.</LI>
</UL>
</P>
<P><I>Do not's</I> of references -
<UL>
<LI><B>IMPORTANT: </B>Don't use references to NULL objects</LI>
<LI>Don't confuse the address of operator &amp; with reference operator. The references
are used in the declarations section (see Syntax of References above).</LI>
<LI>Don't try to reassign a reference</LI>
<LI>Don't use pointers if references will work</LI>
<LI>Don't return a reference to a local object</LI>
<LI>Don't pass by reference if the item referred to may go out of scope</LI>
</UL>
</P>



<H2><A NAME="s11">11. Debugging</A></H2>

<P>Finding the exact source to a bug can be a troublesome process, however
there is several techniques used for debugging:
<UL>
<LI>Printing to standard out - for simple cases, print the values of
several variables, see what they contain - and find out where exactly your
program crashes</LI>
<LI>Using a debugger, a debugger lets you set breakpoints, and make
backtraces in your code, while it's running. Most IDEs come with a debugger,
for GNU systems there is gdb.</LI>
<LI>Use compiler features, on most compilers you can enable more warnings,
for example on g++, use -Wall</LI>
</UL>
</P>
<P>Sites to help debugging:
<UL>
<LI> Debugging C and C++ in a UNIX enironment: 
<A HREF="http://www.liacs.nl/~jdassen/onderwijs/stuva/debug/debug.html">http://www.liacs.nl/~jdassen/onderwijs/stuva/debug/debug.html</A></LI>
<LI> MPatrol - a useful memory debugging tool: 
<A HREF="http://www.cbmamiga.demon.co.uk/mpatrol">http://www.cbmamiga.demon.co.uk/mpatrol</A></LI>
<LI> NJAMD - another useful memory debugging tool: 
<A HREF="http://sourceforge.net/projects/njamd/">http://sourceforge.net/projects/njamd/</A></LI>
<LI> LeakTracer - a simple yet powerful tool to find memory leaks: 
<A HREF="http://www.andreasen.org/LeakTracer/">http://www.andreasen.org/LeakTracer/</A></LI>
</UL>
</P>



<H2><A NAME="ss11.1">11.1 Debug files</A>
</H2>

<P>To debug any C++ or C programs include the file 
<A HREF="#Appendix A">debug.h</A> and in your 'Makefile' define DEBUG_STR, DEBUG_PRT,
DEBUG_MEM to turn on the traces from the debug.h functions.  When you remove
the '-DDEBUG_STR' etc.. then the debug function calls are set to ((void)0)
i.e. NULL, hence it has no impact on final production release version of
project. You can generously use the debug functions in your programs and it
will not increase the size of production executable.</P>
<P>See the file 
<A HREF="#Appendix A">debug.cpp</A> for implementation of
debug routines.</P>
<P>And see the file 
<A HREF="#Appendix A">my_malloc.cpp</A> for a sample
which uses debug.h and debug functions.</P>
<P>See the sample 
<A HREF="#Appendix A">Makefile</A> .</P>


<H2><A NAME="ide-and-editors"></A> <A NAME="s12">12. IDE's and editors for C++ </A></H2>

<P>When programming C++, it is a good idea to used to an editor or an IDE. Most
programmers have their own favourites, and it's a religious discussion on
which is better.</P>
<P>You can choose to use an IDE (Integrated Development Environment), which is 
an application with embedded editor, compiler, documentation and more. And
then there is the stand-alone editors, which some people like better.</P>

<H2><A NAME="ss12.1">12.1 IDE's</A>
</H2>

<P>The following IDE tools (Integrated Development Environment) are available for
C++:
<UL>
<LI> The "top rated" Dev-C++ is an full-featured Integrated Development Environment (IDE)
for both Win32 and Linux. It uses GCC, Mingw or Cygwin as compiler and library set.
It is at 
<A HREF="http://www.bloodshed.net/devcpp.html">http://www.bloodshed.net/devcpp.html</A> 
and at 
<A HREF="http://sourceforge.net/projects/dev-cpp">mirror-site</A></LI>
<LI> KDE KDevelop 
<A HREF="http://www.kdevelop.org">Kdevelop</A></LI>
<LI> Blatura site 
<A HREF="http://home.xnet.com/~blatura/linapp6.html#tools">C++ Tools</A></LI>
<LI> Amulet 
<A HREF="http://www.cs.cmu.edu/afs/cs.cmu.edu/project/amulet/www">Amulet</A></LI>
<LI> App Dev suite 
<A HREF="http://www.angoss.com/sw/home.htm">Angoss</A></LI>
<LI> Make replacement 
<A HREF="http://wsd.iitb.fhg.de/~kir/brashome/">Brass</A></LI>
<LI> S/W product metrics 
<A HREF="http://www.fste.ac.cowan.edu.au/~tlittlef">CCC</A></LI>
<LI> Project management, edit, compile, debug 
<A HREF="http://www.codeforge.com">C-Forge</A></LI>
<LI> Dev environment 
<A HREF="http://www.cco.caltech.edu/~jafl/jx/progs.html">Code Crusader</A></LI>
<LI> Graphic gdb 
<A HREF="http://www.cco.caltech.edu/~glenn/medic/">Code Medic</A></LI>
<LI> Code analysis 
<A HREF="http://www.parasoft.com/wizard/index.html">CodeWizard</A></LI>
<LI> Gen HTML, LaTex for C++ cod 
<A HREF="http://www.zib.de/Visual/software/doc++/index.html">Doc C++</A></LI>
<LI> GUI toolkit openGL 
<A HREF="http://fltk.easysw.com/">Ftk</A></LI>
<LI> C++ and Java IDE 
<A HREF="http://www.genlogic.com">GLG IDE</A></LI>
<LI> HP IDE 
<A HREF="http://www.hp-eloquence.com/sales/info.html">HP Eloquence</A></LI>
<LI> IDE C++, Java, Pascal 
<A HREF="http://www.tu-chemnitz.de/~sho/rho/rhide.html">RHIDE</A></LI>
<LI> IDE for C++, Java 
<A HREF="http://www.takefive.com/">SNiff</A></LI>
<LI> IDE for C++, Java 
<A HREF="http://www.softwarebuero.de/wipeout-eng.html">Wipeout</A></LI>
<LI> X-based dev env 
<A HREF="http://www.rpi.edu/~payned/xwpe">XWPE</A></LI>
</UL>
</P>

<H2><A NAME="ss12.2">12.2 Editors</A>
</H2>

<P>The problem with IDE's is many times their editors have a big lack of
functionality. Therefore many people want a powerful editor alone, and then
supply compiler next to it.</P>
<P>Of powerful editors, vim and emacs can be mentioned. They are both available
for most platforms - and they support syntax highlighting and other things
which will make you more efficient.</P>
<P>Other editors include UltraEdit(win32 only) and EditPlus(win32 only).</P>
<P>
<UL>
<LI> Vim online at 
<A HREF="http://vim.sourceforge.net/">http://vim.sourceforge.net/</A></LI>
<LI> Vim color text editor for C++, C 
<A HREF="http://www.linuxdoc.org/LDP/HOWTO/Vim-HOWTO.html">http://www.linuxdoc.org/LDP/HOWTO/Vim-HOWTO.html</A></LI>
<LI> Emacs at 
<A HREF="http://www.gnu.org/software/emacs/">http://www.gnu.org/software/emacs/</A></LI>
<LI> EditPlus for Windows at 
<A HREF="http://www.editplus.com/">http://www.editplus.com/</A></LI>
<LI> UltraEdit for Windows at 
<A HREF="http://www.ultraedit.com/">http://www.ultraedit.com/</A></LI>
</UL>
</P>

<H2><A NAME="ss12.3">12.3 Other ressources</A>
</H2>

<P>
<UL>
<LI> C++ Beautifier HOWTO 
<A HREF="http://www.linuxdoc.org/LDP/HOWTO/C-C++Beautifier-HOWTO.html">http://www.linuxdoc.org/LDP/HOWTO/C-C++Beautifier-HOWTO.html</A></LI>
<LI> Source code control system for C++ programs (CVS HOWTO) 
<A HREF="http://www.linuxdoc.org/LDP/HOWTO/CVS-HOWTO.html">http://www.linuxdoc.org/LDP/HOWTO/CVS-HOWTO.html</A></LI>
<LI> 
Linux goodies main site is at 
<A HREF="http://24.221.230.253">http://24.221.230.253</A>
and secondary site at 
<A HREF="http://www.milkywaygalaxy.freeservers.com">http://www.milkywaygalaxy.freeservers.com</A> 
Mirror sites are at -
<A HREF="http://www.angelfire.com/country/aldev0">angelfire</A>,
<A HREF="http://www.geocities.com/alavoor/index.html">geocities</A>,
<A HREF="http://aldev0.virtualave.net">virtualave</A>,
<A HREF="http://members.fortunecity.com/aldev">Fortunecity</A>,
<A HREF="http://aldev.freewebsites.com">Freewebsites</A>,
<A HREF="http://members.tripod.lycos.com/aldev">Tripod</A>,
<A HREF="http://www.101xs.com/101xs/aldev">101xs</A>,
<A HREF="http://aldev0.50megs.com">50megs</A>,</LI>
</UL>
</P>


<H2><A NAME="onlinebooks"></A> <A NAME="s13">13. C++ Online Textbooks and Docs </A></H2>

<P>There are <B>MORE THAN ONE MILLION</B> online articles/textbooks/reference
guides on C++ language. That is because C++ is used extensively for a very
long period of time. You can find them using the Internet search engines
like Google, Yahoo, Lycos, Excite etc..</P>
<P>
<UL>
<LI> "C++ Annotations" online book main site:
<A HREF="http://www.icce.rug.nl/documents/cplusplus">Annotations</A></LI>
<LI>"Teach Yourself C++ in 21 days" online textbook 
<A HREF="http://guides.oernii.sk/c++/index.htm">Teach C++</A></LI>
<LI>C++ Textbook by Bruce Eckel 
<A HREF="http://www.mindview.net/Books/DownloadSites">Thinking in C++</A></LI>
<LI> C++ Open books: 
<A HREF="http://www.softpanorama.org/Bookshelf/cpp.shtml">Panorama</A> and 
click on Open Books.</LI>
<LI> "Who's Afraid of C++?" online textbook: 
<A HREF="http://www.steveheller.com/whos">Steveheller</A></LI>
<LI> "Introduction to Object Oriented Programming" an ebook 
<A HREF="http://www.gnacademy.org/uu-gna/text/cc/Tutorial/tutorial.html">C++ OOP</A></LI>
<LI> C++ in Hypertext 
<A HREF="http://cs.nmhu.edu/personal/curtis/cs1htmlfiles/Cs1text.htm">C++ Hypertext</A></LI>
<LI> Object Oriented Systems 
<A HREF="http://www.javaworld.com/javaworld/jw-07-1999/jw-07-toolbox_p.html">OOP article</A>

</LI>
<LI>C++ Language Reference from cplusplus.com 
<A HREF="http://www.cplusplus.com/ref">http://www.cplusplus.com/ref</A>

</LI>
<LI>C++ stdlib Reference for commands like atol, atoi 
<A HREF="http://www.cplusplus.com/ref/cstdlib">http://www.cplusplus.com/ref/cstdlib</A>

</LI>
<LI>C++ Documentation from cplusplus.com 
<A HREF="http://www.cplusplus.com">http://www.cplusplus.com</A>

</LI>
<LI>Common C++ Pitfalls to be avoided 
<A HREF="http://www.horstmann.com/cpp/pitfalls.html">http://www.horstmann.com/cpp/pitfalls.html</A>

</LI>
<LI>Porting C++ to Java 
<A HREF="http://www.ibm.com/java/education/portingc">PortingC</A></LI>
<LI>C/C++ Journals 
<A HREF="http://www.math.utah.edu/pub/tex/bib/toc/cccuj.html">UtahJournals</A></LI>
<LI>Yahoo C++ category site 
<A HREF="http://dir.yahoo.com/Computers_and_Internet/Programming_Languages/C_and_C__/C__">CCyahoo</A></LI>
<LI>C Library Reference Guide
<A HREF="http://www.acm.uiuc.edu/webmonkeys/book/c_guide/index.html">c_guide</A></LI>
<LI> Online textbooks C++/Java 
<A HREF="http://www.informit.com/free_library">FreeLib</A></LI>
<LI> "C++ In Action" by Bartosz Milewski at 
<A HREF="http://www.relisoft.com/book/index.htm">http://www.relisoft.com/book/index.htm</A></LI>
<LI> Amusing examples of how not to write code. "How to write unmaintainable code" 
at 
<A HREF="http://mindprod.com/unmain.html">http://mindprod.com/unmain.html</A></LI>
</UL>
</P>
<P>Java books which will be useful for C++ programmers:
<UL>
<LI> Great Web reference site 
<A HREF="http://www.webreference.com/index2.html">WebRef</A></LI>
<LI> Many Java books 
<A HREF="http://freewarejava.com/books/index.shtml">JBooks</A></LI>
<LI> Introduction to Java V3.0 
<A HREF="http://math.hws.edu/javanotes">JavaNotes</A>
mirror 
<A HREF="http://matrix.mvhs.fuhsd.org/~deruiter/javanotes3/contents.html">JavaNotes</A></LI>
<LI> Thinking in Java: 
<A HREF="http://www.mindview.net/Books/DownloadSites">Thinking Java</A></LI>
<LI> John Hopkins Univ - Java resources 
<A HREF="http://www.apl.jhu.edu/~hall/java">Hall</A></LI>
<LI> online Java tutorial 
<A HREF="http://chortle.ccsu.ctstateu.edu/cs151/cs151java.html">Chortle</A></LI>
<LI> Practical guide for Java 
<A HREF="http://java.sun.com/docs/books/tutorial/index.html">SunBooks</A></LI>
<LI> Java 
<A HREF="http://journals.ecs.soton.ac.uk/java/tutorial/TOC.html">Soton</A></LI>
</UL>
</P>


<H2><A NAME="ss13.1">13.1 C++ Sites</A>
</H2>

<P>Visit the following C++ sites :-</P>
<P>
<UL>
<LI>C++ STL basic string class documentation is at
<A HREF="http://www.sgi.com/tech/stl/basic_string.html">http://www.sgi.com/tech/stl/basic_string.html</A>.</LI>
<LI> See the section 
<A HREF="#stlref">STL References</A>


</LI>
<LI>C++ Crash-proof site  
<A HREF="http://www.troubleshooters.com/codecorn/crashprf.htm">http://www.troubleshooters.com/codecorn/crashprf.htm</A></LI>
<LI>C++ Memory site
<A HREF="http://www.troubleshooters.com/codecorn/memleak.htm">http://www.troubleshooters.com/codecorn/memleak.htm</A>


</LI>
<LI>GNU Main site 
<A HREF="http://www.gnu.org">http://www.gnu.org</A> and 
gnu C++ site at 
<A HREF="http://gcc.gnu.org">http://gcc.gnu.org</A></LI>
<LI>AS University C++ Standard String class 
<A HREF="http://www.eas.asu.edu/~cse200/outline">http://www.eas.asu.edu/~cse200/outline</A>


</LI>
<LI>Java JString for C++ 
<A HREF="http://www.mike95.com/c_plusplus/classes/JString/JString_cpp.asp">http://www.mike95.com/c_plusplus/classes/JString/JString_cpp.asp</A></LI>
<LI>C++ Language Reference 
<A HREF="http://www.msoe.edu/~tritt/cpplang.html">http://www.msoe.edu/~tritt/cpplang.html</A></LI>
<LI>C++ Program examples and samples 
<A HREF="http://www.msoe.edu/~tritt/cpp/examples.html">http://www.msoe.edu/~tritt/cpp/examples.html</A></LI>
<LI>Neil's C++ stuff 
<A HREF="http://www.cyclone7.com/cpp">http://www.cyclone7.com/cpp</A></LI>
</UL>
</P>
<P>Internet has vast amounts of documentation on C++. Visit the search engines
like Google, Yahoo, Lycos, Infoseek, Excite. Type in the 
keywords 
<B>'C++ tutorials'</B> 
<B>'C++ references'</B> 
<B>'C++ books'</B>
. You can narrow down the search criteria by clicking on <I>Advanced</I> 
search and select <I>search by exact phrase</I></P>
<P>
<UL>
<LI> 
<A HREF="http://www.google.com">http://www.google.com</A></LI>
<LI> 
<A HREF="http://www.yahoo.com">http://www.yahoo.com</A></LI>
<LI> 
<A HREF="http://www.lycos.com">http://www.lycos.com</A></LI>
<LI> 
<A HREF="http://www.infoseek.com">http://www.infoseek.com</A></LI>
<LI> 
<A HREF="http://www.excite.com">http://www.excite.com</A></LI>
<LI> 
<A HREF="http://www.mamma.com">http://www.mamma.com</A></LI>
</UL>
</P>


<H2><A NAME="ss13.2">13.2 C++ Tutorials</A>
</H2>

<P>There are many on-line tutorials available on internet. Type 'C++ tutorials'
in the search engine. 
<UL>
<LI>C++ Tutorial 
<A HREF="http://www.xploiter.com/programming/c/index.shtml">http://www.xploiter.com/programming/c/index.shtml</A></LI>
<LI>Cplusplus.com Tutorial 
<A HREF="http://www.cplusplus.com/doc/tutorial">http://www.cplusplus.com/doc/tutorial</A></LI>
<LI>C++ Tutorial IISc, India 
<A HREF="http://www.csa.iisc.ernet.in/Documentation/Tutorials/StyleGuides/c++-style.html">http://www.csa.iisc.ernet.in/Documentation/Tutorials/StyleGuides/c++-style.html</A></LI>
<LI>C++ Tutorial Brown Univ 
<A HREF="http://wilma.cs.brown.edu/courses/cs032/resources/C++tutorial.html">http://wilma.cs.brown.edu/courses/cs032/resources/C++tutorial.html</A></LI>
<LI>C++ Tutorial 
<A HREF="http://home.msuiit.edu.ph/~ddd/tutorials/cpp/cpplist.htm">http://home.msuiit.edu.ph/~ddd/tutorials/cpp/cpplist.htm</A></LI>
<LI>C++ Tutorial IOstreams 
<A HREF="http://osiris.sunderland.ac.uk/~cs0pdu/pub/com365/Sched3/iocpp.html">http://osiris.sunderland.ac.uk/~cs0pdu/pub/com365/Sched3/iocpp.html</A></LI>
</UL>
</P>


<H2><A NAME="ss13.3">13.3 Useful links</A>
</H2>

<P>
<UL>
<LI>Bird's eye view of C++ URLs (about 153 url links)
<A HREF="http://www.enteract.com/~bradapp/links/cplusplus-links.html">http://www.enteract.com/~bradapp/links/cplusplus-links.html</A>

</LI>
<LI>This 
<A HREF="URL: http://www.snippets.org">URL: http://www.snippets.org</A>
portable C code contains over 360 files.

</LI>
<LI> Mathtools at 
<A HREF="http://www.mathtools.net">http://www.mathtools.net</A> is a technical computing portal for all 
scientific and engineering needs. The portal is free and contains over 20,000 
useful links to technical computing programmers, covering C/C++, Java, 
Excel, MATLAB, Fortran and others.</LI>
</UL>
</P>


<H2><A NAME="ss13.4">13.4 C++ Quick-Reference</A>
</H2>

<P>Type 'C++ Reference' in the search engine. 
<UL>
<LI>C++ quick ref 
<A HREF="http://www.cs.jcu.edu.au/~david/C++SYNTAX.html">http://www.cs.jcu.edu.au/~david/C++SYNTAX.html</A></LI>
<LI>C++ Standard Library Quick Reference 
<A HREF="http://www.halpernwightsoftware.com/stdlib-scratch/quickref.html">http://www.halpernwightsoftware.com/stdlib-scratch/quickref.html</A></LI>
<LI>C++ STL from halper 
<A HREF="http://www.halpernwightsoftware.com/stdlib-scratch/quickref.html">http://www.halpernwightsoftware.com/stdlib-scratch/quickref.html</A></LI>
</UL>
</P>


<H2><A NAME="ss13.5">13.5 C++ Usenet Newsgroups</A>
</H2>

<P>
<UL>
<LI> C++ newsgroups : 
<A HREF="news:comp.lang.c++.announce">comp.lang.c++.announce</A></LI>
<LI> C++ newsgroups : 
<A HREF="news:comp.lang.c++.*">comp.lang.c++.*</A></LI>
<LI> C++ newsgroups : 
<A HREF="http://marshall-cline.home.att.net/cpp-faq-lite">http://marshall-cline.home.att.net/cpp-faq-lite</A></LI>
</UL>
</P>


<H2><A NAME="ss13.6">13.6 Java like API</A>
</H2>

<P>Visit the following sites for Java like API for C++
<UL>
<LI> Java utilities in C++ 
<A HREF="http://www.pulsar.org/users/ej/archive/oop">http://www.pulsar.org/users/ej/archive/oop</A></LI>
<LI> PhD Thesis book Java API in C++ 
<A HREF="http://www.pulsar.org/archive/phd/ejphd">http://www.pulsar.org/archive/phd/ejphd</A></LI>
<LI> Java-like library Jakelib at 
<A HREF="http://www.jakelib.org">http://www.jakelib.org</A>.
The version 2 of Jakelib uses Boehm's gc and is a lot more Java-like.
Written by 
<A HREF="mailto:florian@donuz.de">Florian</A>.</LI>
</UL>
</P>


<H2><A NAME="s14">14. C++ Coding Conventions</A></H2>

<P>Coding convention is very essential for readability and maintenance of programs. And
it also greatly improves the productivity of the programmer. 
Coding convention is required for good coding discipline.
The following is suggested - 
inside class definition:
<UL>
<LI> All public variables must begin with <B>m</B> like <B>mFooVar</B>. 
The <B>m</B> stands for <I>member</I>.</LI>
<LI> All protected variables must begin with <B>mt</B>, 
like <B>mtFooVar</B> and methods with t, like <B>tFooNum()</B>. 
The <B>t</B> stands for <I>protected</I>.</LI>
<LI> All private variables must begin with <B>mv</B>, like <B>mvFooVar</B> and 
methods with v, like <B>vFooLone()</B>. The <B>v</B> stands for <I>private</I>.</LI>
<LI> All public, protected and private variables must begin with 
uppercase after <B>m</B> like F in <B>mFooVar</B>. </LI>
<LI> All pointer variables must be prefixed with p, like 
<UL>
<LI>Public variables <B>mpFooVar</B>  and methods like FooNum()</LI>
<LI>Protected variables <B>mtpFooVar</B> and methods with t like tFooNum()</LI>
<LI>Private variables <B>mvpFooVar</B> and methods with v like vFooNum()</LI>
</UL>
</LI>
</UL>

Uniform world-wide coding convention for C++ language will help better programming.</P>
<P>In the sample code given below <B>t</B> stands for <B>protected</B>,
<B>v</B> stands for <B>private</B>,
<B>m</B> stands for <B>member-variable</B> and
<B>p</B> stands for <B>pointer</B>.
<HR>
<PRE>
class SomeFunMuncho
{
        public:
                int     mTempZimboniMacho; // Only temporary variables should be public as per OOP
                float   *mpTempArrayNumbers;
                int     HandleError();
                float   getBonyBox();  // Public accessor as per OOP design
                float   setBonyBox();  // Public accessor as per OOP design
        protected:
                float   mtBonyBox;
                int     *mtpBonyHands;
                char    *tHandsFull();
                int     tGetNumbers();
        private:
                float   mvJustDoIt;
                char    mvFirstName[30];
                int     *mvpTotalValue;
                char    *vSubmitBars();
                int     vGetNumbers();
};
</PRE>
<HR>

When your program grows by millions of lines of code, then you will greatly
appreciate the naming convention as above. The readability of code improves,
because just by looking at the variable name like <B>mvFirstName</B> you can
tell that it is member of a class and is a private variable.</P>
<P>Visit the C++ Coding Standards URLs
<UL>
<LI> C++ FAQ Lite - Coding standards 
<A HREF="http://www.parashift.com/c++-faq-lite/coding-standards.html">http://www.parashift.com/c++-faq-lite/coding-standards.html</A></LI>
<LI> Rice university coding standard 
<A HREF="http://www.cs.rice.edu/~dwallach/CPlusPlusStyle.html">http://www.cs.rice.edu/~dwallach/CPlusPlusStyle.html</A></LI>
<LI> Identifiers to avoid in C++ Programs 
<A HREF="http://oakroadsystems.com/tech/cppredef.htm">http://oakroadsystems.com/tech/cppredef.htm</A></LI>
<LI> Coding standards from Possibility 
<A HREF="http://www.possibility.com/Cpp/CppCodingStandard.html">http://www.possibility.com/Cpp/CppCodingStandard.html</A>
and 
<A HREF="http://www.cs.umd.edu/users/cml/cstyle/CppCodingStandard.html">mirror site</A></LI>
<LI> Coding standards for Java and C++ from Ambysoft 
<A HREF="http://www.ambysoft.com/JavaCodingStandards.html">http://www.ambysoft.com/JavaCodingStandards.html</A></LI>
<LI> Rules and recommendations 
<A HREF="http://www.cs.umd.edu/users/cml/cstyle/">http://www.cs.umd.edu/users/cml/cstyle/</A></LI>
<LI> Indent and annotate 
<A HREF="http://www.cs.umd.edu/users/cml/cstyle/indhill-annot.html">http://www.cs.umd.edu/users/cml/cstyle/indhill-annot.html</A></LI>
<LI> Elemental rules 
<A HREF="http://www.cs.umd.edu/users/cml/cstyle/Ellemtel-rules.html">http://www.cs.umd.edu/users/cml/cstyle/Ellemtel-rules.html</A></LI>
<LI> C++ style doc 
<A HREF="http://www.cs.umd.edu/users/cml/cstyle/Wildfire-C++Style.html">http://www.cs.umd.edu/users/cml/cstyle/Wildfire-C++Style.html</A></LI>
<LI> C++ Coding Standards by Brett Scolcum 
<A HREF="http://www.weirdrealm.com/prog/cppstds.html">http://www.weirdrealm.com/prog/cppstds.html</A></LI>
<LI> Logikos C++ Coding Standards 
<A HREF="http://www.logikos.com/standards/cpp_std.html">http://www.logikos.com/standards/cpp_std.html</A></LI>
<LI> NRad C++ coding standards 
<A HREF="http://cadswes.colorado.edu/~billo/standards/nrad">http://cadswes.colorado.edu/~billo/standards/nrad</A></LI>
<LI> BEJUG C++ coding standards 
<A HREF="http://www.meurrens.org/ip-Links/java/joodcs/ToddHoff.html">http://www.meurrens.org/ip-Links/java/joodcs/ToddHoff.html</A></LI>
<LI> Arctic Labs coding standards 
<A HREF="http://www.arcticlabs.com/codingstandards">http://www.arcticlabs.com/codingstandards</A>
<P>See also</P>
</LI>
<LI> For rapid navigation with ctags 
<A HREF="http://www.linuxdoc.org/LDP/HOWTO/Vim-HOWTO.html">Vim color text editor</A></LI>
<LI> To improve productivity see 
<A HREF="http://www.linuxdoc.org/LDP/HOWTO/C-C++Beautifier-HOWTO.html">C++ Beautifier HOWTO</A></LI>
</UL>
</P>


<H2><A NAME="s15">15. C++ Scripting Languages</A></H2>

<P>The major disadvantage of C++ is that you must recompile and link the object
files to create an executable anytime you make a small change.  The
compile/link/debug cycles take away a lot of time and is quite unproductive.
Since modern CPU's and RAM are becoming extremely fast and cheap, it is
sometimes better to spend more money on hardware and use scripting languages
for development.</P>


<H2><A NAME="ss15.1">15.1 PIKE &amp; PHP (C/C++ Scripting Languages)</A>
</H2>

<P>The scripting languages like PHP or PIKE eliminates the linking and re-compiling
and will really speed up the development process.</P>
<P>As memory (RAM) prices are dropping and CPU speeds 
are increasing, scripting languages like PHP or PIKE will <B>EXPLODE in
popularity</B>. PHP or PIKE will become most widely used scripting language
as it is object oriented and it's syntax is very identical to that of C/C++.</P>

<P>Programming productivity will increase by <B>five times</B> by using the
PHP or Pike C++ scripting language. And PHP or PIKE is very useful for
'proof of concept' and developing prototypes rapidly.</P>
<P>PHP is exploding in popularity for general purpose programming and for web
development. PHP may become the most widely used scripting language in near
future. PHP is at 
<A HREF="http://www.linuxdoc.org/HOWTO/PHP-HOWTO.html">http://www.linuxdoc.org/HOWTO/PHP-HOWTO.html</A>.</P>
<P>The Pike is at  
<A HREF="http://pike.roxen.com">http://pike.roxen.com</A> and at 
<A HREF="http://www.roxen.com">http://www.roxen.com</A>.</P>
<P>The Roxen Web server is completely written in Pike, which demonstrates how
powerful Pike is. Pike runs much faster than Java for some operations and is
quite efficient in using memory resources.</P>


<H2><A NAME="ss15.2">15.2 SoftIntegration Ch (C/C++ Scripting Language)</A>
</H2>

<P>If you want commercial scripting language, get the 'Ch scripting' product from
SoftIntegration corporation at 
<A HREF="http://www.softintegration.com">http://www.softintegration.com</A>. </P>
<P>The  scripting language environment called Ch is a superset of C with
high-level extensions, and salient features from C++ and other languages so
that users can learn the language once and use it anywhere for almost any
programming purposes. This C-compatible scripting language environment is also a
middleware serving as crucial software infrastructure for running portable 
applications in heterogeneous platforms. The portable Ch code can be deployed
safely over the internet or intranets to run anywhere ranging from supercomputers,
workstations, PCs, Palm Pilots, PDA, to non-traditional computing devices such 
as CNC machines, robots, TVs, refrigerators, among others.</P>


<H2><A NAME="ss15.3">15.3 PHP (C++ Scripting Language)</A>
</H2>

<P>PHP is hypertext-preprocessor scripting language and is very rapidly evolving
and adopting object oriented features. It has the "class" keyword through which it
tries to implement object oriented scripting. May be in near future PHP will
mature rapidly to become a robust scripting language for object oriented projects.
In future it will tackle both the web applications and general purpose applications.
Why have different scripting languages for web and general applications, instead
just use PHP for both. PHP is at 
<A HREF="http://www.linuxdoc.org/HOWTO/PHP-HOWTO.html">http://www.linuxdoc.org/HOWTO/PHP-HOWTO.html</A>.</P>


<H2><A NAME="s16">16. Templates</A></H2>

<P>Templates is a feature in C++ which enables generic programming, with
templates code-reuse becomes much easier.</P>
<P>Consider this simple example:</P>
<P>
<HR>
<PRE>
#include &lt;string>
#include &lt;iostream>

void printstring(const std::string&amp; str) {
    std::cout &lt;&lt; str &lt;&lt; std::endl;
}

int main()
{
    std::string str("Hello World");
    printstring(str);
}
</PRE>
<HR>
</P>
<P>Our <B>printstring()</B> takes a <B>std::string</B> as its first
argument, therefore it can only print strings. Therefore, to print a character
array, we would either overload the function or create a function with a new
name.</P>
<P>This is bad, since the implementation of the function is now duplicated,
maintainability becomes harder.</P>
<P>With templates, we can make this code re-usable, consider this function:</P>
<P>
<HR>
<PRE>
template&lt;typename T> 
void print(const T&amp; var) {
    std::cout &lt;&lt; var &lt;&lt; std::endl;
}
</PRE>
<HR>
</P>
<P>The compiler will automatically generate the code for whatever type we pass
to the <B>print</B> function. This is the major advantage of templates.
Java doesn't have templates but Java uses inheritance to achieve generic programming.
For example in Java:</P>
<P>
<HR>
<PRE>
public static void printstring( Object o ) {
  System.out.println( o );
}
You can pass in any object you want.
</PRE>
<HR>
</P>
<P>References:</P>
<P>
<UL>
<LI> 
<A HREF="http://babbage.cs.qc.edu/STL_Docs/templates.htm">http://babbage.cs.qc.edu/STL_Docs/templates.htm</A>
Mirror at: 
<A HREF="http://www.mike95.com/c_plusplus/tutorial/templates">http://www.mike95.com/c_plusplus/tutorial/templates</A>


</LI>
<LI> This tells about #pragma template : -
<A HREF="http://www.dgp.toronto.edu/people/JamesStewart/270/9697f/notes/Nov25-tut.html">http://www.dgp.toronto.edu/people/JamesStewart/270/9697f/notes/Nov25-tut.html</A>


</LI>
<LI> Very GOOD site: 
<A HREF="http://www.cplusplus.com/doc/tutorial/tut5-1.html">http://www.cplusplus.com/doc/tutorial/tut5-1.html</A>
<A HREF="http://www.cplusplus.com/doc/tutorial">http://www.cplusplus.com/doc/tutorial</A>


</LI>
<LI> For certification of C++: go to 
<A HREF="http://examware.com">http://examware.com</A> and click on "Tutorials" and then C/C++ button


</LI>
<LI> C++ Open books: 
<A HREF="http://www.softpanorama.org/Lang/cpp.shtml">http://www.softpanorama.org/Lang/cpp.shtml</A>
and click on tutorials


</LI>
<LI> Templates tutorial : 
<A HREF="http://www.infosys.tuwien.ac.at/Research/Component/tutorial/prwmain.htm">http://www.infosys.tuwien.ac.at/Research/Component/tutorial/prwmain.htm</A></LI>
</UL>
</P>


<H2><A NAME="stlref"></A> <A NAME="s17">17. STL References </A></H2>

<P>Please visit the following sites for STL:
<UL>
<LI> Very good introduction to iterators
<A HREF="http://www.cs.trinity.edu/~joldham/1321/lectures/iterators/">http://www.cs.trinity.edu/~joldham/1321/lectures/iterators/</A></LI>
<LI> Introduction to STL SGI
<A HREF="http://www.sgi.com/tech/stl/stl_introduction.html">http://www.sgi.com/tech/stl/stl_introduction.html</A></LI>
<LI> Mumits STL Newbie guide (a bit outdated)
<A HREF="http://www.xraylith.wisc.edu/~khan/software/stl/STL.newbie.html">http://www.xraylith.wisc.edu/~khan/software/stl/STL.newbie.html</A></LI>
<LI> ObjectSpace examples: ObjectSpace has contributed over 300 examples to the public domain and these are a very good start for beginners. 
<A HREF="ftp://butler.hpl.hp.com/stl/examples.zip">ftp://butler.hpl.hp.com/stl/examples.zip</A></LI>
<LI> Joseph Y. Laurino's STL page. 
<A HREF="http://weber.u.washington.edu/~bytewave/bytewave_stl.html">http://weber.u.washington.edu/~bytewave/bytewave_stl.html</A></LI>
<LI> Marian Corcoran's STL FAQ. 
<A HREF="ftp://butler.hpl.hp.com/stl/stl.faq">ftp://butler.hpl.hp.com/stl/stl.faq</A></LI>
</UL>
</P>
<P>STL tutorials:
<UL>
<LI> Phil Ottewell's STL Tutorial - 
<A HREF="http://www.yrl.co.uk/~phil/stl/stl.htmlx">http://www.yrl.co.uk/~phil/stl/stl.htmlx</A></LI>
<LI> Good, but outdated doc - 
<A HREF="http://www.decompile.com/html/tut.html">http://www.decompile.com/html/tut.html</A>
Mirror: 
<A HREF="http://mip.ups-tlse.fr/~grundman/stl-tutorial/tutorial.html">http://mip.ups-tlse.fr/~grundman/stl-tutorial/tutorial.html</A></LI>
<LI> The Code Project, introduction to C++/STL/MFC 
<A HREF="http://www.codeproject.com/cpp/stlintroduction.asp">http://www.codeproject.com/cpp/stlintroduction.asp</A></LI>
<LI> C++ Standard Template Library, another great tutorial, by Mark Sebern
<A HREF="http://www.msoe.edu/eecs/cese/resources/stl/index.htm">http://www.msoe.edu/eecs/cese/resources/stl/index.htm</A></LI>
<LI> Technical University Vienna by Johannes Weidl 
<A HREF="http://dnaugler.cs.semo.edu/tutorials/stl">http://dnaugler.cs.semo.edu/tutorials/stl</A>
mirror 
<A HREF="http://www.infosys.tuwien.ac.at/Research/Component/tutorial/prwmain.htm">http://www.infosys.tuwien.ac.at/Research/Component/tutorial/prwmain.htm</A></LI>
</UL>
</P>
<P>Main STL sites:
<UL>
<LI>C++ STL from SGI 
<A HREF="http://www.sgi.com/tech/stl">http://www.sgi.com/tech/stl</A></LI>
<LI>C++ STL from RPI univ 
<A HREF="http://www.cs.rpi.edu/projects/STL/htdocs/stl.html">http://www.cs.rpi.edu/projects/STL/htdocs/stl.html</A></LI>
<LI>C++ STL site 
<A HREF="http://dmoz.org/Computers/Programming/Languages/C++/Class_Libraries/STL">ODP for STL</A>
and the
<A HREF="http://dir.lycos.com/Computers/Programming/Languages/C%2B%2B/Class_Libraries/STL">mirrorsite</A></LI>
<LI>STL for C++ Programmers 
<A HREF="http://userwww.econ.hvu.nl/~ammeraal/stlcpp.html">http://userwww.econ.hvu.nl/~ammeraal/stlcpp.html</A></LI>
<LI>C++ STL from halper 
<A HREF="http://www.halpernwightsoftware.com/stdlib-scratch/quickref.html">http://www.halpernwightsoftware.com/stdlib-scratch/quickref.html</A></LI>
</UL>
</P>


<H2><A NAME="ss17.1">17.1 Overview of the STL </A>
</H2>

<P>The STL offers the programmer a number of useful data structures and
algorithms. It is made up by the following components. </P>
<P>
<UL>
<LI>      Containers. There are two types: 
<UL>
<LI> Sequential. This group comprises the vector, list and deque types. </LI>
<LI> Sorted Associative. This group comprises the set, map, multiset and multimap types. </LI>
</UL>


</LI>
<LI> Iterators. These are pointer like objects that allow the user to step through the contents of a container. 

</LI>
<LI> Generic Algorithms. The STL provides a wide range of efficently implemented standard algorithms (for example find, sort
and merge) that work with the container types. (Some of the containers have special purpose implementations of these
algorithms as member functions.) 

</LI>
<LI> Function Objects. A function object is an instance of a class that provides a definition of operator(). This means that you can
use such an object like a function. 

</LI>
<LI> Adaptors. The STL provides 
<UL>
<LI> Container adaptors that allow the user to use, say, a vector as the basis of a stack. </LI>
<LI> Function adaptors that allow the user to construct new function objects from existing function objects. </LI>
</UL>


</LI>
<LI> Allocators. Every STL container class uses an Allocator class to hold information about the memory model the program is
using. I shall totally ignore this aspect of the STL. </LI>
</UL>
</P>
<P>I will be considering the use of the vector, list, set and map containers.
To make use of these containers you have to be able to use iterators so I
shall have something to say about STL iterators. Using the set and map
containers can mean having to supply a simple function object to the
instantiation so I shall also have something to say about function objects.
I will only briefly mention the algorithms supplied by the STL. I will not
mention adaptors at all. </P>
<P>I have taken liberty with some of the types of function arguments -- for
example most of the integer arguments referred to in what follows actually
have type size_type which is typedef'ed to an appropriate basic type
depending on the allocation model being used. If you want to see the true
signatures of the various functions discussed have a look at the Working
Paper or the header files. </P>
<P>There are a number of utility classes supplied with the STL. The only one of
importance to us is the pair class. This has the following definition: </P>
<P>
<HR>
<PRE>
template&lt;class T1, class T2>
class pair {
public:
    T1 first;
    T2 second;
    pair(const T1&amp; a, const T2&amp; b) : first(a), second(b) {}

};
</PRE>
<HR>
</P>
<P>and there is a convenient function make_pair with signature: </P>
<P>
<HR>
<PRE>
pair&lt;T1,T2> make_pair(const T1&amp; f, const T2&amp;,s)
</PRE>
<HR>
</P>
<P>as well as implementations of operator== and operator &lt; . There is nothing
complicated about this template class and you should be able to use it
without further guidance. To use it #include the header file
&lt;utility&gt;. It crops up in a number of places but particularly when
using the set and map classes.</P>
<H2><A NAME="ss17.2">17.2 Header Files</A>
</H2>

<P>To use the various bits of the STL you have to #include the appropriate
header files. If your compiler is not standard compliant, this may differ,
but a standard compliant compiler (like g++), would have these:</P>
<P>
<UL>
<LI> &lt;<I>vector</I>&gt; for the vector type. </LI>
<LI> &lt;<I>list</I>&gt; for the list type. </LI>
<LI> &lt;<I>set</I>&gt; for the set type. </LI>
<LI> &lt;<I>map</I>&gt; for the map type. </LI>
<LI> &lt;<I>algorithm</I>&gt; for access to the generic algorithms. </LI>
</UL>
</P>
<P>Note that headers in the Standard C++ Library are without a <B>.h</B>
suffix. If you use an old or poor compiler, the above headers might fail, if
then, you can try the version with the <B>.h</B> suffix, or better yet;
get another compiler.</P>


<H2><A NAME="ss17.3">17.3 The Container Classes Interface </A>
</H2>

<P>The container classes have many member functions that have the same names.
These functions provide the same (or very similar) interface for each of
the classes (though, of course, the implementations will be different). The
following table lists the functions that we shall consider in more detail. A
star opposite a function name indicates that the container type heading the
column provides a member function of that name. </P>
<P>
<BR><CENTER>
<TABLE BORDER><TR><TD>
Operation </TD><TD>Purpose </TD><TD>vector </TD><TD>list </TD><TD>set </TD><TD>map </TD></TR><TR><TD>
== </TD><TD>comparison </TD><TD>* </TD><TD>*</TD><TD>*</TD><TD>*</TD></TR><TR><TD>
&lt;</TD><TD> comparison</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD> *</TD></TR><TR><TD>
begin</TD><TD> iterator</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD></TD></TR><TR><TD>
end</TD><TD> iterator</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD> *</TD></TR><TR><TD>
size</TD><TD> no. of elements</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD> *</TD></TR><TR><TD>
empty</TD><TD> is container empty</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD> *</TD></TR><TR><TD>
front</TD><TD> first element</TD><TD> *</TD><TD> *</TD><TD>&nbsp; </TD><TD>&nbsp; </TD></TR><TR><TD>
back</TD><TD> last element</TD><TD> *</TD><TD> *</TD><TD>&nbsp; </TD><TD>&nbsp; </TD></TR><TR><TD>
[ ] </TD><TD> element access/modification</TD><TD> *</TD><TD>&nbsp; </TD><TD>&nbsp; </TD><TD>*</TD><TD></TD></TR><TR><TD>
insert</TD><TD> insert element(s)</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD> *</TD></TR><TR><TD>
push_back</TD><TD> insert new last element</TD><TD> *</TD><TD> *</TD><TD>&nbsp; </TD><TD>&nbsp; </TD></TR><TR><TD>
push_front</TD><TD> insert new first element</TD><TD>&nbsp; </TD><TD>* </TD><TD>&nbsp;</TD><TD>&nbsp; </TD></TR><TR><TD>
erase</TD><TD> remove element(s)</TD><TD> *</TD><TD> *</TD><TD> *</TD><TD> *</TD></TR><TR><TD>
pop_back</TD><TD> remove last element</TD><TD> *</TD><TD> *</TD><TD>&nbsp; </TD><TD>&nbsp; </TD></TR><TR><TD>
pop_front</TD><TD> remove first element</TD><TD>&nbsp; </TD><TD>*</TD><TD>&nbsp;</TD><TD>&nbsp; </TD></TR><TR><TD>
</TD></TR></TABLE>
<CAPTION><B>Container Class Interface</B></CAPTION>
</CENTER><BR>
</P>

<P>If the following discussion leaves something unclear 
(and it will) you can always write a small test program to investigate how
some function or feature behaves. </P>


<H2><A NAME="ss17.4">17.4 Vectors </A>
</H2>

<P>A vector is an array like container that improves on the C++ array type. In
particular it is not necessary to know how big you want the vector to be
when you declare it, you can add new elements to the end of a vector using
the <B><I>push_back</I></B> function. (In fact the
<B><I>insert</I></B> function allows you to insert new elements at any
position of the vector, but this is a very inefficient operation -- if you
need to do this often consider using a list instead). </P>


<H3>Constructing Vectors </H3>

<P><I>vector</I> is a class template so that when declaring a vector object you have to state the type of the objects the vector is to contain. For
example the following code fragment </P>
<P>
<HR>
<PRE>
vector&lt;int> v1;
vector&lt;string> v2;
vector&lt;FiniteAutomaton> v3;
</PRE>
<HR>
</P>
<P>declares that v1 is a vector that holds integers, v2 a vector that holds
strings and v3 holds objects of type FiniteAutomaton (presumably an user
defined class type). These declarations do not say anything about how large
the vectors are to be (implementations will use a default starting size) and
you can grow them to as large as you require. </P>
<P>You can give an initial size to a vector by using a declaration like </P>
<P>
<HR>
<PRE>
vector&lt;char> v4(26);
</PRE>
<HR>
</P>
<P>which says that v4 is to be vector of characters that initially has room for
26 characters. There is also a way to initialise a vector's elements. The
declaration </P>
<P>
<HR>
<PRE>
vector&lt;float> v5(100,1.0);
</PRE>
<HR>
</P>
<P>says that <I>v5</I> is a vector of 100 floating point numbers each of
which has been initialised to 1.0.</P>


<H3>Checking Up on Your Vector </H3>

<P>Once you have created a vector you can find out the current number of
elements it contains by using the <I>size</I> function. This function
takes no arguments and returns an integer (strictly a value of type
<I>size_type</I>, but this gets converted to an integer) which says how
many elements there are in the vector. What will be printed out by the
following small program? </P>
<P>
<HR>
<PRE>
&lt;vector-size.cpp>=
#include &lt;iostream>
#include &lt;vector>

using namespace std;

int main()
{
    vector&lt;int> v1;
    vector&lt;int> v2(10);
    vector&lt;int> v3(10,7);

    cout &lt;&lt; "v1.size() returns " &lt;&lt; v1.size() &lt;&lt; endl;
    cout &lt;&lt; "v2.size() returns " &lt;&lt; v2.size() &lt;&lt; endl;
    cout &lt;&lt; "v3.size() returns " &lt;&lt; v3.size() &lt;&lt; endl;
}
</PRE>
<HR>
</P>
<P>To check on whether your vector is empty or not you can use the empty
function. This takes no arguments and returns a boolean value, true if the
vector is empty, false if it is not empty. What will be printed out by the
following small program (true prints as 1 and false prints as 0)? </P>
<P>
<HR>
<PRE>
&lt;vector-empty.cpp>=
#include &lt;iostream>
#include &lt;vector>

using namespace std;

int main()
{
    vector&lt;int> v1;
    vector&lt;int> v2(10);
    vector&lt;int> v3(10,7);

    cout &lt;&lt; "v1.empty() has value " &lt;&lt; v1.empty() &lt;&lt; endl;
    cout &lt;&lt; "v2.empty() has value " &lt;&lt; v2.empty() &lt;&lt; endl;
    cout &lt;&lt; "v3.empty() has value " &lt;&lt; v3.empty() &lt;&lt; endl;
}
</PRE>
<HR>
</P>


<H3>Accessing Elements of a Vector </H3>

<P>You can access a vector's elements using operator[]. Thus, if you wanted to print out all the elements in a vector you could use code
like </P>
<P>
<HR>
<PRE>
vector&lt;int> v;
// ...
for (int i=0; i&lt;v.size(); i++)
     cout &lt;&lt; v[i];
</PRE>
<HR>
</P>
<P>(which is very similar to what you might write for a built-in array). </P>
<P>You can also use operator[] to set the values of the elements of a vector. </P>
<P>
<HR>
<PRE>
vector&lt;int> v;
// ...
for (int i=0; i&lt;v.size(); i++)
      v[i] = 2*i;
</PRE>
<HR>
</P>
<P>The function front gives access to the first element of the vector. </P>
<P>
<HR>
<PRE>
vector&lt;char> v(10,'a');
// ...
char ch = v.front();
</PRE>
<HR>
</P>
<P>You can also change the first element using front. </P>
<P>
<HR>
<PRE>
vector&lt;char> v(10,'a');
// ...
v.front() = 'b';
</PRE>
<HR>
</P>
<P>The function back works the same as front but for the last element of the vector. </P>
<P>
<HR>
<PRE>
vector&lt;char> v(10,'z');
// ...
char last = v.back();
v.back() = 'a';
</PRE>
<HR>
</P>
<P>Here is a simple example of the use of []. </P>
<P>
<HR>
<PRE>
&lt;vector-access.cpp>=
#include &lt;vector>
#include &lt;iostream>

using namespace std;

int main()
{
    vector&lt;int> v1(5);
    int x;
    cout &lt;&lt; "Enter 5 integers (separated by spaces):" &lt;&lt; endl;
    for (int i=0; i&lt;5; i++)
          cin >> v1[i];
    cout &lt;&lt; "You entered:" &lt;&lt; endl;
    for (int i=0; i&lt;5; i++)
          cout &lt;&lt; v1[i] &lt;&lt; ' ';
    cout &lt;&lt; endl;
}
</PRE>
<HR>
</P>


<H3>Inserting and Erasing Vector Elements </H3>

<P>Along with operator[] as described above there are a number of other ways to change or access the elements in a vector. </P>
<P>
<UL>
<LI>push_back will add a new element to the end of a vector. </LI>
<LI>pop_back will remove the last element of a vector. </LI>
<LI>insert will insert one or more new elements, at a designated position, in the vector. </LI>
<LI>erase will remove one or more elements from a vector between designated positions. </LI>
</UL>
</P>
<P>Note that insert and erase are expensive operations on vectors. If you use them a lot then you should consider using the list data
structure for which they are more efficient. </P>
<P>
<HR>
<PRE>
&lt;vector-mod.cpp>=
#include &lt;iostream>
#include &lt;vector>

using namespace std;

int main()
{
    vector&lt;int> v;

    for (int i=0; i&lt;10; i++) v.push_back(i);
    cout &lt;&lt; "Vector initialised to:" &lt;&lt; endl;
    for (int i=0; i&lt;10; i++) cout &lt;&lt; v[i] &lt;&lt; ' ' ;
    cout &lt;&lt; endl;

    for (int i=0; i&lt;3; i++) v.pop_back();
    cout &lt;&lt; "Vector length now: " &lt;&lt; v.size() &lt;&lt; endl;
    cout &lt;&lt; "It contains:" &lt;&lt; endl;
    for (int i=0; i&lt;v.size(); i++) cout &lt;&lt; v[i] &lt;&lt; ' ';
    cout &lt;&lt; endl;

    int a1[5];
    for (int i=0; i&lt;5; i++) a1[i] = 100;

    v.insert(&amp; v[3], &amp; a1[0],&amp; a1[3]);
    cout &lt;&lt; "Vector now contains:" &lt;&lt; endl;
    for (int i=0; i&lt;v.size(); i++) cout &lt;&lt; v[i] &lt;&lt; ' ';
    cout &lt;&lt; endl;

    v.erase(&amp; v[4],&amp; v[7]);
    cout &lt;&lt; "Vector now contains:" &lt;&lt; endl;
    for (int i=0; i&lt;v.size(); i++) cout &lt;&lt; v[i] &lt;&lt; ' ';
    cout &lt;&lt; endl;
}
</PRE>
<HR>
</P>
<P>In the above a vector v has been declared then initialised using push_back.
Then some elements have been trimmed off it's end using pop_back. Next an
ordinary integer array has been created and then some of its elements
inserted into v using insert. Finally erase has been used to remove elements
from v. The functions used above take arguments as follows. </P>
<P>
<UL>
<LI>      push_back takes a single argument of the type of the elements held in the vector. </LI>
<LI>      pop_back takes no arguments. It is a mistake to use pop_back on an empty vector. </LI>
<LI>      insert has three forms: 
<UL>
<LI>insert(pos, T&amp; x) which will insert the single element x at position pos in the vector. </LI>
<LI>insert(pos, start, end) which inserts a sequence of elements from some other container at position pos in the vector. The</LI>
<LI>sequence of elements is identified as starting at the start element and continuing to, but not including, the end element. </LI>
<LI>insert(pos, int rep, T&amp; x) inserts rep copies of x at position pos in the vector. </LI>
</UL>
</LI>
</UL>

As indicated in the code above the position pos should be the address of the element to insert at, whilst the start and end
arguments are likewise also addresses. (The true story is that they are iterators -- see next subsection and following
section). 
<UL>
<LI> erase has two forms (pos, start and end have the same types as for the insert function): 
<UL>
<LI> erase(pos) which will remove the element at position pos in the vector. </LI>
<LI> insert(start,end) which will remove elements starting at position start up to, but not including, the element at position end.</LI>
</UL>
</LI>
</UL>
</P>



<H3>Vector Iterators </H3>


<P>The simple way to step through the elements of a vector v is as we have done above: </P>
<P>
<HR>
<PRE>
for (int i=0; i&lt;v.size(); i++) { ... v[i] ... }
</PRE>
<HR>
</P>
<P>Another way is to use iterators. An iterator can be thought of as a pointer into the container, incrementing the iterator allows you
to step through the container. For container types other than vectors iterators are the only way to step through the container. </P>
<P>For a vector containing elements of type T: </P>
<P>
<HR>
<PRE>
vector&lt;T> v;
</PRE>
<HR>
</P>
<P>an iterator is declared as follows: </P>
<P>
<HR>
<PRE>
vector&lt;T>::iterator i;
</PRE>
<HR>
</P>
<P>Such iterators are constructed and returned by the functions begin() and end(). You can compare two iterators (of the same type)
using == and !=, increment using ++ and dereference using *. [In fact vector iterators allow more operations on them - see next
section for more information]. </P>
<P>Here is an illustration of how to use iterators with vectors. </P>
<P>
<HR>
<PRE>
&lt;vector-iterator.cpp>=
#include &lt;iostream>
#include &lt;vector>

using namespace std;

int main()
{
    vector&lt;int> v(10);
    // first is ``less'' than the second

    int j = 1;

    vector&lt;int>::iterator i;

    // Fill the vector v with integers 1 to 10.
    i = v.begin();
    while (i != v.end())
    {
        *i = j;
        j++;
        i++;
    }

    // Square each element of v.
    for (i=v.begin(); i!=v.end(); i++) *i = (*i) * (*i);

    // Print out the vector v.
    cout &lt;&lt; "The vector v contains: ";
    for (i=v.begin(); i!=v.end(); i++) cout &lt;&lt; *i &lt;&lt; ' ';
    cout &lt;&lt; endl;

}
</PRE>
<HR>
</P>
<P>Note how *i can be used on the left-hand side of an assignment statement so as to update the element pointed at by i, and on the
right-hand side to access the current value. </P>


<H3>Comparing Vectors </H3>

<P>You can compare two vectors using == and &lt;. == will return true only if both vectors have the same number of elements and all
elements are equal. The &lt; functions performs a lexicographic comparison of the two vectors. This works by comparing the vectors
element by element. Suppose we are comparing v1 and v2 (that is 
v1 &lt; v2?). Set i=0. If v1[i] &lt; v2[i] then return true, if v1[i] &gt; v2[i] then
return false, otherwise increment i (that is move on to the next element). If the end of v1 is reached before v2 return true, otherwise
return false. Lexicographic order is also known as dictionary order. Some examples: </P>
<P>
<HR>
<PRE>
(1,2,3,4) &lt; (5,6,7,8,9,10) is true.
(1,2,3) &lt; (1,2,3,4) is true
(1,2,3,4) &lt; (1,2,3) is false
(0,1,2,3) &lt; (1,2,3) is true
</PRE>
<HR>
</P>
<P>The following code illustrates the third example above. </P>
<P>
<HR>
<PRE>
&lt;vector-comp.cpp>=
#include &lt;vector>
#include &lt;iostream>

using namespace std;

int main()
{
    vector&lt;int> v1;
    vector&lt;int> v2;
    for (int i=0; i&lt;4; i++) v1.push_back(i+1);
    for (int i=0; i&lt;3; i++) v2.push_back(i+1);

    cout &lt;&lt; "v1: ";
    for (int i=0; i&lt;v1.size(); i++) cout &lt;&lt; v1[i] &lt;&lt; ' ';
    cout &lt;&lt; endl;

    cout &lt;&lt; "v2: ";
    for (int i=0; i&lt;v2.size(); i++) cout &lt;&lt; v2[i] &lt;&lt; ' ';
    cout &lt;&lt; endl;

    cout &lt;&lt; "v1 &lt; v2 is: " &lt;&lt; (v1&lt;v2 ? "true" : "false") &lt;&lt; endl;
}
</PRE>
<HR>

The comparison operators &lt;= and >= also work. </P>


<H2><A NAME="ss17.5">17.5 Iterators and the STL</A>
</H2>

<P>See the section 
<A HREF="#stlref">STL References</A></P>


<H2><A NAME="ss17.6">17.6 Lists</A>
</H2>

<P>See the section 
<A HREF="#stlref">STL References</A></P>


<H2><A NAME="ss17.7">17.7 Sets </A>
</H2>

<P>The set container type allows an user to store and retrieve elements directly rather than through an index into the container. The set container acts as a mathematical set in that it holds
only distinct elements. However unlike a mathematical set, elements in a set
container are held in (an user-supplied) order. In practice this is only a minor restriction on treating a set
container as an implementation of the mathematical set abstract data type,
and it allows for a much more efficient implementation than an unordered approach.</P>



<H3>Constructing Sets</H3>

<P>Two template arguments are required to construct a set container -- the type of the objects the set is to contain and a function object that can compare two elements of the given type,
that is: </P>
<P>
<HR>
<PRE>
set&lt;T, Compare> s;
</PRE>
<HR>
</P>
<P>(The declaration <I>set &lt; T &gt; s</I> should also be possible -- it would 
use a default template argument less &lt; T &gt; as the second argument, but
many C++ compilers (including g++) cannot as
yet cope with default template arguments.) </P>
<P>For simple types <B>T</B> we can use the function object <I>less &lt; T &gt; </I> (
without having to worry about what a ``function object'' is), for example all the following are legal set declarations. </P>
<P>
<HR>
<PRE>
set&lt;int, less&lt;int> > s1;
set&lt;double, less&lt;double> > s2;
set&lt;char, less&lt;char> > s3;
set&lt;string, less&lt;string> > s4;
</PRE>
<HR>
</P>
<P>(Note that the space between the two final >'s in the template is required - otherwise the compiler will interpret >> as the right shift operator.) In each of these cases the function
object makes use of the operator &lt; as defined for the underlying type (that is 
<I>int, double, char</I> and <I>string</I>). </P>
<P>The following code declares a set of integers, then adds some integers to 
the set using the <I>insert</I> method and then prints out the set 
members by iterating through the set. You will
note that the set's contents are printed out in ascending order even though they were added in no particular order. </P>
<P>
<HR>
<PRE>
&lt;set-construct1.cpp>=
#include &lt;iostream>
#include &lt;set>

using namespace std;

int main()
{
    set&lt;int, less&lt;int> > s;
    set&lt;int, less&lt;int> >::iterator i;

    s.insert(4);
    s.insert(0);
    s.insert(-9);
    s.insert(7);
    s.insert(-2);
    s.insert(4);
    s.insert(2);

    cout &lt;&lt; "The set contains the elements: ";
    for (i=s.begin(); i!=s.end(); i++) cout &lt;&lt; *i &lt;&lt; ' ';
    cout &lt;&lt; endl;
}
</PRE>
<HR>
</P>
<P>Note that 4 is added twice but only turns up once on the list of elements -- which is what one expects of a set. </P>


<H3>What are Function Objects?</H3>


<P>One of the nifty features of C++ is the ability to overload operators, so that one can have + mean whatever one likes for your newly designed class. One of the operators C++ allows
you to overload is the function call operator () and this allows you to create classes whose instances can behave like functions in many ways. These are function objects. </P>
<P>Here is a simple example. </P>
<P>
<HR>
<PRE>
&lt;function-object.cpp>=
#include &lt;iostream>

using namespace std;

template&lt;class T>
class square {
public:
    T operator()(T x) { return x*x; }
};
// This can be used with any T for which * is defined.

int main()
{
    // Create some function objects.
    square&lt;double> f1;
    square&lt;int> f2;

    // Use them.
    cout &lt;&lt; "5.1^2 = " &lt;&lt; f1(5.1) &lt;&lt; endl;
    cout &lt;&lt; "100^2 = " &lt;&lt; f2(100) &lt;&lt; endl;

    // The following would result in a compile time error.
    // cout &lt;&lt; "100.1^2 = " &lt;&lt; f2(100.1) &lt;&lt; endl;
}
</PRE>
<HR>
</P>
<P>Function objects are used in a number of places in the STL. In particular they are used when declaring sets and maps. </P>
<P>The function object required for these purposes, let's suppose it is 
called <I>comp</I>, must satisfy the following requirements. </P>
<P>
<OL>
<LI> If comp(x,y) and comp(y,z) are true for objects x, y and z then comp(x,z) is also true. </LI>
<LI> comp(x,x) is false for every object x. </LI>
</OL>
</P>
<P>If for any particular objects x and y, both comp(x,y) and comp(y,x) are false then x and y are deemed to be equal. </P>
<P>This, in fact, is just the behaviour of the <I>strictly-less-than</I> 
relation (ie &lt; ) on numbers. The function object less &lt; T &gt; used above is 
defined in terms of a &lt; operator for the type T. It's
definition can be thought of as follows. </P>
<P>
<HR>
<PRE>
template&lt;class T>
struct less {
  bool operator()(T x, T y) { return x&lt;y; }
}
</PRE>
<HR>
</P>
<P>(The actual definition uses references, has appropriate const annotations and inherits from a template class binary_function.) </P>
<P>This means that if the type T has operator &lt; defined for it then you can use 
less &lt; T &gt; as the comparator when declaring sets of T. You might still want to use a special purpose
comparator if the supplied &lt; operator is not appropriate for 
your purposes. Here is another example. This defines a simple 
class with a definition of operator &lt; and a function object
that performs a different comparison. Note that the overloaded &lt; 
and () operators should be given const annotations so that the functions 
work correctly with the STL. </P>
<P>
<HR>
<PRE>
&lt;set-construct2.cpp>=
#include &lt;iostream>
#include &lt;set>

using namespace std;

// This class has two data members. The overloaded operator&lt; compares
// such classes on the basis of the member f1.
class myClass {
private:
    int f1;
    char f2;
public:
    myClass(int a, char b) : f1(a), f2(b) {}
    int field1() const { return f1; }
    char field2() const { return f2; }
    bool operator&lt;(myClass y) const
    { return (f1&lt;y.field1()); }
};

// This function object compares objects of type myClass on the basis
// of the data member f2.
class comp_myClass {
public:
    bool operator()(myClass c1, myClass c2) const
    { return (c1.field2() &lt; c2.field2()); }
};

int main()
{
    set&lt;myClass, less&lt;myClass> > s1;
    set&lt;myClass, less&lt;myClass> >::iterator i;
    set&lt;myClass, comp_myClass> s2;
    set&lt;myClass, comp_myClass>::iterator j;

    s1.insert(myClass(1,'a'));
    s2.insert(myClass(1,'a'));
    s1.insert(myClass(1,'b'));
    s2.insert(myClass(1,'b'));
    s1.insert(myClass(2,'a'));
    s2.insert(myClass(2,'a'));

    cout &lt;&lt; "Set s1 contains: ";
    for (i=s1.begin(); i!=s1.end(); i++)
    { 
        cout &lt;&lt; "(" &lt;&lt; (*i).field1() &lt;&lt; "," 
                &lt;&lt; (*i).field2() &lt;&lt; ")" &lt;&lt; ' ';
    }
    cout &lt;&lt; endl;

    cout &lt;&lt; "Set s2 contains: ";
    for (j=s2.begin(); j!=s2.end(); j++)
    {
        cout &lt;&lt; "(" &lt;&lt; (*j).field1() &lt;&lt; "," 
                &lt;&lt; (*j).field2() &lt;&lt; ")" &lt;&lt; ' ';
    }
    cout &lt;&lt; endl;
}
</PRE>
<HR>
</P>
<P>The set s1 contains (1,a) and (2,a) as comparison is on the data member f1, so that (1,a) and (1,b) are deemed the same element. The set s2 contains (1,a) and (1,b) as
comparison is on the data member f2, so that (1,a) and (2,a) are deemed the same element. </P>


<H3>A Printing Utility</H3>

<P>The way we have printed out the sets in the previous examples is a little awkward so the following header file containing a simple overloaded version 
of <I>operator&lt;&lt; </I> has been written.
It works fine for small sets with simple element types. </P>
<P>
<HR>
<PRE>
&lt;printset.h>=
#ifndef _PRINTSET_H
#define _PRINTSET_H

#include &lt;iostream>
#include &lt;set>

template&lt;class T, class Comp>
std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const std::set&lt;T,Comp>&amp; s)
{
    std::set&lt;T,Comp>::iterator iter = s.begin();
    int sz = s.size();
    int cnt = 0;

    os &lt;&lt; "{";
    while (cnt &lt; sz-1)
    {
        os &lt;&lt; *iter &lt;&lt; ",";
        iter++;
        cnt++;
    }
    if (sz != 0) os &lt;&lt; *iter;
    os &lt;&lt; "}";

    return os;
}
#endif
</PRE>
<HR>
</P>
<P>The use here of &lt;&lt; as an output routine for a set assumes that &lt;&lt; has been defined for the set elements, and uses this to print a comma delimited list of the set elements wrapped in
curly braces. It will be used without comment in the following examples. </P>


<H3>How Many Elements?</H3>


<P>You can determine if a set is empty or not by using the empty() method. You can find out how many elements there are in a set by using the size() method. These methods take no
arguments, empty() returns true or false and size() returns an integer. </P>
<P>
<HR>
<PRE>
&lt;set-size.cpp>=
#include &lt;iostream>
#include &lt;set>
#include "printset.h"

using namespace std;

int main()
{
    set&lt;int, less&lt;int> > s;

    cout &lt;&lt; "The set s is  "
            &lt;&lt; (s.empty() ? "empty." : "non-empty.") &lt;&lt; endl; 
    cout &lt;&lt; "It has " &lt;&lt; s.size() &lt;&lt; "elements." &lt;&lt; endl;

    cout &lt;&lt; "Now adding some elements... " &lt;&lt; endl;

    s.insert(1);
    s.insert(6);
    s.insert(7);
    s.insert(-7);
    s.insert(5);
    s.insert(2);
    s.insert(1);
    s.insert(6);

    cout &lt;&lt; "The set s is now  
            &lt;&lt; (s.empty() ? "empty." : "non-empty.") &lt;&lt; endl;
    cout &lt;&lt; "It has " &lt;&lt; s.size() &lt;&lt; "elements." &lt;&lt; endl;
    cout &lt;&lt; "s = " &lt;&lt; s &lt;&lt; endl;
}
</PRE>
<HR>
</P>


<H3>Checking the Equality of Sets.</H3>

<P>Two sets may be checked for equality by using ==. This equality test works by testing in order the corresponding elements of each set for equality using T::operator==. </P>
<P>
<HR>
<PRE>
&lt;set-equality.cpp>=
#include &lt;iostream>
#include &lt;set>
#include "printset.h"

using namespace std;

int main()
{
    set&lt;int, less&lt;int> > s1, s2 ,s3;

    for (int i=0; i&lt;10; i++)
    {
        s1.insert(i);
        s2.insert(2*i);
        s3.insert(i);
    }

    cout &lt;&lt; "s1 = " &lt;&lt; s1 &lt;&lt; endl;
    cout &lt;&lt; "s2 = " &lt;&lt; s2 &lt;&lt; endl;
    cout &lt;&lt; "s3 = " &lt;&lt; s3 &lt;&lt; endl;
    cout &lt;&lt; "s1==s2 is: " &lt;&lt; (s1==s2 ? true. : false.) &lt;&lt; endl;
    cout &lt;&lt; "s1==s3 is: " &lt;&lt; (s1==s3 ? true. : false.) &lt;&lt; endl;
}
</PRE>
<HR>
</P>
<P>It is also possible to compare two sets using &lt;. The comparison s1 &lt; s2 is true if the set s1 is lexicographically less than the set s2, otherwise it is false. </P>


<H3>Adding and Deleting Elements</H3>

<P>The way to add elements to a set is to use the insert method (as we have done above). The way to delete elements from a set is to use the erase method. </P>
<P>For a set holding elements of type T these methods come in following forms: 
<UL>
<LI> <B>pair &lt; iterator, bool> insert(T&amp; x)</B>. This is the standard insert function. The return value may be ignored or used to test if the insertion succeeded (that is the element
was not already in the set). If the insertion succeeded the boolean component will be true and the iterator will point at the just inserted element. If the element is already
present the boolean component will be false and the iterator will point at the element x already present. 

</LI>
<LI> <B>iterator insert(iterator position, T&amp; x)</B>. This version of the insert function takes, in addition to the element to insert, an iterator stating where the insert function
should begin to search. The returned iterator points at the newly inserted element, (or the already present element). 

</LI>
<LI> <B>int erase(T&amp; x)</B>. This version of the erase method takes an element to delete and returns 1 if the element was present (and removes it) or 0 if the element was not present. 

</LI>
<LI> <B>void erase(iterator position)</B>. This version takes an iterator pointing at some element in the set and removes that element. 

</LI>
<LI> <B>void erase(iterator first, iterator last)</B>. This version takes two 
iterators pointing into the set and removes all the elements in the range [ first,last ] . </LI>
</UL>
</P>
<P>The following example illustrates these various forms. </P>
<P>
<HR>
<PRE>
&lt;set-add-delete.cpp>=
#include &lt;iostream>
#include &lt;set>
#include "printset.h"

using namespace std;

int main()
{
    set&lt;int, less&lt;int> > s1;

    // Insert elements in the standard fashion.
    s1.insert(1);
    s1.insert(2);
    s1.insert(-2);

    // Insert elements at particular positions.
    s1.insert(s1.end(), 3);
    s1.insert(s1.begin(), -3);
    s1.insert((s1.begin()++)++, 0);

    cout &lt;&lt; "s1 = " &lt;&lt; s1 &lt;&lt; endl;

    // Check to see if an insertion has been successful.
    pair&lt;set&lt;int, less&lt;int> >::iterator,bool> x = s1.insert(4);
    cout &lt;&lt; "Insertion of 4 " &lt;&lt; (x.second ? worked. : failed.) 
            &lt;&lt; endl;
    x = s1.insert(0);
    cout &lt;&lt; "Insertion of 0 " &lt;&lt; (x.second ? worked. : failed.) 
            &lt;&lt; endl;

    // The iterator returned by insert can be used as the position
    // component of the second form of insert.
    cout &lt;&lt; "Inserting 10, 8 and 7." &lt;&lt; endl;
    s1.insert(10);
    x=s1.insert(7);
    s1.insert(x.first, 8);

    cout &lt;&lt; "s1 = " &lt;&lt; s1 &lt;&lt; endl;

    // Attempt to remove some elements.
    cout &lt;&lt; "Removal of 0 " &lt;&lt; (s1.erase(0) ? worked. : failed.)
            &lt;&lt; endl;
    cout &lt;&lt; "Removal of 5 " &lt;&lt; (s1.erase(5) ? worked. : failed.)
            &lt;&lt; endl;

    // Locate an element, then remove it. (See below for find.)
    cout &lt;&lt; "Searching for 7." &lt;&lt; endl;
    set&lt;int,less&lt;int> >::iterator e = s1.find(7);
    cout &lt;&lt; "Removing 7." &lt;&lt; endl;
    s1.erase(e);

    cout &lt;&lt; "s1 = " &lt;&lt; s1 &lt;&lt; endl;

    // Finally erase everything from the set.
    cout &lt;&lt; "Removing all elements from s1." &lt;&lt; endl;
    s1.erase(s1.begin(), s1.end());
    cout &lt;&lt; "s1 = " &lt;&lt; s1 &lt;&lt; endl;
    cout &lt;&lt; "s1 is now " &lt;&lt; (s1.empty() ? empty. : non-empty.)
            &lt;&lt; endl;
}
</PRE>
<HR>
</P>


<H3>Finding Elements</H3>


<P>We mention two member functions that can be used to test if an element is present in a set or not. </P>
<P>
<UL>
<LI> <B>iterator find(T&amp; x)</B>. This searches for the element x in the set. If x is found it returns an iterator pointing at x otherwise it returns end(). </LI>
<LI> <B>int count(T&amp; x)</B>. This returns 1 if it finds x in the set and 0 otherwise. (The count function for multisets returns the number of copies of the element in the set which may be
more than 1. Hence, I guess, the name of the function.) </LI>
</UL>
</P>
<P>The use of find has been illustrated above. We could use count to write a simple template based set membership function. (This should also provide a version that takes a reference
to the argument x.) </P>
<P>
<HR>
<PRE>
&lt;setmember.h>=
#ifndef _SETMEMBER_H
#define _SETMEMBER_H
#include &lt;set>

template&lt;class T, class Comp>
bool member(T x, std::set&lt;T,Comp>&amp; s)
{
 return (s.count(x)==1 ? true : false);
}
#endif

Which might be used as follows. 

&lt;set-membership.cpp>=
#include &lt;iostream>
#include &lt;set>
#include "printset.h"
#include "setmember.h"

using namespace std;

int main()
{
    set&lt;int, less&lt;int> > s;
    for (int i= 0; i&lt;10; i++) s.insert(i);
    cout &lt;&lt; "s = " &lt;&lt; s &lt;&lt; endl;
    cout &lt;&lt; "1 is " &lt;&lt; (member(1,s) ?  : not) &lt;&lt; " a member of s "
            &lt;&lt;  endl;
    cout &lt;&lt; "10 is " &lt;&lt; (member(10,s) ?  : not) &lt;&lt; " a member of s "
            &lt;&lt;  endl;
}
</PRE>
<HR>
</P>



<H3>Set Theoretic Operations</H3>


<P>The STL supplies as generic algorithms the set operations includes, union, intersection, difference and symmetric difference. To gain access to these functions you need to include
algo.h. (In what follows iter stands for an appropriate iterator). </P>
<P>
<UL>
<LI> bool includes(iter f1,iter l1,iter f2,iter l2). 
<P>This checks to see if the set represented by the range [f2,l2] is included in the set [f1,l1]. It returns true if it is and false otherwise. So to check to see if one set is
included in another you would use </P>

<P>includes(s1.begin(), s1.end(), s2.begin(), s2.end())</P>
<P>The includes function checks the truth of 3#3 ( that is of 4#4). This function assumes that the sets are ordered using the comparison operator &lt;. If some other comparison
operator has been used this needs to be passed to includes as an extra (function object) argument after the other arguments. </P>

</LI>
<LI> iter set_union(iter f1,iter l1,iter f2,iter l2,iter result). 
<P>This forms the union of the sets represented by the ranges [f1,l1] and [f2,l2]. The argument result is an output iterator that points at the start of the set that is going to
hold the union. The return value of the function is an output iterator that points at the end of the new set. </P>
</LI>
</UL>
</P>
<P>The fact that the result argument is an output iterator means that you cannot use set_union in the following, natural, fashion: </P>
<P>
<HR>
<PRE>
      set&lt;int, less&lt;int> > s1, s2, s3;
      // Add some elements to s1 and s2 ...
      // Then form their union. (This does not work!)
      set_union(s1.begin(), s1.end(), 
                s2.begin(), s2.end(), 
                s3.begin());
</PRE>
<HR>
</P>
<P>The reason is that begin() (also end()) when used with sets (or maps) returns a (constant) input iterator. This type of iterator allows you to access elements of the set for
reading but not writing. (And this is a Good Thing since if you could assign to a dereferenced iterator (as in (*i)= ...) then you could destroy the underlying order of the
set.) </P>
<P>The solution is to use an insert iterator based on the set type. This, basically, converts an assignment (*i)=value (which is illegal) into a (legal) insertion
s.insert(i,value) (where s is the set object that the iterator i is pointing into). It is used as follows: </P>
<P>
<HR>
<PRE>
      // Typedef for convenience.
      typedef set&lt;int, less&lt;int> > intSet;  
      intSet s1, s2, s3;
      // Add some elements to s1 and s2 ...
      // Then form their union. 
      set_union(s1.begin(), s1.end(), 
                s2.begin(), s2.end(), 
                insert_iterator&lt;intSet>(s3,s3.begin()) );
</PRE>
<HR>
</P>
<P>Here is an example illustrating all these operations. </P>
<P>
<HR>
<PRE>
&lt;set-theory.cpp>=
#include &lt;iostream>
#include &lt;set>
#include &lt;algorithm>
#include &lt;iterator>
#include "printset.h"

using namespace std;

int main()
{
    typedef set&lt;int, less&lt;int> > intSet;

    intSet s1, s2, s3, s4;

    for (int i=0; i&lt;10; i++)
    { s1.insert(i);
        s2.insert(i+4);
    }
    for (int i=0; i&lt;5; i++) s3.insert(i);

    cout &lt;&lt; "s1 = " &lt;&lt; s1 &lt;&lt; endl;
    cout &lt;&lt; "s2 = " &lt;&lt; s2 &lt;&lt; endl;
    cout &lt;&lt; "s3 = " &lt;&lt; s3 &lt;&lt; endl;

    // Is s1 a subset of s2?
    bool test = includes(s2.begin(),s2.end(),s1.begin(),s1.end());
    cout &lt;&lt; "s1 subset of s2 is " &lt;&lt; (test ? true. : false.) &lt;&lt; endl;

    // Is s3 a subset of s1?
    test = includes(s1.begin(),s1.end(),s3.begin(),s3.end());
    cout &lt;&lt; "s3 subset of s1 is " &lt;&lt; (test ? true. : false.) &lt;&lt; endl;

    // Form the union of s1 and s2.
    set_union(s1.begin(), s1.end(), s2.begin(), s2.end(),
            insert_iterator&lt;intSet>(s4,s4.begin()) );
    cout &lt;&lt; "s1 union s2 = " &lt;&lt; s4 &lt;&lt; endl;

    // Erase s4 and form intersection of s1 and s2. (If we don't erase
    // s4 then we will get the previous contents of s4 as well).
    s4.erase(s4.begin(),s4.end());
    set_intersection(s1.begin(), s1.end(), s2.begin(), s2.end(),
            insert_iterator&lt;intSet>(s4,s4.begin()) );
    cout &lt;&lt; "s1 intersection s2 = " &lt;&lt; s4 &lt;&lt; endl;

    // Now set difference.
    s4.erase(s4.begin(),s4.end());
    set_difference(s1.begin(), s1.end(), s2.begin(), s2.end(),
            insert_iterator&lt;intSet>(s4,s4.begin()) );
    cout &lt;&lt; "s1 minus s2 = " &lt;&lt; s4 &lt;&lt; endl;

    // Set difference is not symmetric.
    s4.erase(s4.begin(),s4.end());
    set_difference(s2.begin(), s2.end(), s1.begin(), s1.end(),
            insert_iterator&lt;intSet>(s4,s4.begin()) );
    cout &lt;&lt; "s2 minus s1 = " &lt;&lt; s4 &lt;&lt; endl;

    // Finally symmetric difference.
    s4.erase(s4.begin(),s4.end());
    set_symmetric_difference(s1.begin(), s1.end(), s2.begin(), s2.end(),
            insert_iterator&lt;intSet>(s4,s4.begin()) );
    cout &lt;&lt; "s1 symmetric_difference  s2 = " &lt;&lt; s4 &lt;&lt; endl;

    // Which is symmetric!
    s4.erase(s4.begin(),s4.end());
    set_symmetric_difference(s2.begin(), s2.end(), s1.begin(), s1.end(),
            insert_iterator&lt;intSet>(s4,s4.begin()) );
    cout &lt;&lt; "s2 symmetric_difference  s1 = " &lt;&lt; s4 &lt;&lt; endl;
}
</PRE>
<HR>
</P>


<H2><A NAME="ss17.8">17.8 Maps</A>
</H2>

<P>See the section 
<A HREF="#stlref">STL References</A></P>


<H2><A NAME="ss17.9">17.9 STL Algorithms</A>
</H2>

<P>See the section 
<A HREF="#stlref">STL References</A></P>



<H2><A NAME="s18">18. Threads in C++</A></H2>

<P>
<UL>
<LI> IBM pthread User Guide, Thread concepts, API reference
<A HREF="http://www.as400.ibm.com/developer/threads/uguide/document.htm">http://www.as400.ibm.com/developer/threads/uguide/document.htm</A>
and mirror site is at
<A HREF="http://java.icmc.sc.usp.br/library/books/ibm_pthreads/document.htm">IBM main site</A>

</LI>
<LI> QpThread Library for C++ provides object oriented framework in C++
for threads and Unix signals on top of system level threads (currently POSIX Threads) 
<A HREF="http://lin.fsid.cvut.cz/~kra/index.html">http://lin.fsid.cvut.cz/~kra/index.html</A>

</LI>
<LI> ThreadJack supports Java-like multi-thread programming
model with platform independent C++ class library
<A HREF="http://www.esm.co.jp/divisions/open-sys/ThreadJack/index-e.html">http://www.esm.co.jp/divisions/open-sys/ThreadJack/index-e.html</A>
and here is the
<A HREF="http://www.esm.co.jp/divisions/open-sys/ThreadJack/source-dl-e.html">download-site</A>

</LI>
<LI> APE is the "APE Portable Environment" and class libraries for 
writing portable threaded servers in C++, under UNIX (pthread) and Win32 API's.
APE provides portable class abstraction for threads, sockets, file handling, and
synchronization objects. The goal of APE is to make writing threaded
servers in C++ both practical and convenient, even for small 
and simple projects, and hence simplicity and low runtime overhead 
are design goals 
<A HREF="http://www.voxilla.org/projects/projape.html">http://www.voxilla.org/projects/projape.html</A>

</LI>
<LI> Portabale Thread Lib 
<A HREF="http://www.media.osaka-cu.ac.jp/~k-abe/PTL">http://www.media.osaka-cu.ac.jp/~k-abe/PTL</A>

</LI>
<LI> Thread-Recycling in C++ 
<A HREF="http://www.sigs.de/html/kuhlmann.html">http://www.sigs.de/html/kuhlmann.html</A></LI>
</UL>
</P>


<H2><A NAME="ss18.1">18.1 Threads Tutorial</A>
</H2>

<P>
<UL>
<LI>You can download all the tutorials in one file from
<A HREF="http://www.milkywaygalaxy.freeservers.com">http://www.milkywaygalaxy.freeservers.com</A> and click on 
"Source code C++ 
Programming howto".

</LI>
<LI>Threads tutorial is at 
<A HREF="http://www.math.arizona.edu/swig/pthreads/threads.html">http://www.math.arizona.edu/swig/pthreads/threads.html</A>

</LI>
<LI>HERT tutorial at 
<A HREF="http://www.hert.org/docs/tutorials">http://www.hert.org/docs/tutorials</A>, go here to
search for "Threads".

</LI>
<LI>Introduction to threads at 
<A HREF="http://www2.linuxjournal.com/lj-issues/issue61/3138.html">linuxjournal</A>

</LI>
<LI>North Arizona Univ 
<A HREF="http://www.cse.nau.edu/~mc8/Thread/Contents.html">NAU</A>

</LI>
<LI>POSIX threads 
<A HREF="http://users.actcom.co.il/~choo/lupg/tutorials/multi-thread/multi-thread.html">Acctcom multi-thread</A></LI>
</UL>
</P>



<H2><A NAME="ss18.2">18.2 Designing a Thread Class in C++</A>
</H2>

<P>This section is written by 
<A HREF="mailto:ryte@geocities.com">Ryan Teixeira</A>
and the document is located
<A HREF="http://www.geocities.com/SiliconValley/Heights/6038/dthreads.html">here</A>
.</P>


<H3>Introduction</H3>

<P>Multi threaded programming is becoming ever more popular. This section 
presents a design for a C++ class that will encapsulate the threading
mechanism. Certain aspects of thread programming, like mutexes and semaphores 
are not discussed here. Also, operating system calls to manipulate threads are 
shown in a generic form.</P>



<H3>Brief Introduction To Threads</H3>

<P>To understand threads one must think of several
programs running at once. Imagine further 
that all these programs have access to the same set of
global variables and function calls.  
Each of these programs would represent a thread of
execution and is thus called a thread.  
The important differentiation is that each thread does not have to wait 
for any other thread to proceed. All the threads proceed 
simultaneously. To use a metaphor, they are like runners 
in a race, no runner waits for another runner. They
all proceed at their own rate.</P>
<P>Why use threads you might ask. Well threads can often
improve the performance of an application and they do not incur 
significant overhead to implement. They effectively give 
good bang for a buck. Imagine an image server program
that must service requests for images.  
The program gets a request for an image from another program. It must 
then retrieve the image from a database and send it to the program that
requested it. If the server were implemented in a single threaded 
approach, only one program could request at a time. When it was busy 
retrieving an image and sending it to a requestor, it could not 
service other requests. Of course one could still implement such a system without
using threads. It would be a challenge though. Using threads, one can very
naturally design a system to handle multiple requests. A simple approach
would be to create a thread for each request received. The main 
thread would create this thread upon receipt of a request. The thread
would then be responsible for the conversation with the client
program from that point on. After retrieving the image, the thread would 
terminate itself. This would provide a smooth system 
that would continue to service requests even though it
was busy servicing other requests at the same time.</P>


<H3>Basic Approach</H3>

<P>The create a thread, you must specify a function that will become the entry 
point for the thread. At the operating system level, this is a
normal function. We have to do a few tricks to wrap a C++ class around it 
because the entry function cannot be a normal member function 
of a class. However, it can be a static member function of a class. This is 
what we will use as the entry point. There is a gotcha here though.
Static member functions do not have access to the this pointer of 
a C++ object. They can only access static data. Fortunately, 
there is way to do it. Thread entry point functions take a void * 
as a parameter so that the caller can typecast any data and pass in to 
the thread. We will use this to pass this to the static function. The static 
function will then typecast the void * and use it to call a non 
static member function.</P>


<H3>The Implementation</H3>

<P>It should be mentioned that we are going to discuss a thread class with 
limited functionality. It is possible to do more with threads
than this class will allow.</P>
<P>
<HR>
<PRE>
class Thread
{
   public:
      Thread();
      int Start(void * arg);
   protected:
      int Run(void * arg);
      static void * EntryPoint(void*);
      virtual void Setup();
      virtual void Execute(void*);
      void * Arg() const {return Arg_;}
      void Arg(void* a){Arg_ = a;}
   private:
      THREADID ThreadId_;
      void * Arg_;

};

Thread::Thread() {}

int Thread::Start(void * arg)
{
   Arg(arg); // store user data
   int code = thread_create(Thread::EntryPoint, this, &amp; ThreadId_);
   return code;
}

int Thread::Run(void * arg)
{
   Setup();
   Execute( arg );
}

/*static */
void * Thread::EntryPoint(void * pthis)
{
   Thread * pt = (Thread*)pthis;
   pthis->Run( Arg() );
}

virtual void Thread::Setup()
{
        // Do any setup here
}

virtual void Thread::Execute(void* arg)
{
        // Your code goes here
}
</PRE>
<HR>
</P>
<P>It is important to understand that we are wrapping a C++ object 
around a thread. Each object will provide an interface to a single thread. The
thread and the object are not the same.  
The object can exist without a thread. In this implementation, the
thread does not actually exist until the Start function is called.</P>
<P>Notice that we store the user argument in the class.
This is necessary because we need a place to store it temporarily until the thread is
started. The operating system thread call allows us to pass an argument but we have used it to
pass the this pointer. So we store the real user argument in the class itself and when the
execute function is called it can get access to the argument.</P>
<P><B>Thread(); </B>
This is the constructor. </P>
<P><B>int Start(void * arg); </B>
This function provides the means to create the thread
and start it going. The argument arg provides a way for user data to be passed into the
thread. Start() creates the thread by calling the operating system thread creation function.</P>
<P><B>int Run(void * arg); </B>
This is a protected function that should never be
tampered with.</P>
<P><B>static void * EntryPoint(void * pthis); </B>
This function serves as the entry point to the thread.
It simply casts pthis to Thread * and </P>
<P><B>virtual void Setup(); </B>
This function is called after the thread has been
created but before Execute() is called. If you override this function, remember to call the
parent class Execute().</P>
<P><B>virtual void Execute(void *); </B>
You must override this function to provide your own
functionality.</P>



<H3>Using The Thread Class</H3>

<P>To use the thread class, you derive a new class. You
override the Execute() function where you provide your own functionality. You may override
the Setup() function to do any start up 
duties before Execute is called. If you override
Setup(), remember to call the parent class Setup().</P>



<H3>Conclusion</H3>

<P>This section presented an implementation of a thread class written in C++. 
Of course it is a simple approach but it provides a sound foundation
upon which to build a more robust design. </P>
<P>If you have comments or suggestions, email to 
<A HREF="mailto:ryte@geocities.com">Ryan Teixeira</A></P>



<H2><A NAME="s19">19. C++ Utilities</A></H2>

<P>Visit the following sites for C++ Utilities
<UL>
<LI> Portable C++ utilities  from 
<A HREF="http://www.boost.org">http://www.boost.org</A>.
The Boost web site provides free peer-reviewed portable C++ source 
libraries. The emphasis is on libraries which work well with the C++
Standard Library. One goal is to establish "existing practice"
and provide reference implementations so that the Boost libraries are suitable for
eventual standardization. 

</LI>
<LI> The smart pointer library from 
<A HREF="http://www.boost.org/libs/smart_ptr/index.htm">http://www.boost.org/libs/smart_ptr/index.htm</A>
includes five smart pointer class templates. Smart pointers
ease the management of memory dynamically allocated with C++
new expressions. In addition, scoped_ptr can ease the management of memory
dynamically allocated in other ways.

</LI>
<LI> C++ Binary File I/O 
<A HREF="http://www.angelfire.com/country/aldev0/cpphowto/cpp_BinaryFileIO.html">http://www.angelfire.com/country/aldev0/cpphowto/cpp_BinaryFileIO.html</A>

</LI>
<LI> Portability Guide 
<A HREF="http://www.angelfire.com/country/aldev0/cpphowto/cpp_PortabilityGuide.html">http://www.angelfire.com/country/aldev0/cpphowto/cpp_PortabilityGuide.html</A>

</LI>
<LI> Snippets collections of C++ routines
<A HREF="http://www.angelfire.com/country/aldev0/cpphowto/cpp_Snippets.html">http://www.angelfire.com/country/aldev0/cpphowto/cpp_Snippets.html</A>
and at 
<A HREF="http://www.strangecreations.com/library/snippets">snippets site</A>

</LI>
<LI> escape ISB for C++ - Provides information on how to
develop and program distributed, object-based applications in C++ for 
Windows and Unix using the Netscape Internet Service Broker 
<A HREF="http://docs.iplanet.com/docs/manuals/enterprise/cpluspg/contents.htm">http://docs.iplanet.com/docs/manuals/enterprise/cpluspg/contents.htm</A>

</LI>
<LI> Common C++ 
<A HREF="http://www.voxilla.org/projects/projape.html">http://www.voxilla.org/projects/projape.html</A>

</LI>
<LI> Large List of free C++ libs
<A HREF="http://www.thefreecountry.com/developercity/freelib.html">http://www.thefreecountry.com/developercity/freelib.html</A>

</LI>
<LI> C++ Tools 
<A HREF="http://development.freeservers.com">http://development.freeservers.com</A>

</LI>
<LI> C++ Tools CUJ 
<A HREF="http://www.cuj.com/code">http://www.cuj.com/code</A>

</LI>
<LI> C++ CUJ articles 
<A HREF="http://www.cuj.com/articles">http://www.cuj.com/articles</A>

</LI>
<LI> C++libs Univ of vaasa 
<A HREF="http://garbo.uwasa.fi/pc/c-lang.html">http://garbo.uwasa.fi/pc/c-lang.html</A></LI>
</UL>
</P>

<H2><A NAME="ss19.1">19.1 Memory Tools</A>
</H2>

<P>Use the following memory debugging tools
<UL>
<LI> The <B>"MPatrol"</B> is a very powerful memory debugging tool. 
It is at 
<A HREF="http://www.cbmamiga.demon.co.uk/mpatrol">http://www.cbmamiga.demon.co.uk/mpatrol</A>
and at 
<A HREF="http://www.rpmfind.net">http://www.rpmfind.net</A> go here and search mpatrol.
If you are using Linux then you must download the mpatrol*.src.rpm file from the
rpmfind.net. To update the mpatrol*.src.rpm to latest version, you can use the
old mpatrol.spec file and latest mpatrol*.tar.gz file to rebuild new *.src.rpm.

</LI>
<LI> On Linux contrib cdrom see mem_test*.rpm package
and at 
<A HREF="http://www.rpmfind.net">http://www.rpmfind.net</A> go here and search mem_test.

</LI>
<LI> On Linux cdrom see ElectricFence*.rpm package
and at 
<A HREF="http://www.rpmfind.net">http://www.rpmfind.net</A> go here and search electricfence.

</LI>
<LI> Purify Tool from Rational Software Corp 
<A HREF="http://www.rational.com">http://www.rational.com</A>

</LI>
<LI> Insure++ Tool from Parasoft Corp 
<A HREF="http://www.parasoft.com">http://www.parasoft.com</A>

</LI>
<LI> Linux Tools at 
<A HREF="http://www.xnet.com/~blatura/linapp6.html#tools">http://www.xnet.com/~blatura/linapp6.html#tools</A>

</LI>
<LI> Search the Internet engines like Google, Yahoo, Lycos, Excite, Mamma.com
for keyword "Linux memory debugging tools".

</LI>
</UL>
</P>



<H2><A NAME="s20">20. Other Formats of this Document</A></H2>

<P>This document is published in 14 different formats namely - DVI, Postscript, 
Latex, Adobe Acrobat PDF,
LyX, GNU-info, HTML, RTF(Rich Text Format), Plain-text, Unix man pages, single 
HTML file, SGML (linuxdoc format), SGML (Docbook format), MS WinHelp format.</P>
<P>This howto document is located at -
<UL>
<LI> 
<A HREF="http://www.linuxdoc.org">http://www.linuxdoc.org</A> and click on HOWTOs and search 
for howto document name using CTRL+f or ALT+f within the web-browser.</LI>
</UL>
</P>
<P>You can also find this document at the following mirrors sites -
<UL>
<LI> 
<A HREF="http://www.caldera.com/LDP/HOWTO">http://www.caldera.com/LDP/HOWTO</A></LI>
<LI> 
<A HREF="http://www.linux.ucla.edu/LDP">http://www.linux.ucla.edu/LDP</A></LI>
<LI> 
<A HREF="http://www.cc.gatech.edu/linux/LDP">http://www.cc.gatech.edu/linux/LDP</A></LI>
<LI> 
<A HREF="http://www.redhat.com/mirrors/LDP">http://www.redhat.com/mirrors/LDP</A>
</LI>
<LI> Other mirror sites near you (network-address-wise) can be found at
<A HREF="http://www.linuxdoc.org/mirrors.html">http://www.linuxdoc.org/mirrors.html</A>
select a site and go to directory /LDP/HOWTO/xxxxx-HOWTO.html</LI>
</UL>
</P>

<P>
<UL>
<LI>You can get this HOWTO document as a single file tar ball in HTML, DVI, 
Postscript or SGML formats from -
<A HREF="ftp://www.linuxdoc.org/pub/linux/docs/HOWTO/other-formats/">ftp://www.linuxdoc.org/pub/linux/docs/HOWTO/other-formats/</A>
and 
<A HREF="http://www.linuxdoc.org/docs.html#howto">http://www.linuxdoc.org/docs.html#howto</A>

</LI>
<LI>Plain text format is in: 
<A HREF="ftp://www.linuxdoc.org/pub/linux/docs/HOWTO">ftp://www.linuxdoc.org/pub/linux/docs/HOWTO</A>
and 
<A HREF="http://www.linuxdoc.org/docs.html#howto">http://www.linuxdoc.org/docs.html#howto</A>

</LI>
<LI>Single HTML file format is in: 
<A HREF="http://www.linuxdoc.org/docs.html#howto">http://www.linuxdoc.org/docs.html#howto</A>
<P> Single HTML file can be created with command (see man sgml2html) - 
sgml2html -split 0   xxxxhowto.sgml</P>

</LI>
<LI>Translations to other languages like French, German, Spanish, 
Chinese, Japanese are in
<A HREF="ftp://www.linuxdoc.org/pub/linux/docs/HOWTO">ftp://www.linuxdoc.org/pub/linux/docs/HOWTO</A>
and 
<A HREF="http://www.linuxdoc.org/docs.html#howto">http://www.linuxdoc.org/docs.html#howto</A>
Any help from you to translate to other languages is welcome.</LI>
</UL>

The document is written using a tool called "SGML-Tools" which can be got from - 
<A HREF="http://www.sgmltools.org">http://www.sgmltools.org</A>
Compiling the source you will get the following commands like
<UL>
<LI>sgml2html xxxxhowto.sgml     (to generate html file)</LI>
<LI>sgml2html -split 0   xxxxhowto.sgml (to generate a single page html file)</LI>
<LI>sgml2rtf  xxxxhowto.sgml     (to generate RTF file)</LI>
<LI>sgml2latex xxxxhowto.sgml    (to generate latex file)</LI>
</UL>
</P>



<H2><A NAME="acrobatpdf"></A> <A NAME="ss20.1">20.1 Acrobat PDF format </A>
</H2>

<P>PDF file can be generated from postscript file using 
either acrobat <B>distill</B> or <B>Ghostscript</B>.
And postscript file is generated
from DVI which in turn is generated from LaTex file.
You can download distill software from 
<A HREF="http://www.adobe.com">http://www.adobe.com</A>. Given below 
is a sample session:
<HR>
<PRE>
bash$ man sgml2latex
bash$ sgml2latex filename.sgml
bash$ man dvips
bash$ dvips -o filename.ps filename.dvi
bash$ distill filename.ps
bash$ man ghostscript
bash$ man ps2pdf
bash$ ps2pdf input.ps output.pdf
bash$ acroread output.pdf &amp;
</PRE>
<HR>

Or you can use Ghostscript command <B>ps2pdf</B>.
ps2pdf is a work-alike for nearly all the functionality of 
Adobe's Acrobat Distiller product: it
converts PostScript files to Portable Document Format (PDF) files. 
<B>ps2pdf</B> is implemented as a very small command script 
(batch file) that invokes Ghostscript, selecting a special "output device"
called <B>pdfwrite</B>. In order to use ps2pdf, the pdfwrite 
device must be included in the makefile when Ghostscript was compiled;
see the documentation on building Ghostscript for details.</P>



<H2><A NAME="linuxdoc2docbook"></A> <A NAME="ss20.2">20.2 Convert linuxdoc to Docbook format </A>
</H2>

<P>This document is written in linuxdoc SGML format. The Docbook SGML format
supersedes the linuxdoc format and has lot more features than linuxdoc.
The linuxdoc is very simple and is easy to use. To convert linuxdoc SGML 
file to Docbook SGML use the program <B>ld2db.sh</B> and some PERL scripts.
The ld2db output is not 100% clean and you need to use the <B>clean_ld2db.pl</B>
PERL script. You may need to manually correct few lines in the document.
<UL>
<LI> Download ld2db program from 
<A HREF="http://www.dcs.gla.ac.uk/~rrt/docbook.html">http://www.dcs.gla.ac.uk/~rrt/docbook.html</A>
or from 
<A HREF="http://www.milkywaygalaxy.freeservers.com">Milkyway Galaxy site</A></LI>
<LI> Download the cleanup_ld2db.pl PERL script from
from 
<A HREF="http://www.milkywaygalaxy.freeservers.com">Milkyway Galaxy site</A></LI>
</UL>

The ld2db.sh is not 100% clean, you will get lots of errors when you run
<HR>
<PRE>
        bash$ ld2db.sh file-linuxdoc.sgml db.sgml
        bash$ cleanup.pl db.sgml > db_clean.sgml
        bash$ gvim db_clean.sgml 
        bash$ docbook2html db.sgml
</PRE>
<HR>

And you may have to manually edit some of the minor errors after 
running the PERL script. For e.g. you may need to put closing tag &lt;
/Para> for each &lt;
Listitem></P>



<H2><A NAME="mswinhelp"></A> <A NAME="ss20.3">20.3 Convert to MS WinHelp format </A>
</H2>

<P>You can convert the SGML howto document to Microsoft Windows Help file, 
first convert the sgml to html using:
<HR>
<PRE>
        bash$ sgml2html xxxxhowto.sgml     (to generate html file)
        bash$ sgml2html -split 0   xxxxhowto.sgml (to generate a single page html file)
</PRE>
<HR>

Then use the tool 
<A HREF="http://Javadocs.planetmirror.com/htmltohlpe.html">HtmlToHlp</A>.
You can also use sgml2rtf and then use the RTF files for generating winhelp files.</P>


<H2><A NAME="readformats"></A> <A NAME="ss20.4">20.4 Reading various formats </A>
</H2>

<P>In order to view the document in dvi format, use the xdvi program. The xdvi
program is located in tetex-xdvi*.rpm package in Redhat Linux which can be
located through ControlPanel | Applications | Publishing | TeX menu buttons.
To read dvi document give the command -
<BLOCKQUOTE><CODE>
<PRE>
        xdvi -geometry 80x90 howto.dvi
        man xdvi
</PRE>
</CODE></BLOCKQUOTE>

And resize the window with mouse.
To navigate use Arrow keys, Page Up, Page Down keys, also
you can use 'f', 'd', 'u', 'c', 'l', 'r', 'p', 'n' letter
keys to move up, down, center, next page, previous page etc.
To turn off expert menu press 'x'.</P>
<P>You can read postscript file using the program 'gv' (ghostview) or 
'ghostscript'.
The ghostscript program is in ghostscript*.rpm package and gv 
program is in gv*.rpm package in Redhat Linux
which can be located through ControlPanel | Applications | Graphics menu 
buttons. The gv program is much more user friendly than ghostscript.
Also ghostscript and gv are available on other platforms like OS/2,
Windows 95 and NT, you view this document even on those platforms.</P>
<P>
<UL>
<LI>Get ghostscript for Windows 95, OS/2, and for 
all OSes from 
<A HREF="http://www.cs.wisc.edu/~ghost">http://www.cs.wisc.edu/~ghost</A></LI>
</UL>
</P>
<P>To read postscript document give the command -
<BLOCKQUOTE><CODE>
<PRE>
                gv howto.ps
                ghostscript howto.ps
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>You can read HTML format document using Netscape Navigator, Microsoft Internet
explorer, Redhat Baron Web browser or any of the 10 other web browsers.</P>
<P>You can read the latex, LyX output using LyX a X-Windows front end to latex.</P>



<H2><A NAME="s21">21. Translations To Other Languages</A></H2>

<P>
<UL>
<LI> Translation to Polish is at 
<A HREF="http://www.3miasto.net/~chq/c/howto/book1.htm">http://www.3miasto.net/~chq/c/howto/book1.htm</A>
thanks to Darek Ostolski 
<A HREF="mailto:chq@wp.pl">Darek Ostolski</A></LI>
<LI>Translations to other languages like French, German, Spanish, 
Chinese, Japanese are in
<A HREF="ftp://www.linuxdoc.org/pub/linux/docs/HOWTO">ftp://www.linuxdoc.org/pub/linux/docs/HOWTO</A>
and 
<A HREF="http://www.linuxdoc.org/docs.html#howto">http://www.linuxdoc.org/docs.html#howto</A></LI>
</UL>

Any help from you to translate to other languages is welcome.</P>



<H2><A NAME="s22">22. Copyright</A></H2>

<P>Copyright policy is GNU/GPL as per LDP (Linux Documentation project).
LDP is a GNU/GPL project.
Additional requests are that you retain the author's name, email address
and this copyright notice on all the copies. If you make any changes 
or additions to this document then you please 
intimate all the authors of this document.
Brand names mentioned in this document are property of their respective 
owners.</P>



<H2><A NAME="Appendix A"></A> <A NAME="s23">23. Appendix A String Program Files </A></H2>


<P>You can <B>download all programs as a single tar.gz</B> file from 
<A HREF="#Download String">Download String</A>

and give the following command to unpack
<HR>
<PRE>
bash$ man tar
bash$ tar ztvf C++Programming-HOWTO.tar.gz
This will list the table of contents 

bash$ tar zxvf C++Programming-HOWTO.tar.gz
This will extract the files
</PRE>
<HR>
</P>
<P>
<UL>
<LI> Read the header file first and then see the example cpp program
<UL>
<LI> String.h</LI>
<LI> StringBuffer.h</LI>
<LI> StringTokenizer.h</LI>
<LI> StringRW.h</LI>
<LI> string_multi.h</LI>
<LI> example_String.cpp 
<A HREF="http://www.milkywaygalaxy.freeservers.com">example_String.cpp</A>
click on 'Source code of C++ howto'.</LI>
</UL>



</LI>
<LI> File manipulation class, only length() function is implemented..
<UL>
<LI> File.h</LI>
<LI> File.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">File.cpp</A>
click on 'Source code of C++ howto'.</LI>
</UL>



</LI>
<LI> The zap() implemented here ..
<UL>
<LI> my_malloc.h</LI>
<LI> my_malloc.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">my_malloc.cpp</A>
click on 'Source code of C++ howto'.</LI>
</UL>



</LI>
<LI> Implementation of String class...
<UL>
<LI> String.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">String.cpp</A>
click on 'Source code of C++ howto'.</LI>
<LI> StringTokenizer.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">StringTokenizer.cpp</A>
click on 'Source code of C++ howto'.</LI>
<LI> StringBuffer.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">StringBuffer.cpp</A>
click on 'Source code of C++ howto'.</LI>
<LI> StringRW.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">StringRW.cpp</A>
click on 'Source code of C++ howto'.</LI>
</UL>



</LI>
<LI> Debug facilities ..
<UL>
<LI> debug.h</LI>
<LI> debug.cpp
<A HREF="http://www.milkywaygalaxy.freeservers.com">debug.cpp</A>
click on 'Source code of C++ howto'.</LI>
<LI> Makefile.unx</LI>
</UL>



</LI>
<LI> Sample Java file for testing the functionalities of String class ..
<UL>
<LI> string.java</LI>
</UL>

</LI>
</UL>
</P>




<H2><A NAME="Appendix B"></A> <A NAME="s24">24. Appendix B C++ v/s Java </A></H2>

<P>The students in Universities can debate the pros and cons of C++ and Java.
Just for a debate sake, given below are some points discussing C++ versus Java:</P>
<P>
<OL>
<LI><B>Generic Programming:</B> C++ has an extremely powerful template meta
language, that allows a programmer to reuse many algorithms without paying
neither performance, nor conveniences like type safety, for it.  The
somewhat equivalent for java, which is "all classes inherit from Object",
so that you can have vectors, lists, cloneable, etc., is at the same time
cumbersome and dangerous, beacuse it forces programmers to duplicate code
possibly introducing nasty minor bugs -the ones that results in intermitent
failures, the worsts of all- doing that re-implementations. 
Conclusions are that :
<UL>
<LI> The issue is being addressed right now (next version of Java spec will have
some genericity), justifying C++ for having it in since quite a while, 
and </LI>
<LI> Language designers wanted to avoid compiler complications due to meta
programming, praising C++ for being brave.  When would we see
things like "expression templates" in Java ? Perhaps never...</LI>
</UL>



</LI>
<LI> <B>Multiple Inheritance: </B>Java doesn't allow multiple inheritance:  
While it allows a class to
implement as many interfaces as it wants, a new class can not make use of
"arquetipical" implementations of the interfaces.  What happens all
the time, is that the programmer simply produces such implementation of the
interface, and then copies and pastes that into each new class that
implements it.  The problem with that is the same as above:  minor bugs
leading to intermitent crashes, and also the problem that once you decide
to change the interface.... you have to browse in all your code for each
implementation to adapt it to the change.... that is the most anti Object Oriented
practice you could find.  Instead, in C++ you simply inherit some virtual
methods from the "interface class", and just re-implement the really
important pure virtual methods of the base class (the real interface). In
that way, you can provide directly in the base class some services
(methods) for implementers of its pure virtual ones.  Some computer
intellectuals say that multiple inheritance is an error.  
It is a very important tool for
describing the reality to the computer (design).


</LI>
<LI> <B>Operator overloading:</B> Suppose you are developing some numerical
recipes, and you work with matrices, where you have to transpose, invert,
add, multiply by scalar, etc.  So, honestly, what do you prefer?:  (A, B,
C, D matrices and scale a double):
<HR>
<PRE>
        A = scale * B^-1 *  (C + D)  * ~B   
        (in C++ overloading * twice, +, ^, and ~ operators)
        to this Java equivalent :
        A.assign(B.invert().scalar_product(scale).product(C.add(D)).product(B.transpose())
</PRE>
<HR>


By the way, these are real life examples.


</LI>
<LI> This differentiates C++ from Java:   C++ is a very rich language, and
yet, easily extensible (but not mutable, as Stroustrup says), but in the
other hand, Java is a very poor language (altough it is very useful), and not 
extensible at all.  If you need something outside what
normal Java can provide, you have no alternative - use JNI. Consequently,
many many important programming techniques or design patterns can be
naturally expressed in C++ only.


</LI>
<LI> Some more points .... to come in future..</LI>
</OL>
</P>

</BODY>
</HTML>
