<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>7.  Tips and tricks</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="The Linux Kernel HOWTO"><link rel="up" href="index.html" title="The Linux Kernel HOWTO"><link rel="prev" href="ar01s06.html" title="6.  Patching the kernel"><link rel="next" href="ar01s08.html" title="8.  Mount RPMs With FTPFS"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7. 
      Tips and tricks 
    </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s06.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s08.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tips_and_tricks"></a>7. 
      Tips and tricks 
    </h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm431"></a>7.1. 
        Redirecting output of the make or patch commands 
      </h3></div></div></div><p>
        If you would like logs of what those ` 
        <code class="literal">
          make 
        </code>
        ' or ` 
        <code class="literal">
          patch 
        </code>
        ' commands did, you can redirect output to a file. First, find out 
        what shell you're running: ` 
        <code class="literal">
          grep root /etc/passwd 
        </code>
        ' and look for something like ` 
        <code class="literal">
          /bin/csh 
        </code>
        '. 
      </p><p>
        If you use sh or bash, (command) 2&gt;&amp;1 | tee (output file) will 
        place a copy of 
        <code class="literal">
          (command) 
        </code>
        's output in the file ` 
        <code class="literal">
          (output file) 
        </code>
        '. 
      </p><p>
        For csh or tcsh, use (command) |&amp; tee (output file) 
      </p><p>
        For rc (Note: you probably do not use rc) it's (command) &gt;[2=1] | 
        tee (output file) 
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm443"></a>7.2. 
        Conditional kernel install 
      </h3></div></div></div><p>
        Other than using floppy disks, there are several methods of testing 
        out a new kernel without touching the old one. Unlike many other Unix 
        flavors, LILO has the ability to boot a kernel from anywhere on the 
        disk (if you have a large (500 MB or above) disk, please read over the 
        LILO documentation on how this may cause problems). So, if you add 
        something similar to image = /usr/src/linux/arch/i386/boot/bzImage 
        label = new_kernel to the end of your LILO configuration file, you can 
        choose to run a newly compiled kernel without touching your old 
        <code class="literal">
          /vmlinuz 
        </code>
        (after running 
        <code class="literal">
          lilo 
        </code>
        , of course). The easiest way to tell LILO to boot a new kernel is to 
        press the shift key at bootup time (when it says 
        <code class="literal">
          LILO 
        </code>
        on the screen, and nothing else), which gives you a prompt. At this 
        point, you can enter ` 
        <code class="literal">
          new_kernel 
        </code>
        ' to boot the new kernel. 
      </p><p>
        If you wish to keep several different kernel source trees on your 
        system at the same time (this can take up a 
        <span class="emphasis"><em>
          lot 
        </em></span>
        of disk space; be careful), the most common way is to name them 
        <code class="literal">
          /usr/src/linux-x.y.z 
        </code>
        , where 
        <code class="literal">
          x.y.z 
        </code>
        is the kernel version. You can then ``select'' a source tree with a 
        symbolic link; for example, ` 
        <code class="literal">
          ln -sf linux-1.2.2 /usr/src/linux 
        </code>
        ' would make the 1.2.2 tree current. Before creating a symbolic link 
        like this, make certain that the last argument to 
        <code class="literal">
          ln 
        </code>
        is not a real directory (old symbolic links are fine); the result will 
        not be what you expect. 
      </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm456"></a>7.3. 
        Kernel updates 
      </h3></div></div></div><p>
        Russell Nelson ( 
        <code class="literal">
          nelson@crynwr.com 
        </code>
        ) summarizes the changes in new kernel releases. These are short, and 
        you might like to look at them before an upgrade. They are available 
        with anonymous ftp from 
        <a class="ulink" href="ftp://ftp.emlist.com" target="_top">
          "ftp://ftp.emlist.com" 
        </a>
        in 
        <code class="literal">
          pub/kchanges 
        </code>
        or through the URL 
        <a class="ulink" href="http://www.crynwr.com/kchanges" target="_top">
          "http://www.crynwr.com/kchanges" 
        </a>
      </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s06.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s08.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">6. 
      Patching the kernel 
     </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 8. 
      Mount RPMs With FTPFS 
    </td></tr></table></div></body></html>
