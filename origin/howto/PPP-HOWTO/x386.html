<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>I have compiled PPP support into the kernel, but...</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Linux PPP HOWTO"
HREF="index.html"><LINK
REL="UP"
TITLE="Debugging"
HREF="problems.html"><LINK
REL="PREVIOUS"
TITLE="Debugging"
HREF="problems.html"><LINK
REL="NEXT"
TITLE="My modem connects but ppp never starts up"
HREF="x412.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><A
HREF="http://www.linuxports.com/howto/ppp"
TARGET="_top"
>Linux PPP HOWTO</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="problems.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 8. Debugging</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x412.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN386"
>8.1. I have compiled PPP support into the kernel, but...</A
></H1
><P
>A very common problem is that people compile PPP support into the kernel
and yet when they try to run pppd, the kernel complains that it does not
support ppp! There are a variety of reasons this can occur.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN389"
>8.1.1. Are you booting the right kernel?</A
></H2
><P
>Whilst you <EM
>have</EM
> recompiled your kernel to support ppp, you
are not booting the new kernel. This can happen if you do not update
<TT
CLASS="LITERAL"
>/etc/lilo.conf</TT
> and rerun lilo.</P
><P
>A good check on the kernel can be obtained by issuing the command
<TT
CLASS="LITERAL"
>uname -a</TT
>, which should produce a line like:-</P
><P
>&#13;<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>Linux archenland 2.0.28 #2 Thu Feb 13 12:31:37 EST 1997 i586</PRE
></FONT
></TD
></TR
></TABLE
>&#13;</P
><P
>This gives the kernel version and the date on which this kernel was
compiled - which should give you a pretty good idea of what is going on.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN399"
>8.1.2. Did you compile ppp kernel support as a module?</A
></H2
><P
>If you compiled your kernel ppp support as a module, but did not make
and install the modules, then you can get this error. Check the
kernel-HOWTO and the README file in <TT
CLASS="LITERAL"
>/usr/src/linux</TT
>!</P
><P
>Another module connected possibility is that you are expecting required
modules to be automatically loaded, but are not running the <TT
CLASS="LITERAL"
>kerneld</TT
>
daemon (which auto-loads and unloads modules on the fly). Check the
kerneld mini-HOWTO for information on setting up kerneld.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN405"
>8.1.3. Are you using the correct version of PPP for your kernel?</A
></H2
><P
>You <EM
>must</EM
> use ppp-2.2 with kernel version 2.0.x. You can use ppp-2.2
with kernel version 1.2.x (if you patch the kernel), otherwise you must
use ppp-2.1.2.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN409"
>8.1.4. Are you running pppd as root?</A
></H2
><P
>If you are not running pppd as the root user (and pppd is not suid to
root), you can receive this message.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="problems.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x412.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Debugging</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="problems.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>My modem connects but ppp never starts up</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>