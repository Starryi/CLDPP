<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Printer Connection</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="laptop, notebook, pda, handheld, computer, mobile, linux, irda, remote"><link rel="home" href="index.html" title="Linux Infrared HOWTO"><link rel="up" href="ch03.html" title="Chapter 3. Specific Connections and IrDA - Protocols"><link rel="prev" href="ch03s01.html" title="1. Starting the IrDA Stack"><link rel="next" href="ch03s03.html" title="3. LAN Connection - IrLAN"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Printer Connection</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s01.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Specific Connections and IrDA - Protocols</th><td width="20%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="infrared-howto-s-printer-connection"></a>2. Printer Connection</h2></div></div></div><p>
   Prepare Linux/IrDA as described above. Especially  check for the
   existence of <code class="filename">/dev/irlpt*</code>
   (if it doesn't exists do as root <span class="command"><strong>mknod /dev/irlpt0 c 161 16</strong></span>). 
   Now you may perform a first and simple test.
   Try to write a small file to <code class="filename">/dev/irlpt0</code> by 
   <span class="command"><strong>cat FILE &gt;/dev/irlpt0</strong></span>.
   Do not wonder about a bad format (the lines form sort of steps)
   this is just a first check.
   If this doesn't work please check the permissions of
   <code class="filename">/dev/irlpt0</code>.
   Watch whether the connection indicator of your printer shows
   activity, e.g. the green light above the InfraRed port of a HP 6P/MP
   comes on (lower left hand corner, near the paper tray).
</p><p>
   The <span class="command"><strong>cat</strong></span> command will not produce formatted
   output, but is useful for testing. If it works, you may set up 
   an IrDA capable printer depending on your printer system.
   See the documentation, e.g. the Printing-HOWTO from
   <a class="ulink" href="http://www.linuxprinting.org" target="_top">LinuxPrinting.org</a>
   for detailed information.
</p><p>
   With the
   <a class="ulink" href="http://www.cups.org" target="_top">Common Unix Printing System - CUPS</a>
   use for example with a HP LaserJet 2100:

</p><pre class="programlisting">
lpadmin -p IRDA_PRINTER_NAME -v parallel:/dev/irlpt0 -E -m de/hp2100_6.ppd.gz
</pre><p>

   To get a list of paths to your ppd files use <span class="command"><strong>lpinfo -m</strong></span>.
</p><p>
   Of course other printing systems will also work, e.g. you 
   may edit <code class="filename">/etc/printcap</code> and include
   <code class="filename">irlpt0</code> as the printer device.
</p><p>
   The better way is to change your <code class="filename">/etc/printcap</code>
   to use <code class="filename">/dev/irlpt0</code>
   in addition or instead of <code class="filename">/dev/lp1</code>. 
</p><p>
   For easy printer setup you may use a printing software like
   APSFILTER, MagicFilter EZ-Magic (with RedHat there should also be
   a GUI for this purpose). Make a copy of <code class="filename">/etc/printcap</code> before.
</p><p>
   Example for APSFILTER with a HP 6P (non-postscript, HP 6MP is with
   postscript). The two relevant questions are:
   "Do you have a (s)serial or a (p)arallel printer interface?"
   Answer "p"
   "What's the device name for your parallel printer interface?"
   Answer "/dev/irlpt0"
</p><p>
   Restart the print daemon with 
   <span class="command"><strong>kill -HUP &lt;PID of lpd&gt;</strong></span>. If you use
   another print daemon choose the according command.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Starting the IrDA Stack </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. LAN Connection - IrLAN</td></tr></table></div></body></html>
