<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>SLIP/PPP Emulator mini-HOWTO</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>SLIP/PPP Emulator mini-HOWTO</A
></H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>Irish</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
><CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:irish@eskimo.com"
>irish@eskimo.com</A
>&#62;</CODE
>&nbsp;</P
></DIV
></DIV
><P
CLASS="OTHERCREDIT"
><B
>Glen Reesor - </B
><SPAN
CLASS="CONTRIB"
>      Converted document from HTML to DocBook v4.1 (SGML)
   </SPAN
></P
><P
CLASS="PUBDATE"
>2001-02-21<BR></P
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Revision History</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 3.1</TD
><TD
ALIGN="LEFT"
>21 February 2001</TD
><TD
ALIGN="LEFT"
>Revised by: GCR</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 3.0</TD
><TD
ALIGN="LEFT"
>7 August 1997</TD
><TD
ALIGN="LEFT"
>Revised by: Irish</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
></TABLE
></DIV
><DIV
><DIV
CLASS="ABSTRACT"
><P
></P
><A
NAME="AEN23"
></A
><P
>     This document will describe how to get your Linux box to connect
     to a generic site via a SLIP/PPP emulator, such as SLiRP or TIA. I take no
     responsibility for your use of this information, but corrections are
     welcome.
    </P
><P
>     I will not attempt to describe all that can be done over this 
     connection once established, but I will refer you to other documents or 
     sites that will contain the relevant information.
    </P
><P
>     That done, let's do it!
    </P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>1. <A
HREF="#INTRO"
>Introduction</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#COPYRIGHT"
>Copyright Information</A
></DT
><DT
>1.2. <A
HREF="#DISCLAIMER"
>Disclaimer</A
></DT
><DT
>1.3. <A
HREF="#NEWVERSIONS"
>New Versions</A
></DT
><DT
>1.4. <A
HREF="#FEEDBACK"
>Feedback</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#HOW-DOES-IT-WORK"
>How Does an Emulator Work?</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#WHAT-IS-TIA"
>What is TIA?</A
></DT
><DT
>2.2. <A
HREF="#WHAT-IS-SLIRP"
>What is SLiRP?</A
></DT
><DT
>2.3. <A
HREF="#WHAT-ABOUT-TERM"
>What about Term?</A
></DT
><DT
>2.4. <A
HREF="#WHAT-ABOUT-REAL-SLIP"
>What about real SLIP/PPP?</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#PREREQUISITES"
>Prerequisites</A
></DT
><DT
>4. <A
HREF="#PREPARING-YOUR-MACHINE"
>Preparing your Linux Machine</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="#COMPILING-YOUR-KERNEL"
>Compiling your Kernel</A
></DT
><DT
>4.2. <A
HREF="#EDIT-SOME-FILES"
>Edit some files in <TT
CLASS="FILENAME"
>/etc</TT
></A
></DT
><DT
>4.3. <A
HREF="#DIP"
>DIP</A
></DT
><DT
>4.4. <A
HREF="#PPP"
>PPP</A
></DT
></DL
></DD
><DT
>5. <A
HREF="#NOW-WHAT"
>Now What?</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="#MAIL"
>Mail</A
></DT
><DT
>5.2. <A
HREF="#NEWS"
>News</A
></DT
><DT
>5.3. <A
HREF="#MOSAIC-NETSCAPE"
>Mosaic/Netscape</A
></DT
></DL
></DD
><DT
>6. <A
HREF="#MISCELLANEOUS"
>Miscellaneous</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="#REFERENCES"
>References</A
></DT
></DL
></DD
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="INTRO"
>1. Introduction</A
></H2
><P
>   I am Irish, <CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:irish@eskimo.com"
>irish@eskimo.com</A
>&#62;</CODE
>, available for comment on 
   Linux almost everyday, when I'm not petting my cat or hugging my kid.
  </P
><P
>   This HOWTO is available in the following places:
   <P
></P
><UL
><LI
><P
>        <A
HREF="http://www.linuxdoc.org"
TARGET="_top"
>http://www.linuxdoc.org</A
>
      </P
></LI
><LI
><P
>        <A
HREF="ftp://ftp.eskimo.com/u/i/irish"
TARGET="_top"
>ftp://ftp.eskimo.com/u/i/irish</A
>
      </P
></LI
><LI
><P
>        <A
HREF="ftp://sunsite.unc.edu/pub/Linux/docs/HOWTO/mini/TIA"
TARGET="_top"
>ftp://sunsite.unc.edu/pub/Linux/docs/HOWTO/mini/SLIP-PPP-Emulator</A
>
      </P
></LI
></UL
>
  </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="COPYRIGHT"
>1.1. Copyright Information</A
></H3
><P
>    This document is copyrighted (c) 2001 Irish and is
    distributed under the terms of the Linux Documentation Project
    (LDP) license, stated below.
   </P
><P
>    Unless otherwise stated, Linux HOWTO documents are
    copyrighted by their respective authors. Linux HOWTO documents may
    be reproduced and distributed in whole or in part, in any medium
    physical or electronic, as long as this copyright notice is
    retained on all copies. Commercial redistribution is allowed and
    encouraged; however, the author would like to be notified of any
    such distributions.
   </P
><P
>    All translations, derivative works, or aggregate works
    incorporating any Linux HOWTO documents must be covered under this
    copyright notice. That is, you may not produce a derivative work
    from a HOWTO and impose additional restrictions on its
    distribution. Exceptions to these rules may be granted under
    certain conditions; please contact the Linux HOWTO coordinator at
    the address given below.
   </P
><P
>    In short, we wish to promote dissemination of this
    information through as many channels as possible. However, we do
    wish to retain copyright on the HOWTO documents, and would like to
    be notified of any plans to redistribute the HOWTOs.
   </P
><P
>    If you have any questions, please contact 
    <CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:irish@eskimo.com"
>irish@eskimo.com</A
>&#62;</CODE
>
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="DISCLAIMER"
>1.2. Disclaimer</A
></H3
><P
>    No liability for the contents of this documents can be accepted.
    Use the concepts, examples and other content at your own risk.
    As this is a new edition of this document, there may be errors
    and inaccuracies, that may of course be damaging to your system.
    Proceed with caution, and although this is highly unlikely,
    the author(s) do not take any responsibility for that.
   </P
><P
>    All copyrights are held by their by their respective owners, unless
    specifically noted otherwise.  Use of a term in this document
    should not be regarded as affecting the validity of any trademark
    or service mark.
   </P
><P
>    Naming of particular products or brands should not be seen 
    as endorsements.
   </P
><P
>    You are strongly recommended to take a backup of your system 
    before major installation and backups at regular intervals.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="NEWVERSIONS"
>1.3. New Versions</A
></H3
><P
>    The latest version number of this document can be found at:
   <P
></P
><UL
><LI
><P
>        <A
HREF="http://www.linuxdoc.org"
TARGET="_top"
>http://www.linuxdoc.org</A
>
      </P
></LI
><LI
><P
>        <A
HREF="ftp://ftp.eskimo.com/u/i/irish"
TARGET="_top"
>ftp://ftp.eskimo.com/u/i/irish</A
>
      </P
></LI
><LI
><P
>        <A
HREF="ftp://sunsite.unc.edu/pub/Linux/docs/HOWTO/mini/TIA"
TARGET="_top"
>ftp://sunsite.unc.edu/pub/Linux/docs/HOWTO/mini/SLIP-PPP-Emulator</A
>
      </P
></LI
></UL
>

  </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="FEEDBACK"
>1.4. Feedback</A
></H3
><P
>    Feedback is most certainly welcome for this document. Without
    your submissions and input, this document wouldn't exist. Please
    send your additions, comments and criticisms to the following
    email address : <CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:irish@eskimo.com"
>irish@eskimo.com</A
>&#62;</CODE
>.
   </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="HOW-DOES-IT-WORK"
>2. How Does an Emulator Work?</A
></H2
><P
>   It is important to understand how a SLIP/PPP emulator works in
   general, to be aware of its limitations. First, you do not need to install
   the emulator on your machine. It runs on your remote host only. What you
   need on your machine is the TCP/IP and SLIP or PPP protocols installed in 
   your kernel (more on that in a bit), and some clients.
  </P
><P
>   Here's what happens: you send network requests from your machine
   to your remote host over the SLIP/PPP link. The emulator grabs them and
   sends them out to the Net at large. Then, incoming data is sent back from
   the Net to your account on the remote host, where the emulator grabs it
   and sends it back over the SLIP/PPP link to your machine. So, to the Net
   it appears as if you are working out of your account on the remote host,
   but to you it looks like you are really connected right to the Net.
  </P
><P
>   As you can see, this can confuse stuff that is incoming from the
   Net. For example, talk doesn't work via an emulator, because the incoming 
   talk request tries to start the remote hosts talk daemon, not yours.
  </P
><P
>   The other big difference between an emulator and real SLIP/PPP is
   you are NOT assigned your own IP address; remember, you are only
   converting a dialup account to a SLIP/PPP connection.
  </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="WHAT-IS-TIA"
>2.1. What is TIA?</A
></H3
><P
>    <A
HREF="http://www.marketplace.com/tia/tiahome.html"
TARGET="_top"
>The Intenet Adaptor</A
> 
    was written by the fine folks at marketplace.com. They have 
    quit working on it now, and consider it a 'mature' product. The last 
    version is 2.05; if you are going to use TIA, please get this version. 
    
    <DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.png"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>      At last report, marketplace.com have gone out of business.
    </P
></TD
></TR
></TABLE
></DIV
>
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="WHAT-IS-SLIRP"
>2.2. What is SLiRP?</A
></H3
><P
>    This is a freeware application, covered under the GNU Public 
    License. It is out of beta, and is real stable. It sports a few more 
    features than TIA, and is (reportedly) easier on host resources. 
    Available at fine Linux FTP sites everywhere.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="WHAT-ABOUT-TERM"
>2.3. What about Term?</A
></H3
><P
>    If you don't have root access to your machine for one reason or
    another, and you can't persuade someone who does to install SLIP and dip,
    then you won't have much choice except to use Term. If you want to know
    more about Term, please read the HOWTO on Sunsite.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="WHAT-ABOUT-REAL-SLIP"
>2.4. What about real SLIP/PPP?</A
></H3
><P
>    Hey, a lot of places are offering real SLIP/PPP at reasonable 
    prices for non-dedicated dialup nowadays. If you can afford it, or feel 
    the need, go for it. The Real Thing is always better than emulation. 
    However, one of the things an emulator provides is security; it acts as 
    an impregnable firewall, and with it you are pretty much as bulletproof 
    as your provider is. You'll pay for it though, emulation is slower, and 
    does not fully support every protocol. Still and all, emulation is good 
    enough for most people, and is a fine way to connect to the Net.
   </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="PREREQUISITES"
>3. Prerequisites</A
></H2
><P
>    Enough already! How do I set it up?
   </P
><P
>    Alright hotrod, we're getting there, but first there's some info 
    you need to get, and a couple of explanations.
   </P
><P
>    First, you need to get the IP address of your provider, if you don't 
    have it already. You can do this by typing 'who' at a shell prompt there, 
    or reading their <TT
CLASS="FILENAME"
>/etc/hosts</TT
>, or even just asking 
    them. While your getting 
    that, get the IP address of the POP/SMTP host and the NNTP server (if you 
    don't know what those are, trust me and ask for them anyway, you'll need 
    'em).
   </P
><P
>    Next, let me explain quickly about hostnames and domain names. 
    The hostname is the first part of a machines name, the domain is the rest 
    of it. Like this: hostname.domain.name (a four parter would be 
    hostname.do.main.name). Together, they make a Fully Qualified Domain 
    Name (FQDN).
   </P
><P
>    The name of your Linux machine is stored in 
    <TT
CLASS="FILENAME"
>/etc/HOSTNAME</TT
>, and 
    yes, you can change it. In fact, please do (if you're using Slackware, 
    it'll be "darkstar.frop.org" by default). Just edit the 
    <TT
CLASS="FILENAME"
>/etc/HOSTNAME</TT
>
    file to be whatever you want - remember, if you are using an emulator, 
    you are essentially invisible to the Net at large, so you can be 
    creative. However, if you plan to get a real SLIP/PPP connection down the 
    road sometime, you'll probably want to conform to being a sub-host of 
    your provider. For example, if your provider is "info.superhiway.com", 
    the domain is "superhiway.com" and the hostname is "info". So you could 
    either be "offramp.info.superhiway.com" or just "offramp.superhiway.com". 
    Either would work, and in either case your hostname is "offramp".
   </P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="PREPARING-YOUR-MACHINE"
>4. Preparing your Linux Machine</A
></H2
><P
>	In a nutshell, here's what's required. I'll explain the first three
in detail.
   </P
><P
></P
><UL
><LI
><P
>           Compile your kernel to include SLIP and TCP/IP
        </P
></LI
><LI
><P
>           Edit some files in <TT
CLASS="FILENAME"
>/etc</TT
>
        </P
></LI
><LI
><P
>           Install and configure dip
        </P
></LI
><LI
><P
>           Install pppd (optional, for PPP only)
        </P
></LI
></UL
><P
>    You will also need to get an emulator binary appropriate for your
    remote host and install it.  SLiRP is available at 
    <A
HREF="ftp://sunsite.unc.edu/pub/Linux/index.html"
TARGET="_top"
>Sunsite</A
> 
    and other
    fine Linux FTP sites. All of the relevant info for TIA is available at 
    <A
HREF="http://marketplace.com/tiahome/tia.html"
TARGET="_top"
>TIAs home site</A
>. 

   </P
><P
>    That's it!  Let's get started.
   </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="COMPILING-YOUR-KERNEL"
>4.1. Compiling your Kernel</A
></H3
><P
>    If you have never done this, you should. And you should read the 
    FAQ first, but don't worry, it's easy. If you want, you can e-mail me and 
    I'll help.
   </P
><P
>    I'll assume that you have here, for the sake of brevity. When you
    'make config', look for "Network Devices". Say 'y', of course, then say
    'y' to SLIP, CSLIP, (or PPP) and TCP/IP and 'n' to everything else, unless
    you have ethercards or need some other protocol for something else. 
    <EM
>If
    you don't do this, it won't work! </EM
>Finish compiling and 
    installing 
    the new kernel, then,
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="EDIT-SOME-FILES"
>4.2. Edit some files in <TT
CLASS="FILENAME"
>/etc</TT
></A
></H3
><P
>    These files will set up your routes to your remote host. 
    <TT
CLASS="FILENAME"
>/etc</TT
> is
    the directory for system configurations. Replace everything in double
    quotes with the appropriate values, naturally (but don't include the
    quotes - they are there for reference). There are three files you need to
    edit, they are:
   </P
><P
>      <P
></P
><UL
><LI
><P
>         <TT
CLASS="FILENAME"
>/etc/hosts</TT
>
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>#The next line is required to be EXACTLY as below.
127.0.0.1       localhost

#Note at the end of the next two entries the hostname is repeated. 
#This abbreviation is an alias, and is required for the first entry.
#If you're on a LAN, you'll need to substitute your IP address for 
#the first one below.
192.0.2.1       "yourhostname.domain.name  yourhostname"
"XXX.XXX.XX.XX"	"remotehostname.domain.name  remotehostname"  
      </PRE
></FONT
></TD
></TR
></TABLE
>
      </P
></LI
><LI
><P
>         <TT
CLASS="FILENAME"
>/etc/host.conf</TT
>
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>order hosts, bind
multi on
      </PRE
></FONT
></TD
></TR
></TABLE
>
      </P
></LI
><LI
><P
>         <TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>domain "yourdomain.name" 	
#The next line usually uses the same remote IP address that's in /etc/hosts
nameserver "XXX.XXX.XX.XX"
      </PRE
></FONT
></TD
></TR
></TABLE
>
      </P
></LI
><LI
><P
>         To use an NNTPserver, put this line in your 
         <TT
CLASS="FILENAME"
>/etc/profile</TT
>
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>export NNTPSERVER="remote.hosts.nntpservername"
      </PRE
></FONT
></TD
></TR
></TABLE
>
      </P
></LI
></UL
>
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="DIP"
>4.3. DIP</A
></H3
><P
>    DIP (Dialup Internet Protocol) is what you will use to dial up the
    remote host, start the emulator, and convert the line to SLIP/PPP. It
    comes in the "N" set of Slackware, along with a bunch of clients and
    utilities, some of which you may want to install also =). It is also
    available at
    <A
HREF="ftp://sunsite.unc.edu/pub/Linux/index.html"
TARGET="_top"
>Sunsite</A
> 
    in an individual tar file
   </P
><P
>    Once you have it installed, you will need to have a dip script, 
    Here's a sample, just plug in the appropriate stuff where the double 
    quotes are (but don't include the quotes, they are there for reference).
   </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>main:
  get $local "yourhostname.domain.name"
  get $remote "remotehostname.domain.name"

#Your port here
  port cua"?" 

#Use 115200 for 28.8 modems 
  speed 57400
  reset

#don't use spaces in your AT command string! 
  init AT "string of commands" 
  wait OK 5

# This will redial. If it doesn't work, play with the wait time (listen 
# to your modem). If it still doesn't work, mail me.
# <EM
>See also; the note at the bottom of the script re: error codes.</EM
>

dial:
  dial "phonenumber"
  print Dialing...
  if $errlvl != 0 goto error

#You may need to change this wait time to suit your modem
  wait BUSY 20
  if $errlvl == 0 goto dial	

login:
  print Connected and Logging in...

#This wait and send gets me past my hosts Annex. <EM
>Change for your site!</EM
>
  wait ==&#62; 60
  send 4\n
  wait ogin: 60
  if $errlvl != 0 goto login_error1
  send "LOGIN"\n
  wait assword: 60
  if $errlvl != 0 goto login_error2
  send "PASSWORD"\n

loggedin:
  wait "SYSTEM PROMPT" 60
  if $errlvl != 0 goto shell_error
  print Logged in!
  send "emulator startup command"\n
  wait "emulator startup response" 60
  if $errlvl != 0 goto emu_error

#The recommended mtu setting is 1500, but this is faster interactively. 
#Ftp may be slower, so adjust to taste.
  get $mtu 296
  default

done:
  print CONNECTED to $remote with address $rmtip
  mode CSLIP
  goto exit

error:
  print Dialing Error

login_error1:
  print No Login

login_error2:
  print No Password prompt

shell_error:
  print No shell prompt

emu_error:
  There was a problem starting the emulator

exit:

#This will error out when the -v flag is used, but work when run normally 
#(ends dip at a local prompt).
  \r		

   </PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="DIP-NOTES"
>4.3.1. DIP Notes</A
></H4
><P
>    Newer versions of dip don't return modem status codes (BUSY, NO 
    CONNECT, etc.), they use numbers instead. Here's a table:
   <P
></P
><UL
><LI
><P
>         0 = OK
      </P
></LI
><LI
><P
>         1 = CONNECT
      </P
></LI
><LI
><P
>         2 = ERROR
      </P
></LI
><LI
><P
>         3 = BUSY
      </P
></LI
><LI
><P
>         4 = NO CARRIER
      </P
></LI
></UL
>
   </P
><P
>    This would make your dial section look like this:
    <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="PROGRAMLISTING"
>dial:
  dial "phonenumber"
  print Dialing...
  if $errlvl != 0 goto error
  wait 1 20	
  if $errlvl != 1 goto dial
   </PRE
></FONT
></TD
></TR
></TABLE
>
   </P
><P
>    Thanks to Lee Olds <CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:lee@eskimo.com"
>lee@eskimo.com</A
>&#62;</CODE
> for that bit.
   </P
><P
>    \n = newline, \r = carriage return. You may require one or 
    the other (or both) in the appropriate places. If the ones provided don't 
    work, experiment.
   </P
><P
>    A word about the form of the wait and sends. If it isn't clear by 
    the example, here's what's happening:

    <P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>wait ogin: 60</DT
><DD
><P
>         The script will wait for the remote to send 'ogin:' for 60 
         seconds. When it gets it, the script advances. If it doesn't get 
         it, it will advance after the timeout of 60 seconds.
       </P
></DD
><DT
>if $errlvl != 0 goto login_error</DT
><DD
><P
>       (This whole line is optional.)
        If the script is advancing because it got what it was waiting for, 
        this gets skipped. if the script is advancing because it timed out, 
	it will go to where you tell it to ('login_error1' in this case.
       </P
></DD
><DT
>send "LOGIN"\n</DT
><DD
><P
>        DIP will send 'LOGIN' and a newline
       </P
></DD
></DL
></DIV
>
   </P
><P
>    You can put in sleep statements if you need to, like this:
    "sleep 10" This will make the script pause for 10 seconds.
   </P
><P
>    After editing this file, rename it, say, remote.dip and put it in 
    <TT
CLASS="FILENAME"
>/root</TT
>.  Then, as root, run 
    'dip remote'. Use the -v flag the first 
    time to debug it ('dip -v remote'), this will show you all the steps 
    dip takes.
   </P
><P
>    Dip will only run as root, but there is a way to make it run from 
    a user account. For now, if you need this info, ask. I may include it in 
    this file later if enough people want it.
   </P
><P
>    If dip errors out right away, try removing the comments from the 
    script.
   </P
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="PPP"
>4.4. PPP</A
></H3
><P
>    The above gets you rolling with CSLIP, which is really fine 
    most of the time. It truly is easy to get working, since the protocol is 
    supported at the kernel level - just make sure it's in there and it 
    works.
   </P
><P
>    However, some of you will want PPP, for what reasons, only you can
    say. I'm not going to tell you how to set it up here, there's a whole
    other HOWTO written just for that. What I will do is tell you what the 
    gotchas are when using PPP with an emulator.
   </P
><P
>    First, the latest version of DIP says you can use it to start PPP,
    and you can, BUT it only starts the PPP daemon - no flags, nothing. So if
    you want to use DIP to start PPP, be sure to put all of your startup info
    in the <TT
CLASS="FILENAME"
>/etc/ppp/options</TT
> file, or it won't work.
   </P
><P
>    Speaking of the options file, one of the things that MUST be in 
    there no matter how you start pppd is this: '192.0.2.1:XXX.XXX.XX.XX'. 
    What this is is 'localIPaddress:remoteIPaddress'. You need it there 
    because normally pppd can fill in the blank itself, but fails when 
    connecting to an emulator.
   </P
><P
>    Be sure to get the latest and greatest pppd package. It seems 
    there were a few versions recently that had a bit of trouble.
   </P
><P
>    Lastly, unless you have a good reason to use PPP, or just want to 
    learn how it works, you really don't need it. I have tried them both, and 
    didn't notice any performance difference with the standard set of 
    clients. Of course, Your Mileage May Vary. :)
   </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="NOW-WHAT"
>5. Now What?</A
></H2
><P
>    Hey, if all went well, you are now connected to the Net! Try a 
    'telnet remotehostname' (remember that abbreviation in your hosts file?). 
    You should get the remotes telnet login prompt. Go on, try it! You can now 
    telnet/FTP/etc. anywhere on the Net from your local machine. How? Your 
    machine is using the remote as a nameserver to resolve addresses 
    (<TT
CLASS="FILENAME"
>resolv.conf</TT
>). Experiment, find out what works and 
    what doesn't.
   </P
><P
>    You will not be able to use services that are not provided 
    already on your remote host! For example, if your server doesn't allow 
    telnets, chances are you can't do it either. Why? Because the emulator is 
    only re-directing what is already available.
   </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="MAIL"
>5.1. Mail</A
></H3
><P
>    The obvious text based solution is Pine, you can get it from
    <A
HREF="ftp://ftp.cac.washington.edu"
TARGET="_top"
>The University of Washington </A
>.
   </P
><P
>    My pick for 'Best Mail Reader, X Based' has to go to XFmail. This
    has now gotten out of beta, and rocks. Easy to install; requires no local
    mail system be installed (but will work with local spools) because it has
    POP built in - no more popclient/fetchpop! Easy to use; totally 
    customizable 
    from the GUI. Also supports MIME. Get it from
    <A
HREF="http://burka.netvision.net.il/xfmail/xfmail.html"
TARGET="_top"
>The XFmail Homesite</A
>.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="NEWS"
>5.2. News</A
></H3
><P
>    The text based News Reader
    <A
HREF="ftp://space.mit.edu/pub/davis/slrn"
TARGET="_top"
>SLRN</A
> is fairly simple to
    install and use.  It is a true NNTP newsreader, which means 
    <EM
>no local news transport is required</EM
> to make it work 
    (you don't have install
    Cnews or INN). It does require that you have access to an NNTPserver,
    naturally, but most ISPs have this. It is text based, but has
    color and mouse support, and runs fine in an rxvt window.
   </P
><P
>    The X based News Reader
    <A
HREF="http://www.matematik.su.se/~kjj/"
TARGET="_top"
>KNews</A
> is 
    almost perfect. As with SLRN above, no local transport is required, but 
    an NNTP server is. It's at least worth a look.
   </P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="MOSAIC-NETSCAPE"
>5.3. Mosaic/Netscape</A
></H3
><P
>    Obviously, you will need to have X running for this to work, but 
    it's a simple matter of FTPing the binary, unpacking it, 
    and installing it.
   </P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="MISCELLANEOUS"
>6. Miscellaneous</A
></H2
><P
>    If I've left anything out, or you still have questions, I read my 
    mail daily. This information gets updated fairly regularly, so keep 
    checking 
    back every so often (I'll change the version numbers). Naturally, the more 
    you contribute, the more info will be included here, so don't hesitate to 
    tell me about whatever you have to offer.
   </P
><P
>    If you would like some help, or are having trouble with your
    setup, I'll help 
    <EM
>but you must send me the following info:</EM
>
    <P
></P
><OL
TYPE="1"
><LI
><P
>        A copy of your three <TT
CLASS="FILENAME"
>/etc</TT
> files. 
       </P
></LI
><LI
><P
>        A copy of your script output, run with the -v flag 
        (<EM
>please</EM
> remove your password from this!)
       </P
></LI
></OL
>
   </P
><P
>    Even if you don't have anything to contribute, but used this info
    sucsessfully, <EM
>please mail me</EM
>. I want to know how 
    useful this really is.
   </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="REFERENCES"
>6.1. References</A
></H3
><P
>    Sunsite is the FTP site
    <A
HREF="ftp://sunsite.unc.edu/pub/Linux/index.html"
TARGET="_top"
>sunsite.unc.edu</A
>, a
    veritable plethora of everything Linux, including almost every FAQ, HOWTO,
    and README written.
   </P
><P
>    <A
HREF="http://marketplace.com/"
TARGET="_top"
>Marketplace.com</A
> is the home
    of TIA, the only place it is available. <DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.png"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>    Marketplace.com appears to be out of business.
    </P
></TD
></TR
></TABLE
></DIV
>
   </P
><P
>    I am Irish, <CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:irish@eskimo.com"
>irish@eskimo.com</A
>&#62;</CODE
>, available for comment on 
    Linux almost everyday, when
    I'm not petting my cat or hugging my kid.
   </P
><P
> 
   This HOWTO is available in the following places:
   <P
></P
><UL
><LI
><P
>        <A
HREF="http://www.linuxdoc.org"
TARGET="_top"
>http://www.linuxdoc.org</A
>
      </P
></LI
><LI
><P
> 
        <A
HREF="ftp://ftp.eskimo.com/u/i/irish"
TARGET="_top"
>ftp://ftp.eskimo.com/u/i/irish</A
>
      </P
></LI
><LI
><P
>        <A
HREF="ftp://sunsite.unc.edu/pub/Linux/docs/HOWTO/mini/TIA"
TARGET="_top"
>ftp://sunsite.unc.edu/pub/Linux/docs/HOWTO/mini/SLIP-PPP-Emulator</A
>
      </P
></LI
></UL
>
  </P
></DIV
></DIV
></DIV
></BODY
></HTML
>