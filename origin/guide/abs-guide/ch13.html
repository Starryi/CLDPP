<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 13. Arithmetic Expansion</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Advanced Bash-Scripting Guide"><link rel="up" href="pt03.html" title="Part Part 3. Beyond the Basics"><link rel="prev" href="ch12.html" title="Chapter 12. Command Substitution"><link rel="next" href="ch14.html" title="Chapter 14. Recess Time"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 13. Arithmetic Expansion</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch12.html">Prev</a> </td><th width="60%" align="center">Part Part 3. Beyond the Basics</th><td width="20%" align="right"> <a accesskey="n" href="ch14.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="arithexp"></a>Chapter 13. Arithmetic Expansion</h2></div></div></div><p><a name="arithexpref"></a>Arithmetic expansion provides a
	powerful tool for performing (integer) arithmetic
	operations in scripts. Translating a string into a
	numerical expression is relatively straightforward using
	<em class="firstterm">backticks</em>, <em class="firstterm">double
	parentheses</em>, or <em class="firstterm">let</em>.</p><div class="variablelist"><a name="arithexpvar"></a><p class="title"><b><a name="arithexpvar1"></a>Variations</b></p><dl class="variablelist"><dt><span class="term">Arithmetic expansion with <a class="link" href="ch12.html#backquotesref">backticks</a> (often used in
	  conjunction with <a class="link" href="ch16s02.html#exprref">expr</a>)</span></dt><dd><a class="indexterm" name="idm7386"></a><a class="indexterm" name="idm7389"></a><pre class="programlisting">z=`expr $z + 3`          # The 'expr' command performs the expansion.</pre></dd><dt><span class="term">Arithmetic expansion with <a class="link" href="ch08s03.html" title="3. The Double-Parentheses Construct">double
	  parentheses</a>, </span><span class="term">and using <a class="link" href="ch15.html#letref">let</a></span></dt><dd><a class="indexterm" name="idm7400"></a><a class="indexterm" name="idm7403"></a><p>The use of <em class="firstterm">backticks</em>
	      (<em class="firstterm">backquotes</em>) in arithmetic
	      expansion has been superseded by <em class="firstterm">double
	      parentheses</em> --
	      <strong class="userinput"><code>((...))</code></strong> and
	      <strong class="userinput"><code>$((...))</code></strong> -- and also by the very
	      convenient <a class="link" href="ch15.html#letref">let</a> construction.</p><p>
	      </p><pre class="programlisting">z=$(($z+3))
z=$((z+3))                                  #  Also correct.
                                            #  Within double parentheses,
                                            #+ parameter dereferencing
                                            #+ is optional.

# $((EXPRESSION)) is arithmetic expansion.  #  Not to be confused with
                                            #+ command substitution.



# You may also use operations within double parentheses without assignment.

  n=0
  echo "n = $n"                             # n = 0

  (( n += 1 ))                              # Increment.
# (( $n += 1 )) is incorrect!
  echo "n = $n"                             # n = 1


let z=z+3
let "z += 3"  #  Quotes permit the use of spaces in variable assignment.
              #  The 'let' operator actually performs arithmetic evaluation,
              #+ rather than expansion.</pre><p>
	    </p><p>Examples of arithmetic expansion in scripts:
       </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><a class="xref" href="ch16s02.html#ex45" title="Example 16.9. Using expr">Example 16.9, &#8220;Using <em class="firstterm">expr</em>&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch11s01.html#ex25" title="Example 11.15. Simple while loop">Example 11.15, &#8220;Simple <em class="firstterm">while</em> loop&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch27.html#ex66" title="Example 27.1. Simple array usage">Example 27.1, &#8220;Simple array usage&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch27.html#bubble" title="Example 27.11. The Bubble Sort">Example 27.11, &#8220;The Bubble Sort&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="apa.html#tree" title="Example A.16. tree: Displaying a directory tree">Example A.16, &#8220;<em class="firstterm">tree</em>: Displaying a directory tree&#8221;</a></p></li></ol></div><p>
     </p></dd></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch12.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pt03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch14.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 12. Command Substitution </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 14. Recess Time</td></tr></table></div></body></html>
