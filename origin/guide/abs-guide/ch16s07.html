<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>7. Terminal Control Commands</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Advanced Bash-Scripting Guide"><link rel="up" href="ch16.html" title="Chapter 16. External Filters, Programs and Commands"><link rel="prev" href="ch16s06.html" title="6. Communications Commands"><link rel="next" href="ch16s08.html" title="8. Math Commands"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7. Terminal Control Commands</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch16s06.html">Prev</a> </td><th width="60%" align="center">Chapter 16. External Filters, Programs and Commands</th><td width="20%" align="right"> <a accesskey="n" href="ch16s08.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="terminalccmds"></a>7. Terminal Control Commands</h2></div></div></div><div class="variablelist"><a name="termcommandlisting"></a><p class="title"><b><a name="termcommandlisting1"></a>Command affecting the console
	   or terminal</b></p><dl class="variablelist"><dt><span class="term"><a name="tputref"></a><span class="command"><strong>tput</strong></span></span></dt><dd><a class="indexterm" name="idm13730"></a><a class="indexterm" name="idm13732"></a><p>Initialize terminal and/or fetch information about it from
	      <span class="database">terminfo</span> data. Various options permit
	      certain terminal operations:  <span class="command"><strong>tput clear</strong></span>
	      is the equivalent of <a class="link" href="ch16s07.html#clearref">clear</a>;
	      <span class="command"><strong>tput reset</strong></span> is the equivalent
	      of <a class="link" href="ch16s07.html#resetref">reset</a>.</p><p>
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>tput longname</code></strong>
<code class="computeroutput">xterm terminal emulator (X Window System)</code>
	      </pre><p>
	    </p><p>Issuing a <span class="command"><strong>tput cup X Y</strong></span> moves
	      the cursor to the (X,Y) coordinates in the current
	      terminal. A <span class="command"><strong>clear</strong></span> to erase the terminal
	      screen would normally precede this.</p><p>

	      Some interesting options to <em class="firstterm">tput</em> are:

	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="option">bold</code>, for high-intensity
	      text</p></li><li class="listitem"><p><code class="option">smul</code>, to underline text
	      in the terminal</p></li><li class="listitem"><p><code class="option">smso</code>, to render text in
	      reverse</p></li><li class="listitem"><p><code class="option">sgr0</code>, to reset the terminal
	      parameters (to normal), without clearing the
	      screen</p></li></ul></div><p>

	    </p><p>Example scripts using <em class="firstterm">tput</em>:
            </p><div class="orderedlist"><a name="tputexamples"></a><ol class="orderedlist" type="1"><li class="listitem"><p><a class="xref" href="ch36s05.html#colorecho" title="Example 36.15. Echoing colored text">Example 36.15, &#8220;Echoing colored text&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch36s05.html#ex30a" title="Example 36.13. A &#8220;colorized&#8221; address database">Example 36.13, &#8220;A <span class="quote">&#8220;<span class="quote">colorized</span>&#8221;</span> address database&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="apa.html#homework" title="Example A.44. An all-purpose shell scripting homework assignment solution">Example A.44, &#8220;An all-purpose shell scripting homework assignment solution&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="apa.html#nim" title="Example A.42. Nim">Example A.42, &#8220;Nim&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch27.html#poem" title="Example 27.2. Formatting a poem">Example 27.2, &#8220;Formatting a poem&#8221;</a></p></li></ol></div><p>
	    </p><p>Note that <a class="link" href="ch17.html#sttyref">stty</a> offers
	      a more powerful command set for controlling a terminal.</p></dd><dt><span class="term"><a name="infocmpref"></a><span class="command"><strong>infocmp</strong></span></span></dt><dd><a class="indexterm" name="idm13789"></a><a class="indexterm" name="idm13791"></a><p>This command prints out extensive information about the
	      current terminal. It references the
	      <em class="firstterm">terminfo</em> database.</p><p>
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>infocmp</code></strong>
<code class="computeroutput">#       Reconstructed via infocmp from file:
 /usr/share/terminfo/r/rxvt
 rxvt|rxvt terminal emulator (X Window System), 
         am, bce, eo, km, mir, msgr, xenl, xon, 
         colors#8, cols#80, it#8, lines#24, pairs#64, 
         acsc=``aaffggjjkkllmmnnooppqqrrssttuuvvwwxxyyzz{{||}}~~, 
         bel=^G, blink=\E[5m, bold=\E[1m,
         civis=\E[?25l, 
         clear=\E[H\E[2J, cnorm=\E[?25h, cr=^M, 
         ...</code>
	      </pre><p>
	    </p></dd><dt><span class="term"><a name="resetref"></a><span class="command"><strong>reset</strong></span></span></dt><dd><a class="indexterm" name="idm13806"></a><a class="indexterm" name="idm13808"></a><p>Reset terminal parameters and clear text screen. As with
	    <span class="command"><strong>clear</strong></span>, the cursor and prompt reappear in the
	    upper lefthand corner of the terminal.</p></dd><dt><span class="term"><a name="clearref"></a><span class="command"><strong>clear</strong></span></span></dt><dd><a class="indexterm" name="idm13818"></a><a class="indexterm" name="idm13820"></a><p>The <span class="command"><strong>clear</strong></span> command simply clears
	      the text screen at the console or in an
	      <em class="firstterm">xterm</em>. The prompt and cursor
	      reappear at the upper lefthand corner of the screen or
	      xterm window. This command may be used either at the command
	      line or in a script. See <a class="xref" href="ch11s04.html#ex30" title="Example 11.26. Creating menus using case">Example 11.26, &#8220;Creating menus using <em class="firstterm">case</em>&#8221;</a>.</p></dd><dt><span class="term"><a name="resizeref"></a><span class="command"><strong>resize</strong></span></span></dt><dd><a class="indexterm" name="idm13832"></a><a class="indexterm" name="idm13834"></a><p>Echoes commands necessary to set <code class="varname">$TERM</code>
	      and <code class="varname">$TERMCAP</code> to duplicate the
	      <em class="firstterm">size</em> (dimensions) of the current
	      terminal.</p><p>
	        </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>resize</code></strong>
<code class="computeroutput">set noglob;
 setenv COLUMNS '80';
 setenv LINES '24';
 unset noglob;</code>
	        </pre><p>
	      </p></dd><dt><span class="term"><a name="scriptref"></a><span class="command"><strong>script</strong></span></span></dt><dd><a class="indexterm" name="idm13851"></a><a class="indexterm" name="idm13853"></a><p>This utility records (saves to a file) all the user keystrokes at
	      the command-line in a console or an xterm window. This, in effect,
	      creates a record of a session.</p></dd></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch16s06.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch16.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch16s08.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">6. Communications Commands </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 8. Math Commands</td></tr></table></div></body></html>
