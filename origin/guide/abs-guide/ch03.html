<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 3. Special Characters</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Advanced Bash-Scripting Guide"><link rel="up" href="pt02.html" title="Part Part 2. Basics"><link rel="prev" href="pt02.html" title="Part Part 2. Basics"><link rel="next" href="ch04.html" title="Chapter 4. Introduction to Variables and Parameters"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 3. Special Characters</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pt02.html">Prev</a> </td><th width="60%" align="center">Part Part 2. Basics</th><td width="20%" align="right"> <a accesskey="n" href="ch04.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="special-chars"></a>Chapter 3. Special Characters</h2></div></div></div><p>What makes a character <em class="firstterm">special</em>?
        If it has a meaning beyond its
        <em class="firstterm">literal meaning</em>, a <a class="link" href="ch18s01.html#metameaningref">meta-meaning</a>, then we refer
        to it as a <em class="firstterm">special character</em>. Along
        with commands and <a class="link" href="ch15.html#keywordref">keywords</a>,
        <em class="firstterm">special characters</em> are building blocks
        of Bash scripts.</p><div class="variablelist"><a name="scharlist"></a><p class="title"><b><a name="scharlist1"></a>Special Characters Found In
          Scripts and Elsewhere</b></p><dl class="variablelist"><dt><span class="term"><a name="hashmarkref"></a><span class="token">#</span></span></dt><dd><a class="indexterm" name="idm371"></a><a class="indexterm" name="idm373"></a><a class="indexterm" name="idm376"></a><p><b>Comments. </b>Lines beginning with a <span class="token">#</span>
	      (with the exception of <a class="link" href="ch02.html#magnumref">
	      <span class="token">#!</span></a>) are comments and will
	      <span class="emphasis"><em>not</em></span> be executed.</p><pre class="programlisting"># This line is a comment.</pre><p>Comments may also occur following the end of a command.</p><pre class="programlisting">echo "A comment will follow." # Comment here.
#                            ^ Note whitespace before #</pre><p><a name="wsbcomm"></a> Comments may also follow <a class="link" href="ch03.html#whitespaceref">whitespace</a> at the beginning
	      of a line.</p><p>
             </p><pre class="programlisting">     # A tab precedes this comment.</pre><p>
	   </p><p><a name="comminpipe"></a>Comments may even be embedded
              within a <a class="link" href="ch03.html#piperef">pipe</a>.</p><p>
</p><pre class="programlisting">initial=( `cat "$startfile" | sed -e '/#/d' | tr -d '\n' |\
# Delete lines containing '#' comment character.
           sed -e 's/\./\. /g' -e 's/_/_ /g'` )
# Excerpted from life.sh script</pre><p>
	    </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3><p>A command may not follow a comment on the
	      same line. There is no method of terminating the comment,
	      in order for <span class="quote">&#8220;<span class="quote">live code</span>&#8221;</span> to begin on the same
	      line. Use a new line for the next command.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Of course, a <a class="link" href="ch05.html#quotingref">quoted</a>
	    or an <a class="link" href="ch05s02.html#escp">escaped</a> <span class="token">#</span>
	    in an <a class="link" href="ch15.html#echoref">echo</a> statement does
	    <span class="emphasis"><em>not</em></span> begin a comment. Likewise, a
	    <span class="token">#</span> appears in <a class="link" href="ch10s02.html#psub2">certain
	    parameter-substitution constructs</a> and in <a class="link" href="ch08s02.html#numconstants"> numerical constant expressions</a>.

	    </p><pre class="programlisting">echo "The # here does not begin a comment."
echo 'The # here does not begin a comment.'
echo The \# here does not begin a comment.
echo The # here begins a comment.

echo ${PATH#*:}       # Parameter substitution, not a comment.
echo $(( 2#101011 ))  # Base conversion, not a comment.

# Thanks, S.C.</pre><p>

	  The standard <a class="link" href="ch05.html#quotingref">quoting and
	  escape</a> characters (" ' \) escape the #.
	  </p></div><p>Certain <a class="link" href="ch10s02.html#psorex1">pattern matching
	    operations</a> also use the <span class="token">#</span>.</p></dd><dt><span class="term"><a name="semicolonref"></a><span class="token">;</span></span></dt><dd><a class="indexterm" name="idm423"></a><a class="indexterm" name="idm425"></a><a class="indexterm" name="idm428"></a><p><b>Command separator [semicolon]. </b>Permits putting two or more commands on the same
	        line.</p><p>
	      </p><pre class="programlisting">echo hello; echo there


if [ -x "$filename" ]; then    #  Note the space after the semicolon.
#+                   ^^
  echo "File $filename exists."; cp $filename $filename.bak
else   #                       ^^
  echo "File $filename not found."; touch $filename
fi; echo "File test complete."</pre><p>
</p><p>Note that the <span class="quote">&#8220;<span class="quote"><span class="token">;</span></span>&#8221;</span>
	      <a class="link" href="ch16s02.html#findref0">sometimes needs to be
	      <em class="firstterm">escaped</em></a>.</p></dd><dt><span class="term"><span class="token">;;</span></span></dt><dd><a class="indexterm" name="idm444"></a><a class="indexterm" name="idm446"></a><a class="indexterm" name="idm449"></a><p><b>Terminator in a <a class="link" href="ch11s04.html#caseesac1">case</a> option [double semicolon]. </b><a name="doublesemicolon"></a></p><pre class="programlisting">case "$variable" in
  abc)  echo "\$variable = abc" ;;
  xyz)  echo "\$variable = xyz" ;;
esac</pre></dd><dt><span class="term"><span class="token">;;&amp;</span>, </span><span class="term"><span class="token">;&amp;</span></span></dt><dd><a class="indexterm" name="idm464"></a><a class="indexterm" name="idm466"></a><a class="indexterm" name="idm469"></a><a class="indexterm" name="idm472"></a><p><b><a class="link" href="ch37s03.html#ncterm">Terminators</a>
           in a <em class="firstterm">case</em> option (<a class="link" href="ch37s03.html#bash4ref">version 4+</a> of Bash). </b></p></dd><dt><span class="term"><span class="token">.</span></span></dt><dd><a class="indexterm" name="idm484"></a><a class="indexterm" name="idm486"></a><a class="indexterm" name="idm489"></a><a class="indexterm" name="idm491"></a><p><a name="dotref"></a></p><p><b><span class="quote">&#8220;<span class="quote">dot</span>&#8221;</span> command [period]. </b>Equivalent to <a class="link" href="ch15.html#sourceref">source</a> (see
		<a class="xref" href="ch15.html#ex38" title="Example 15.22. &#8220;Including&#8221; a data file">Example 15.22, &#8220;<span class="quote">&#8220;<span class="quote">Including</span>&#8221;</span> a data file&#8221;</a>). This is a bash <a class="link" href="ch15.html#builtinref">builtin</a>.</p></dd><dt><span class="term"><span class="token">.</span></span></dt><dd><a class="indexterm" name="idm506"></a><a class="indexterm" name="idm508"></a><a class="indexterm" name="idm511"></a><a class="indexterm" name="idm513"></a><p><b><span class="quote">&#8220;<span class="quote">dot</span>&#8221;</span>, as a component of a filename. </b>When working with filenames, a leading dot is the prefix
		of a <span class="quote">&#8220;<span class="quote">hidden</span>&#8221;</span> file, a file that an
		<a class="link" href="ch16s01.html#lsref">ls</a> will not normally show.
	        </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>touch .hidden-file</code></strong>
<code class="prompt">bash$ </code><strong class="userinput"><code>ls -l</code></strong>	      
<code class="computeroutput">total 10
 -rw-r--r--    1 bozo      4034 Jul 18 22:04 data1.addressbook
 -rw-r--r--    1 bozo      4602 May 25 13:58 data1.addressbook.bak
 -rw-r--r--    1 bozo       877 Dec 17  2000 employment.addressbook</code>


<code class="prompt">bash$ </code><strong class="userinput"><code>ls -al</code></strong>	      
<code class="computeroutput">total 14
 drwxrwxr-x    2 bozo  bozo      1024 Aug 29 20:54 ./
 drwx------   52 bozo  bozo      3072 Aug 29 20:51 ../
 -rw-r--r--    1 bozo  bozo      4034 Jul 18 22:04 data1.addressbook
 -rw-r--r--    1 bozo  bozo      4602 May 25 13:58 data1.addressbook.bak
 -rw-r--r--    1 bozo  bozo       877 Dec 17  2000 employment.addressbook
 -rw-rw-r--    1 bozo  bozo         0 Aug 29 20:54 .hidden-file</code>
	        </pre><p>
	      </p><p><a name="dotdirectory"></a></p><p>When considering directory names, <em class="firstterm">a single
		dot</em> represents the current working directory,
		and <em class="firstterm">two dots</em> denote the parent
		directory.</p><p>
	        </p><pre class="screen">
<code class="prompt">bash$ </code><strong class="userinput"><code>pwd</code></strong>
<code class="computeroutput">/home/bozo/projects</code>

<code class="prompt">bash$ </code><strong class="userinput"><code>cd .</code></strong>
<code class="prompt">bash$ </code><strong class="userinput"><code>pwd</code></strong>
<code class="computeroutput">/home/bozo/projects</code>

<code class="prompt">bash$ </code><strong class="userinput"><code>cd ..</code></strong>
<code class="prompt">bash$ </code><strong class="userinput"><code>pwd</code></strong>
<code class="computeroutput">/home/bozo/</code>
	        </pre><p>
	      </p><p>The <em class="firstterm">dot</em> often appears as the
	        destination (directory) of a file movement command,
                in this context meaning <em class="firstterm">current
                directory</em>.</p><p>
	        </p><pre class="screen">
<code class="prompt">bash$ </code><strong class="userinput"><code>cp /home/bozo/current_work/junk/* .</code></strong>
	        </pre><p>
		Copy all the <span class="quote">&#8220;<span class="quote">junk</span>&#8221;</span> files to
		<a class="link" href="ch09s01.html#pwdref">$PWD</a>.</p></dd><dt><span class="term"><span class="token">.</span></span></dt><dd><a class="indexterm" name="idm563"></a><a class="indexterm" name="idm565"></a><a class="indexterm" name="idm568"></a><a class="indexterm" name="idm570"></a><p><b><span class="quote">&#8220;<span class="quote">dot</span>&#8221;</span> character match. </b>When <a class="link" href="ch18s01.html#regexdot">matching
	        characters</a>, as part of a <a class="link" href="ch18.html#regexref">regular expression</a>, a
		<span class="quote">&#8220;<span class="quote">dot</span>&#8221;</span> <a class="link" href="ch18s01.html#regexdot">matches a
		single character</a>.</p></dd><dt><span class="term"><span class="token">"</span></span></dt><dd><p><b><a class="link" href="ch04s01.html#dblquo">partial
	    quoting</a> [double quote]. </b><span class="emphasis"><em>"STRING"</em></span> preserves (from
	      interpretation) most of the special characters within
	      <span class="emphasis"><em>STRING</em></span>. See <a class="xref" href="ch05.html" title="Chapter 5. Quoting">Chapter 5, <i>Quoting</i></a>.</p></dd><dt><span class="term"><span class="token">'</span></span></dt><dd><p><b><a class="link" href="ch04s01.html#snglquo">full
	    quoting</a> [single quote]. </b><span class="emphasis"><em>'STRING'</em></span> preserves all special
	      characters within <span class="emphasis"><em>STRING</em></span>. This is a
	      stronger form of quoting than <span class="emphasis"><em>"STRING"</em></span>.
	      See <a class="xref" href="ch05.html" title="Chapter 5. Quoting">Chapter 5, <i>Quoting</i></a>.</p></dd><dt><span class="term"><span class="token">,</span></span></dt><dd><p><b><a class="link" href="ch08s01.html#commaop">comma
	    operator</a>. </b>The <em class="firstterm">comma operator</em>

		<a href="#ftn.idm612" class="footnote" name="idm612"><sup class="footnote">[16]</sup></a>

	      links together a
		series of arithmetic operations. All are evaluated,
		but only the last one is returned.
	       </p><pre class="programlisting">let "t2 = ((a = 9, 15 / 3))"
# Set "a = 9" and "t2 = 15 / 3"</pre><p>
	      </p><p><a name="commaop2"></a>The <em class="firstterm">comma</em>
	      operator can also concatenate strings.
	       </p><pre class="programlisting">for file in /{,usr/}bin/*calc
#             ^    Find all executable files ending in "calc"
#+                 in /bin and /usr/bin directories.
do
        if [ -x "$file" ]
        then
          echo $file
        fi
done

# /bin/ipcalc
# /usr/bin/kcalc
# /usr/bin/oidcalc
# /usr/bin/oocalc


# Thank you, Rory Winston, for pointing this out.</pre><p>
	      </p></dd><dt><span class="term"><span class="token">,</span>, </span><span class="term"><span class="token">,</span></span></dt><dd><p><b><a class="link" href="ch37s03.html#casemodparamsub">Lowercase
            conversion</a> in <em class="firstterm">parameter substitution</em>
            (added in <a class="link" href="ch37s03.html#bash4ref">version 4</a> of Bash). </b></p></dd><dt><span class="term"><span class="token">\</span></span></dt><dd><p><b><a class="link" href="ch05s02.html#escp">escape</a> [backslash]. </b>A quoting mechanism for single characters.</p><p><strong class="userinput"><code>\X</code></strong>
		<em class="firstterm">escapes</em> the character
		<span class="emphasis"><em>X</em></span>. This has the effect of
		<span class="quote">&#8220;<span class="quote">quoting</span>&#8221;</span> <span class="emphasis"><em>X</em></span>, equivalent
		to <span class="emphasis"><em>'X'</em></span>.  The <span class="token">\</span> may
		be used to quote <span class="token">"</span> and <span class="token">'</span>,
		so they are expressed literally.</p><p>See <a class="xref" href="ch05.html" title="Chapter 5. Quoting">Chapter 5, <i>Quoting</i></a> for an in-depth explanation
	        of escaped characters.</p></dd><dt><span class="term"><span class="token">/</span></span></dt><dd><p><b>Filename path separator [forward slash]. </b>Separates the components of a filename (as in
	        <code class="filename">/home/bozo/projects/Makefile</code>).</p><p>This is also the division <a class="link" href="ch08s01.html#arops1">arithmetic operator</a>.</p></dd><dt><span class="term"><a name="backticksref"></a><span class="token">`</span></span></dt><dd><p><b><a class="link" href="ch12.html#commandsubref">command substitution</a>. </b>The <span class="command"><strong>`command`</strong></span> construct makes
		available the output of <span class="command"><strong>command</strong></span>
		for assignment to a variable. This is also known as
		<a class="link" href="ch12.html#backquotesref">backquotes</a> or
		backticks.</p></dd><dt><span class="term"><a name="colon0ref"></a><span class="token">:</span></span></dt><dd><a class="indexterm" name="idm685"></a><a class="indexterm" name="idm687"></a><a class="indexterm" name="idm690"></a><a class="indexterm" name="idm692"></a><a class="indexterm" name="idm694"></a><p><a name="nullref"></a></p><p><b>null command [colon]. </b>This is the shell equivalent of a
		<span class="quote">&#8220;<span class="quote">NOP</span>&#8221;</span> (<em class="replaceable"><code>no op</code></em>, a
		do-nothing operation). It may be considered a synonym for
		the shell builtin <a class="link" href="ch15.html#trueref">true</a>. The
		<span class="quote">&#8220;<span class="quote"><span class="token">:</span></span>&#8221;</span> command is itself a
		<em class="firstterm">Bash</em> <a class="link" href="ch15.html#builtinref">builtin</a>, and its <a class="link" href="ch06.html#exitstatusref">exit status</a> is
		<em class="firstterm">true</em>
		(<span class="returnvalue">0</span>).</p><pre class="programlisting">:
echo $?   # 0</pre><p>Endless loop:</p><pre class="programlisting">
while :
do
   operation-1
   operation-2
   ...
   operation-n
done

# Same as:
#    while true
#    do
#      ...
#    done</pre><p>
	    </p><p>Placeholder in if/then test:</p><pre class="programlisting">
if condition
then :   # Do nothing and branch ahead
else     # Or else ...
   take-some-action
fi</pre><p>
	    </p><p>Provide a placeholder where a binary operation is
	      expected, see <a class="xref" href="ch08s01.html#arithops" title="Example 8.2. Using Arithmetic Operations">Example 8.2, &#8220;Using Arithmetic Operations&#8221;</a> and <a class="link" href="ch10s02.html#defparam">default parameters</a>.</p><pre class="programlisting">: ${username=`whoami`}
# ${username=`whoami`}   Gives an error without the leading :
#                        unless "username" is a command or builtin...

: ${1?"Usage: $0 ARGUMENT"}     # From "usage-message.sh example script.</pre><p>
</p><p>Provide a placeholder where a command is expected in a
	      <a class="link" href="ch19.html#heredocref">here document</a>. See <a class="xref" href="ch19.html#anonheredoc" title="Example 19.10. &#8220;Anonymous&#8221; Here Document">Example 19.10, &#8220;<span class="quote">&#8220;<span class="quote">Anonymous</span>&#8221;</span> Here Document&#8221;</a>.</p><p>Evaluate string of variables using
		<a class="link" href="ch10s02.html#paramsubref">parameter substitution</a>
		(as in <a class="xref" href="ch10s02.html#ex6" title="Example 10.7. Using parameter substitution and error messages">Example 10.7, &#8220;Using parameter substitution and error messages&#8221;</a>).

	    </p><pre class="programlisting">: ${HOSTNAME?} ${USER?} ${MAIL?}
#  Prints error message
#+ if one or more of essential environmental variables not set.</pre><p>
</p><p><span class="command"><strong><a class="link" href="ch10s02.html#exprepl1">Variable expansion / substring
	      replacement</a></strong></span>.</p><p>In combination with the <span class="token">&gt;</span> <a class="link" href="ch20.html#ioredirref">redirection operator</a>,
	      truncates a file to zero length, without changing its
	      permissions. If the file did not previously exist,
	      creates it.

	      </p><pre class="programlisting">: &gt; data.xxx   # File "data.xxx" now empty.	      

# Same effect as   cat /dev/null &gt;data.xxx
# However, this does not fork a new process, since ":" is a builtin.</pre><p>
              See also <a class="xref" href="ch16s04.html#ex12" title="Example 16.15. Using tail to monitor the system log">Example 16.15, &#8220;Using <em class="firstterm">tail</em> to monitor the system log&#8221;</a>.</p><p>In combination with the <span class="token">&gt;&gt;</span>
	      redirection operator, has no effect on a pre-existing
	      target file (<strong class="userinput"><code>: &gt;&gt; target_file</code></strong>).
	      If the file did not previously exist, creates it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p><a name="regfileref"></a>This applies to regular files,
        not pipes, symlinks, and certain special files.</p></div><p>May be used to begin a comment line, although this is not
	      recommended. Using <span class="token">#</span> for a comment turns
	      off error checking for the remainder of that line, so
	      almost anything may appear in a comment. However,
	      this is not the case with
	      <span class="token">:</span>.
	      </p><pre class="programlisting">: This is a comment that generates an error, ( if [ $x -eq 3] ).</pre><p>
	    </p><p>The <span class="quote">&#8220;<span class="quote"><span class="token">:</span></span>&#8221;</span> serves as a <a class="link" href="ch03.html#fieldref">field</a>
	      separator, in <a class="link" href="aph.html#datafilesref1"><code class="filename">/etc/passwd</code></a>,
	      and in the <a class="link" href="ch09s01.html#pathref">$PATH</a> variable.
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>echo $PATH</code></strong>
<code class="computeroutput">/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin:/sbin:/usr/sbin:/usr/games</code></pre><p>
	    </p><p><a name="colonfname"></a></p><p>A <em class="firstterm">colon</em> is <a class="link" href="ch24.html#fstrangeref">acceptable as a function name</a>.
              </p><pre class="programlisting">:()
{
  echo "The name of this function is "$FUNCNAME" "
  # Why use a colon as a function name?
  # It's a way of obfuscating your code.
}

:

# The name of this function is :</pre><p>

	     This is not <a class="link" href="ch36s09.html" title="9. Portability Issues">portable</a>
	     behavior, and therefore not a recommended practice.
             In fact, more recent releases of Bash do not permit
	     this usage. An underscore <span class="command"><strong>_</strong></span> works,
	     though.</p><p><a name="coloninfunction"></a></p><p>A <em class="firstterm">colon</em> can serve
			    as a placeholder in an otherwise empty
			    function.</p><pre class="programlisting">not_empty ()
{
  :
} # Contains a : (null command), and so is not empty.</pre></dd><dt><span class="term"><a name="notref"></a><span class="token">!</span></span></dt><dd><a class="indexterm" name="idm779"></a><a class="indexterm" name="idm781"></a><a class="indexterm" name="idm784"></a><a class="indexterm" name="idm787"></a><p><b>reverse (or negate) the sense of
	      a test or exit status [bang]. </b>The <span class="token">!</span> operator inverts the <a class="link" href="ch06.html#exitstatusref">exit status</a>
		of the command to which it is applied (see
		<a class="xref" href="ch06.html#negcond" title="Example 6.2. Negating a condition using !">Example 6.2, &#8220;Negating a condition using <span class="token">!</span>&#8221;</a>). It also inverts
		the meaning of a test operator. This can, for
		example, change the sense of <em class="firstterm">equal</em>
		( <a class="link" href="ch07s03.html#equalsignref">=</a>
		) to <em class="firstterm">not-equal</em> ( != ). The
		<span class="token">!</span> operator is a Bash <a class="link" href="ch15.html#keywordref">keyword</a>.</p><p>In a different context, the <span class="token">!</span>
	        also appears in <a class="link" href="ch28.html#ivrref">indirect variable
		references</a>.</p><p>In yet another context, from the <em class="firstterm">command
		line</em>, the <span class="token">!</span> invokes the
		Bash <em class="firstterm">history mechanism</em> (see <a class="xref" href="apl.html" title="Appendix L. History Commands">Appendix L, <i>History Commands</i></a>). Note that within a script,
		the history mechanism is disabled.</p></dd><dt><span class="term"><a name="asteriskref"></a><span class="token">*</span></span></dt><dd><a class="indexterm" name="idm813"></a><a class="indexterm" name="idm815"></a><a class="indexterm" name="idm818"></a><a class="indexterm" name="idm821"></a><p><b>wild card [asterisk]. </b>The <span class="token">*</span> character serves as a <span class="quote">&#8220;<span class="quote">wild
	        card</span>&#8221;</span> for filename expansion in
		<a class="link" href="ch18s02.html" title="2. Globbing">globbing</a>. By itself,
		it matches every filename in a given directory.</p><p>
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>echo *</code></strong>
<code class="computeroutput">abs-book.xml add-drive.sh agram.sh alias.sh</code>
	      </pre><p>
	    </p><p><a name="asteriskref2"></a></p><p>The <span class="token">*</span> also represents <a class="link" href="ch18s01.html#asteriskreg">any number
	      (or zero) characters</a> in a <a class="link" href="ch18.html#regexref">regular expression</a>.</p></dd><dt><span class="term"><span class="token">*</span></span></dt><dd><a class="indexterm" name="idm844"></a><a class="indexterm" name="idm846"></a><a class="indexterm" name="idm849"></a><a class="indexterm" name="idm852"></a><p><b><a class="link" href="ch08s01.html#arops1">arithmetic operator</a>. </b>In the context of arithmetic operations, the
	        <span class="token">*</span> denotes multiplication.</p><p><span class="token">**</span> A double asterisk can represent the
              <a class="link" href="ch08s01.html#exponentiationref">exponentiation</a>
              operator or <a class="link" href="ch37s03.html#globstarref">extended
              file-match</a> <em class="firstterm">globbing</em>.</p></dd><dt><span class="term"><span class="token">?</span></span></dt><dd><a class="indexterm" name="idm868"></a><a class="indexterm" name="idm870"></a><a class="indexterm" name="idm873"></a><a class="indexterm" name="idm876"></a><p><b>test operator. </b>Within certain expressions, the <span class="token">?</span> indicates
	        a test for a condition.</p><p><a name="cstrinary"></a></p><p>In a <a class="link" href="ch08s03.html" title="3. The Double-Parentheses Construct">double-parentheses
	        construct</a>, the <span class="token">?</span>
		can serve as an element of a C-style
		<em class="firstterm">trinary</em> operator.
		<a href="#ftn.idm888" class="footnote" name="idm888"><sup class="footnote">[17]</sup></a>
	</p><p><code class="varname">condition</code><span class="command"><strong>?</strong></span><code class="varname">result-if-true</code><span class="command"><strong>:</strong></span><code class="varname">result-if-false</code></p><pre class="programlisting">(( var0 = var1&lt;98?9:21 ))
#                ^ ^

# if [ "$var1" -lt 98 ]
# then
#   var0=9
# else
#   var0=21
# fi</pre><p>In a <a class="link" href="ch10s02.html#paramsubref">parameter
	        substitution</a> expression, the <span class="token">?</span>
		<a class="link" href="ch10s02.html#qerrmsg">tests whether a variable has been
		set</a>.</p></dd><dt><span class="term"><a name="wildcardqu"></a><span class="token">?</span></span></dt><dd><a class="indexterm" name="idm910"></a><a class="indexterm" name="idm912"></a><a class="indexterm" name="idm915"></a><a class="indexterm" name="idm918"></a><p><b>wild card. </b><a name="quexwc"></a>The <span class="token">?</span> character
		serves as a single-character <span class="quote">&#8220;<span class="quote">wild card</span>&#8221;</span>
		for filename expansion in <a class="link" href="ch18s02.html" title="2. Globbing">globbing</a>, as well as <a class="link" href="ch18s01.html#quexregex">representing one character</a>
		in an <a class="link" href="ch18s01.html#extregex">extended regular
		expression</a>.</p></dd><dt><span class="term"><span class="token">$</span></span></dt><dd><a class="indexterm" name="idm933"></a><a class="indexterm" name="idm935"></a><a class="indexterm" name="idm938"></a><p><b><a class="link" href="ch04s01.html" title="1. Variable Substitution">Variable
              substitution</a> (contents of a variable). </b>
	       </p><pre class="programlisting">var1=5
var2=23skidoo

echo $var1     # 5
echo $var2     # 23skidoo</pre><p>
	       </p><p><a name="varprefixref"></a></p><p>A <span class="token">$</span> prefixing a variable name
		indicates the <em class="firstterm">value</em> the variable
		holds.</p></dd><dt><span class="term"><span class="token">$</span></span></dt><dd><a class="indexterm" name="idm954"></a><a class="indexterm" name="idm956"></a><a class="indexterm" name="idm959"></a><a class="indexterm" name="idm961"></a><p><b>end-of-line. </b>In a <a class="link" href="ch18.html#regexref">regular expression</a>, a
		<span class="quote">&#8220;<span class="quote">$</span>&#8221;</span> addresses the <a class="link" href="ch18s01.html#dollarsignref">end of a line</a> of
		text.</p></dd><dt><span class="term"><span class="token">${}</span></span></dt><dd><a class="indexterm" name="idm973"></a><a class="indexterm" name="idm975"></a><a class="indexterm" name="idm978"></a><p><b><a class="link" href="ch10s02.html#paramsubref">Parameter
              substitution</a>. </b></p></dd><dt><span class="term"><span class="token">$' ... '</span></span></dt><dd><a class="indexterm" name="idm988"></a><a class="indexterm" name="idm990"></a><a class="indexterm" name="idm993"></a><a class="indexterm" name="idm995"></a><p><b><a class="link" href="ch05s02.html#strq">Quoted string
                    expansion</a>. </b>This construct expands single or multiple
		      escaped octal or hex values into ASCII

		      <a href="#ftn.idm1001" class="footnote" name="idm1001"><sup class="footnote">[18]</sup></a>
		      
		      or <a class="link" href="ch37s03.html#unicoderef">Unicode</a>
		      characters.</p></dd><dt><span class="term"><span class="token">$*</span>, </span><span class="term"><span class="token">$@</span></span></dt><dd><a class="indexterm" name="idm1017"></a><a class="indexterm" name="idm1019"></a><a class="indexterm" name="idm1022"></a><a class="indexterm" name="idm1025"></a><p><b><a class="link" href="ch09s01.html#appref">positional
	    parameters</a>. </b></p></dd><dt><span class="term"><span class="token">$?</span></span></dt><dd><a class="indexterm" name="idm1035"></a><a class="indexterm" name="idm1037"></a><a class="indexterm" name="idm1040"></a><a class="indexterm" name="idm1043"></a><p><b>exit status variable. </b>The <a class="link" href="ch06.html#exsref">$? variable</a>
	        holds the <a class="link" href="ch06.html#exitstatusref">exit status</a>
		of a command, a <a class="link" href="ch24.html#functionref">function</a>,
		or of the script itself.</p></dd><dt><span class="term"><a name="processidref"></a><span class="token">$$</span></span></dt><dd><a class="indexterm" name="idm1056"></a><a class="indexterm" name="idm1058"></a><a class="indexterm" name="idm1061"></a><a class="indexterm" name="idm1064"></a><p><b>process ID variable. </b>The <a class="link" href="ch09s01.html#proccid">$$ variable</a>
	        holds the <em class="firstterm">process ID</em>
		  <a href="#ftn.idm1071" class="footnote" name="idm1071"><sup class="footnote">[19]</sup></a>
		of the script in which it appears.</p></dd><dt><span class="term"><a name="parensref"></a><span class="token">()</span></span></dt><dd><p><b>command group. </b></p><pre class="programlisting">(a=hello; echo $a)</pre><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>A listing of commands within
	      <em class="replaceable"><code>parentheses</code></em> starts a <a class="link" href="ch21.html#subshellsref">subshell</a>.</p><p>Variables inside parentheses, within the subshell, are not
	      visible to the rest of the script. The parent process,
	      the script, <a class="link" href="ch21.html#parvis">cannot read variables
	      created in the child process</a>, the subshell.
	      </p><pre class="programlisting">a=123
( a=321; )	      

echo "a = $a"   # a = 123
# "a" within parentheses acts like a local variable.</pre></div><p><b>array initialization. </b>
	      <a name="arrayinit1"></a>
	      </p><pre class="programlisting">Array=(element1 element2 element3)</pre><p>
	    </p></dd><dt><span class="term"><span class="token">{xxx,yyy,zzz,...}</span></span></dt><dd><a class="indexterm" name="idm1110"></a><a class="indexterm" name="idm1112"></a><a class="indexterm" name="idm1115"></a><p><b>Brace expansion. </b><a name="braceexpref"></a>
</p><pre class="programlisting">echo \"{These,words,are,quoted}\"   # " prefix and suffix
# "These" "words" "are" "quoted"


cat {file1,file2,file3} &gt; combined_file
# Concatenates the files file1, file2, and file3 into combined_file.

cp file22.{txt,backup}
# Copies "file22.txt" to "file22.backup"</pre><p>A command may act upon a comma-separated list of file specs within
	  <em class="replaceable"><code>braces</code></em>.

	     <a href="#ftn.idm1124" class="footnote" name="idm1124"><sup class="footnote">[20]</sup></a>
	  
	  Filename expansion (<a class="link" href="ch18s02.html" title="2. Globbing">globbing</a>)
	  applies to the file specs between the braces.</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3><p>No spaces allowed within the braces
	    <span class="emphasis"><em>unless</em></span> the spaces are quoted or escaped.</p><p><strong class="userinput"><code>echo {file1,file2}\ :{\ A," B",' C'}</code></strong></p><p><code class="computeroutput">file1 : A file1 : B file1 : C file2 : A file2 : B file2 : C</code></p></div></dd><dt><span class="term"><a name="braceexpref33"></a><span class="token">{a..z}</span></span></dt><dd><a class="indexterm" name="idm1141"></a><a class="indexterm" name="idm1143"></a><a class="indexterm" name="idm1146"></a><p><b>Extended Brace expansion. </b>
</p><pre class="programlisting">echo {a..z} # a b c d e f g h i j k l m n o p q r s t u v w x y z
# Echoes characters between a and z.

echo {0..3} # 0 1 2 3
# Echoes characters between 0 and 3.


base64_charset=( {A..Z} {a..z} {0..9} + / = )
# Initializing an array, using extended brace expansion.
# From vladz's "base64.sh" example script.</pre><p>
	      </p><p>The <em class="firstterm">{a..z}</em>
	    <a class="link" href="ch37s02.html#braceexpref3">extended brace
	    expansion</a> construction is a feature introduced
	    in <a class="link" href="ch37s02.html#bash3ref">version 3</a> of
	    <em class="firstterm">Bash</em>.</p></dd><dt><span class="term"><a name="codeblockref"></a><span class="token">{}</span></span></dt><dd><a class="indexterm" name="idm1162"></a><a class="indexterm" name="idm1164"></a><a class="indexterm" name="idm1167"></a><p><b>Block of code [curly brackets]. </b>Also referred to as an <em class="firstterm">inline group</em>,
		this construct, in effect, creates an <em class="firstterm">anonymous
		function</em> (a function without a
		name). However, unlike in a <span class="quote">&#8220;<span class="quote">standard</span>&#8221;</span> <a class="link" href="ch24.html#functionref">function</a>, the variables
		inside a code block remain visible to the remainder of the
		script.</p><p> </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>{ local a;
	      a=123; }</code></strong>
<code class="computeroutput">bash: local: can only be used in a
function</code>
	      </pre><p> </p><pre class="programlisting">a=123
{ a=321; }
echo "a = $a"   # a = 321   (value inside code block)

# Thanks, S.C.</pre><p><a name="blockio"></a></p><p>The code block enclosed in braces may have <a class="link" href="ch20.html#ioredirref">I/O redirected</a> to and from
	      it.</p><div class="example"><a name="ex8"></a><p class="title"><b>Example 3.1. Code blocks and I/O redirection</b></p><div class="example-contents"><pre class="programlisting">#!/bin/bash
# Reading lines in /etc/fstab.

File=/etc/fstab

{
read line1
read line2
} &gt; $File

echo "First line in $File is:"
echo "$line1"
echo
echo "Second line in $File is:"
echo "$line2"

exit 0

# Now, how do you parse the separate fields of each line?
# Hint: use awk, or . . .
# . . . Hans-Joerg Diers suggests using the "set" Bash builtin.
</pre></div></div><br class="example-break"><p><a name="blockio2"></a></p><div class="example"><a name="rpmcheck"></a><p class="title"><b>Example 3.2. Saving the output of a code block to a file</b></p><div class="example-contents"><pre class="programlisting">#!/bin/bash
# rpm-check.sh

#  Queries an rpm file for description, listing,
#+ and whether it can be installed.
#  Saves output to a file.
# 
#  This script illustrates using a code block.

SUCCESS=0
E_NOARGS=65

if [ -z "$1" ]
then
  echo "Usage: `basename $0` rpm-file"
  exit $E_NOARGS
fi  

{ # Begin code block.
  echo
  echo "Archive Description:"
  rpm -qpi $1       # Query description.
  echo
  echo "Archive Listing:"
  rpm -qpl $1       # Query listing.
  echo
  rpm -i --test $1  # Query whether rpm file can be installed.
  if [ "$?" -eq $SUCCESS ]
  then
    echo "$1 can be installed."
  else
    echo "$1 cannot be installed."
  fi  
  echo              # End code block.
} &gt; "$1.test"       # Redirects output of everything in block to file.

echo "Results of rpm test in file $1.test"

# See rpm man page for explanation of options.

exit 0
</pre></div></div><br class="example-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Unlike a command group within (parentheses),
	      as above, a code block enclosed by {braces} will
	      <span class="emphasis"><em>not</em></span> normally launch a <a class="link" href="ch21.html#subshellsref">subshell</a>.

		<a href="#ftn.idm1199" class="footnote" name="idm1199"><sup class="footnote">[21]</sup></a>

                </p><p>It is possible to <a class="link" href="ch11s01.html#iterationref">iterate</a> a code block
                using a <a class="link" href="ch11s01.html#nododone">non-standard
                <em class="firstterm">for-loop</em></a>.</p></div></dd><dt><span class="term"><span class="token">{}</span></span></dt><dd><p><b>placeholder for text. </b>Used after <a class="link" href="ch16s02.html#xargscurlyref">xargs
		<code class="option">-i</code></a> (<em class="firstterm">replace
		strings</em> option). The <span class="token">{}</span> double
		curly brackets are a placeholder for output text.</p><pre class="programlisting">ls . | xargs -i -t cp ./{} $1
#            ^^         ^^

# From "ex42.sh" (copydir.sh) example.</pre><p><a name="semicolonesc"></a></p></dd><dt><span class="term"><span class="token">{} \;</span></span></dt><dd><p><b>pathname. </b>Mostly used in <a class="link" href="ch16s02.html#findref">find</a>
		constructs. This is <span class="emphasis"><em>not</em></span> a shell
		<a class="link" href="ch15.html#builtinref">builtin</a>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><b></b></p></div></div></div><p><a name="pathnameref"></a></p><p>Definition: A <em class="firstterm">pathname</em>
              is a <em class="firstterm">filename</em> that includes the
              complete <a class="link" href="ch09s01.html#pathref">path</a>.  As an example,
              <code class="filename">/home/bozo/Notes/Thursday/schedule.txt</code>.
              This is sometimes referred to as the <em class="firstterm">absolute
              path</em>.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The <span class="quote">&#8220;<span class="quote"><span class="token">;</span></span>&#8221;</span> ends
		the <code class="option">-exec</code> option of a
		<span class="command"><strong>find</strong></span> command sequence.  It needs
		to be escaped to protect it from interpretation by the
		shell.</p></div></dd><dt><span class="term"><a name="leftbracket"></a><span class="token">[ ]</span></span></dt><dd><a class="indexterm" name="idm1254"></a><a class="indexterm" name="idm1256"></a><a class="indexterm" name="idm1259"></a><p><b>test. </b><a name="bracktest"></a></p><p><a class="link" href="ch07.html#ifthen">Test</a> expression between
	       <span class="command"><strong>[ ]</strong></span>.	Note that <span class="command"><strong>[</strong></span>
	       is part of the shell <em class="firstterm">builtin</em> <a class="link" href="ch07s01.html#ttestref">test</a> (and a synonym for it),
	       <span class="emphasis"><em>not</em></span> a link to the external command
	       <code class="filename">/usr/bin/test</code>.</p></dd><dt><span class="term"><span class="token">[[ ]]</span></span></dt><dd><a class="indexterm" name="idm1277"></a><a class="indexterm" name="idm1279"></a><a class="indexterm" name="idm1282"></a><p><b>test. </b></p><p>Test expression between <span class="token">[[ ]]</span>. More
	     flexible than the single-bracket <span class="token">[ ]</span> test,
	     this is a shell <a class="link" href="ch15.html#keywordref">keyword</a>.</p><p>See the
	     discussion on the <a class="link" href="ch07s01.html#dblbrackets">[[ ... ]]
	     construct</a>.</p></dd><dt><span class="term"><span class="token">[ ]</span></span></dt><dd><a class="indexterm" name="idm1297"></a><a class="indexterm" name="idm1299"></a><a class="indexterm" name="idm1302"></a><p><b>array element. </b></p><p>In the context of an <a class="link" href="ch27.html#arrayref">array</a>,
	       brackets set off the numbering of each element of that array.
	         </p><pre class="programlisting">Array[1]=slot_1
echo ${Array[1]}</pre></dd><dt><span class="term"><span class="token">[ ]</span></span></dt><dd><a class="indexterm" name="idm1314"></a><a class="indexterm" name="idm1316"></a><a class="indexterm" name="idm1319"></a><p><b>range of characters. </b></p><p>As part of a <a class="link" href="ch18.html#regexref">regular
	       expression</a>, brackets delineate a <a class="link" href="ch18s01.html#bracketsref">range of characters</a> to
	       match.</p></dd><dt><span class="term"><a name="bracketarith"></a><span class="token">$[ ... ]</span></span></dt><dd><a class="indexterm" name="idm1332"></a><a class="indexterm" name="idm1334"></a><a class="indexterm" name="idm1337"></a><p><b>integer expansion. </b></p><p>Evaluate integer expression between
	       <span class="token">$[ ]</span>.
               </p><pre class="programlisting">a=3
b=7

echo $[$a+$b]   # 10
echo $[$a*$b]   # 21</pre><p>Note that this usage is <span class="emphasis"><em>deprecated</em></span>,
               and has been replaced by the
               <a class="link" href="ch08s03.html" title="3. The Double-Parentheses Construct">(( ... ))</a> construct.</p></dd><dt><span class="term"><span class="token">(( ))</span></span></dt><dd><a class="indexterm" name="idm1352"></a><a class="indexterm" name="idm1354"></a><a class="indexterm" name="idm1357"></a><p><b>integer expansion. </b></p><p>Expand and evaluate integer expression between
	       <span class="token">(( ))</span>.</p><p>See the discussion on the <a class="link" href="ch08s03.html" title="3. The Double-Parentheses Construct">(( ... )) construct</a>.</p></dd><dt><span class="term"><span class="token">&gt;</span> <span class="token">&amp;&gt;</span> <span class="token">&gt;&amp;</span> <span class="token">&gt;&gt;</span> <span class="token">&lt;</span> <span class="token">&lt;&gt;</span></span></dt><dd><a class="indexterm" name="idm1375"></a><a class="indexterm" name="idm1377"></a><a class="indexterm" name="idm1379"></a><a class="indexterm" name="idm1381"></a><a class="indexterm" name="idm1383"></a><a class="indexterm" name="idm1386"></a><a class="indexterm" name="idm1389"></a><a class="indexterm" name="idm1392"></a><a class="indexterm" name="idm1395"></a><p><b><a class="link" href="ch20.html#ioredirref">redirection</a>. </b></p><p><strong class="userinput"><code>scriptname &gt;filename</code></strong> redirects the output of
	      <code class="filename">scriptname</code> to file
	      <code class="filename">filename</code>. Overwrite
	      <code class="filename">filename</code> if it already exists.</p><p><a name="redirouterror"></a></p><p><strong class="userinput"><code>command &amp;&gt;filename</code></strong> redirects
	      both the <a class="link" href="apf.html#stdinoutdef"><code class="filename">stdout</code></a>
	      and the
	      <code class="filename">stderr</code> of <code class="filename">command</code>
	      to <code class="filename">filename</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
                <a name="devnullredirect"></a>
	        This is useful for suppressing output when
                testing for a condition. For example, let us
                test whether a certain command exists.
              </p><p>
		    </p><pre class="screen">
<code class="prompt">bash$ </code><strong class="userinput"><code>type bogus_command &amp;&gt;/dev/null</code></strong>
<code class="computeroutput"></code>


<code class="prompt">bash$ </code><strong class="userinput"><code>echo $?</code></strong>
<code class="computeroutput">1</code>
                    </pre><p>
              </p><p>Or in a script:</p><pre class="programlisting">command_test () { type "$1" &amp;&gt;/dev/null; }
#                                      ^

cmd=rmdir            # Legitimate command.
command_test $cmd; echo $?   # 0


cmd=bogus_command    # Illegitimate command
command_test $cmd; echo $?   # 1</pre></div><p><a name="redirouterror2"></a></p><p><strong class="userinput"><code>command &gt;&amp;2</code></strong> redirects
	      <code class="filename">stdout</code> of <code class="filename">command</code>
	      to <code class="filename">stderr</code>.</p><p><strong class="userinput"><code>scriptname &gt;&gt;filename</code></strong> appends
	      the output of <code class="filename">scriptname</code>
	      to file <code class="filename">filename</code>. If
	      <code class="filename">filename</code> does not already exist,
	      it is created.</p><p><a name="redirrw"></a></p><p><strong class="userinput"><code>[i]&lt;&gt;filename</code></strong>
               opens file <code class="filename">filename</code> for reading
               and writing, and assigns <a class="link" href="ch20.html#fdref">file
               descriptor</a> <span class="token">i</span> to it. If
               <code class="filename">filename</code> does not exist, it is
               created.</p><p><b><a class="link" href="ch23.html#processsubref">process substitution</a>. </b></p><p><strong class="userinput"><code>(command)&gt;</code></strong></p><p><strong class="userinput"><code>&lt;(command)</code></strong></p><p><a class="link" href="ch07s03.html#ltref">In a different context</a>,
	      the <span class="quote">&#8220;<span class="quote"><span class="token">&lt;</span></span>&#8221;</span> and
	      <span class="quote">&#8220;<span class="quote"><span class="token">&gt;</span></span>&#8221;</span> characters act
	      as <a class="link" href="ch07s03.html#scomparison1">string comparison
	      operators</a>.</p><p><a class="link" href="ch07s03.html#intlt">In yet another context</a>,
	      the <span class="quote">&#8220;<span class="quote"><span class="token">&lt;</span></span>&#8221;</span> and
	      <span class="quote">&#8220;<span class="quote"><span class="token">&gt;</span></span>&#8221;</span> characters act
	      as <a class="link" href="ch07s03.html#icomparison1">integer comparison
	      operators</a>. See also <a class="xref" href="ch16s02.html#ex45" title="Example 16.9. Using expr">Example 16.9, &#8220;Using <em class="firstterm">expr</em>&#8221;</a>.</p></dd><dt><span class="term"><a name="heredocrrref"></a><span class="token">&lt;&lt;</span></span></dt><dd><p><b>redirection used in a <a class="link" href="ch19.html#heredocref">here document</a>. </b></p></dd><dt><span class="term"><a name="herestringref"></a><span class="token">&lt;&lt;&lt;</span></span></dt><dd><p><b>redirection used in a <a class="link" href="ch19s01.html#herestringsref">here string</a>. </b></p></dd><dt><span class="term"><span class="token">&lt;</span>, </span><span class="term"><span class="token">&gt;</span></span></dt><dd><a class="indexterm" name="idm1496"></a><a class="indexterm" name="idm1498"></a><a class="indexterm" name="idm1501"></a><a class="indexterm" name="idm1504"></a><p><b><a class="link" href="ch07s03.html#ltref">ASCII
	    comparison</a>. </b></p><pre class="programlisting">veg1=carrots
veg2=tomatoes

if [[ "$veg1" &lt; "$veg2" ]]
then
  echo "Although $veg1 precede $veg2 in the dictionary,"
  echo -n "this does not necessarily imply anything "
  echo "about my culinary preferences."
else
  echo "What kind of dictionary are you using, anyhow?"
fi</pre></dd><dt><span class="term"><span class="token">\&lt;</span>, </span><span class="term"><span class="token">\&gt;</span></span></dt><dd><a class="indexterm" name="idm1517"></a><a class="indexterm" name="idm1519"></a><a class="indexterm" name="idm1522"></a><a class="indexterm" name="idm1525"></a><p><b><a class="link" href="ch18s01.html#anglebrac">word
	    boundary</a> in a <a class="link" href="ch18.html#regexref">regular
	    expression</a>. </b></p><p><code class="prompt">bash$ </code><strong class="userinput"><code>grep '\&lt;the\&gt;' textfile</code></strong></p></dd><dt><span class="term"><span class="token">|</span></span></dt><dd><a class="indexterm" name="idm1539"></a><a class="indexterm" name="idm1541"></a><a class="indexterm" name="idm1544"></a><p><a name="piperef"></a></p><p><b>pipe. </b>Passes the output (<code class="filename">stdout</code>)
		of a previous command to the input
		(<code class="filename">stdin</code>) of the next one, or
		to the shell. This is a method of chaining commands
		together.</p><p>
              </p><pre class="programlisting">echo ls -l | sh
#  Passes the output of "echo ls -l" to the shell,
#+ with the same result as a simple "ls -l".


cat *.lst | sort | uniq
# Merges and sorts all ".lst" files, then deletes duplicate lines.</pre><p>
	    </p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><b></b></p></div></div></div><p>
	      A pipe, as a classic method of interprocess
	      communication, sends the <code class="filename">stdout</code>
	      of one <a class="link" href="ch03.html#processref">process</a> to the
	      <code class="filename">stdin</code> of another. In a typical case,
	      a command, such as <a class="link" href="ch16s01.html#catref">cat</a> or
	      <a class="link" href="ch15.html#echoref">echo</a>, pipes a stream of
	      data to a
	      <a name="filterdef"></a>
	      <em class="firstterm">filter</em>, a command that
	      transforms its input for processing.
		<a href="#ftn.idm1564" class="footnote" name="idm1564"><sup class="footnote">[22]</sup></a>
	      </p><p>  
	      <strong class="userinput"><code>cat $filename1 $filename2 | grep $search_word</code></strong>
            </p><p>For an interesting note on the complexity of using UNIX
	      pipes, see <a class="ulink" href="http://www.faqs.org/faqs/unix-faq/faq/part3/" target="_top">the UNIX FAQ,
	      Part 3</a>.</p></div><p><a name="ucref"></a>The output of a command or commands
	      may be piped to a script.

	      </p><pre class="programlisting">#!/bin/bash
# uppercase.sh : Changes input to uppercase.

tr 'a-z' 'A-Z'
#  Letter ranges must be quoted
#+ to prevent filename generation from single-letter filenames.

exit 0</pre><p>
              Now, let us pipe the output of <span class="command"><strong>ls -l</strong></span> to this
	      script.

	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>ls -l | ./uppercase.sh</code></strong>
<code class="computeroutput">-RW-RW-R--    1 BOZO  BOZO       109 APR  7 19:49 1.TXT
 -RW-RW-R--    1 BOZO  BOZO       109 APR 14 16:48 2.TXT
 -RW-R--R--    1 BOZO  BOZO       725 APR 20 20:56 DATA-FILE</code>
	      </pre><p>
	    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The <code class="filename">stdout</code> of each process in
	       a pipe must be read as the <code class="filename">stdin</code>
	       of the next. If this is not the case, the data stream
	       will <em class="firstterm">block</em>, and the pipe will not
	       behave as expected.
	         </p><pre class="programlisting">cat file1 file2 | ls -l | sort
# The output from "cat file1 file2" disappears.</pre><p>
             </p><p>A pipe runs as a <a class="link" href="ch04s04.html#childref">child
	       process</a>, and therefore cannot alter script
	       variables.
	         </p><pre class="programlisting">variable="initial_value"
echo "new_value" | read variable
echo "variable = $variable"     # variable = initial_value</pre><p>
             </p><p>If one of the commands in the pipe
	       aborts, this prematurely terminates execution of the
	       pipe. Called a <em class="firstterm">broken pipe</em>, this
	       condition sends a <em class="replaceable"><code>SIGPIPE</code></em> <a class="link" href="ch32.html#signald">signal</a>.</p></div></dd><dt><span class="term"><span class="token">&gt;|</span></span></dt><dd><a class="indexterm" name="idm1598"></a><a class="indexterm" name="idm1600"></a><a class="indexterm" name="idm1603"></a><a class="indexterm" name="idm1606"></a><p><b>force redirection (even if
		the <a class="link" href="ch33.html#noclobberref">noclobber option</a>
		is set). </b>This will forcibly overwrite an existing file.</p></dd><dt><span class="term"><span class="token">||</span></span></dt><dd><a class="indexterm" name="idm1616"></a><a class="indexterm" name="idm1618"></a><a class="indexterm" name="idm1621"></a><a class="indexterm" name="idm1623"></a><p><b><a class="link" href="ch08s01.html#orref">OR logical operator</a>. </b>In a <a class="link" href="ch07s01.html#testconstructs1">test
		construct</a>, the <span class="token">||</span> operator causes
		a return of <span class="returnvalue">0</span> (success) if
		<span class="emphasis"><em>either</em></span> of the linked test conditions
		is true.</p></dd><dt><span class="term"><a name="bgjob"></a><span class="token">&amp;</span></span></dt><dd><p><b>Run job in background. </b>A command followed by an <span class="token">&amp;</span>
	        will run in the background.</p><p>
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>sleep 10 &amp;</code></strong>
<code class="computeroutput">[1] 850</code>
<code class="computeroutput">[1]+  Done                    sleep 10</code>
	      </pre><p>
	    </p><p>Within a script, commands and even <a class="link" href="ch11s01.html#forloopref1">loops</a> may run in the
	      background.</p><p><a name="bgloop0"></a></p><div class="example"><a name="bgloop"></a><p class="title"><b>Example 3.3. Running a loop in the background</b></p><div class="example-contents"><pre class="programlisting">#!/bin/bash
# background-loop.sh

for i in 1 2 3 4 5 6 7 8 9 10            # First loop.
do
  echo -n "$i "
done &amp; # Run this loop in background.
       # Will sometimes execute after second loop.

echo   # This 'echo' sometimes will not display.

for i in 11 12 13 14 15 16 17 18 19 20   # Second loop.
do
  echo -n "$i "
done  

echo   # This 'echo' sometimes will not display.

# ======================================================

# The expected output from the script:
# 1 2 3 4 5 6 7 8 9 10 
# 11 12 13 14 15 16 17 18 19 20 

# Sometimes, though, you get:
# 11 12 13 14 15 16 17 18 19 20 
# 1 2 3 4 5 6 7 8 9 10 bozo $
# (The second 'echo' doesn't execute. Why?)

# Occasionally also:
# 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
# (The first 'echo' doesn't execute. Why?)

# Very rarely something like:
# 11 12 13 1 2 3 4 5 6 7 8 9 10 14 15 16 17 18 19 20 
# The foreground loop preempts the background one.

exit 0

#  Nasimuddin Ansari suggests adding    sleep 1
#+ after the   echo -n "$i"   in lines 6 and 14,
#+ for some real fun.
</pre></div></div><br class="example-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3><p>A command run in the background within a
	      script may cause the script to hang, waiting
	      for a keystroke. Fortunately, there is a <a class="link" href="ch15s01.html#waithang">remedy</a> for this.</p></div></dd><dt><span class="term"><a name="logicaland"></a><span class="token">&amp;&amp;</span></span></dt><dd><a class="indexterm" name="idm1663"></a><a class="indexterm" name="idm1665"></a><a class="indexterm" name="idm1668"></a><a class="indexterm" name="idm1670"></a><p><b><a class="link" href="ch08s01.html#logops1">AND logical
	    operator</a>. </b>In a <a class="link" href="ch07s01.html#testconstructs1">test
		construct</a>, the <span class="token">&amp;&amp;</span> operator causes
		a return of <span class="returnvalue">0</span> (success) only if
		<span class="emphasis"><em>both</em></span> the linked test conditions
		are true.</p></dd><dt><span class="term"><a name="dashref"></a><span class="token">-</span></span></dt><dd><p><b>option, prefix. </b>Option flag for a command or filter. Prefix for
		an operator. Prefix for a <a class="link" href="ch10s02.html#defparam1">default parameter</a>
		in <a class="link" href="ch10s02.html#paramsubref">parameter
		substitution</a>.</p><p><strong class="userinput"><code>COMMAND -[Option1][Option2][...]</code></strong></p><p><strong class="userinput"><code>ls -al</code></strong></p><p><strong class="userinput"><code>sort -dfu $filename</code></strong></p><p>
	      </p><pre class="programlisting">if [ $file1 -ot $file2 ]
then #      ^
  echo "File $file1 is older than $file2."
fi

if [ "$a" -eq "$b" ]
then #    ^
  echo "$a is equal to $b."
fi

if [ "$c" -eq 24 -a "$d" -eq 47 ]
then #    ^              ^
  echo "$c equals 24 and $d equals 47."
fi


param2=${param1:-$DEFAULTVAL}
#               ^</pre><p>  
	      </p><p><a name="doubledashref"></a></p><p><span class="command"><strong>--</strong></span></p><p>The <em class="firstterm">double-dash</em>
		<code class="option">--</code> prefixes <em class="firstterm">long</em>
		(verbatim) options to commands.</p><p><strong class="userinput"><code>sort --ignore-leading-blanks</code></strong></p><p>Used with a <a class="link" href="ch15.html#builtinref">Bash
	        builtin</a>, it means the <em class="firstterm">end of
		options</em> to that particular command.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>This provides a handy means of removing
		  files whose <span class="emphasis"><em>names begin with a dash</em></span>.
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>ls -l</code></strong>
<code class="computeroutput">-rw-r--r-- 1 bozo bozo 0 Nov 25 12:29 -badname</code>


<code class="prompt">bash$ </code><strong class="userinput"><code>rm -- -badname</code></strong>

<code class="prompt">bash$ </code><strong class="userinput"><code>ls -l</code></strong>
<code class="computeroutput">total 0</code></pre><p>
	    </p></div><p>The <em class="firstterm">double-dash</em> is also used in
	        conjunction with <a class="link" href="ch15.html#setref">set</a>.</p><p><strong class="userinput"><code>set -- $variable</code></strong> (as in <a class="xref" href="ch15.html#setpos" title="Example 15.18. Reassigning the positional parameters">Example 15.18, &#8220;Reassigning the positional parameters&#8221;</a>)</p></dd><dt><span class="term"><a name="dashref2"></a><span class="token">-</span></span></dt><dd><a class="indexterm" name="idm1734"></a><a class="indexterm" name="idm1736"></a><a class="indexterm" name="idm1739"></a><p><b>redirection from/to <code class="filename">stdin</code> or <code class="filename">stdout</code> [dash]. </b><a name="coxex"></a></p><p>
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>cat -</code></strong>
<strong class="userinput"><code>abc</code></strong>
<code class="computeroutput">abc</code>

<code class="computeroutput">...</code>

<strong class="userinput"><code>Ctl-D</code></strong></pre><p>
	    </p><p>As expected, <strong class="userinput"><code>cat -</code></strong> echoes
	    <code class="filename">stdin</code>, in this case keyboarded user input,
	    to <code class="filename">stdout</code>. But, does I/O redirection using
	    <span class="command"><strong>-</strong></span> have real-world applications?</p><pre class="programlisting">(cd /source/directory &amp;&amp; tar cf - . ) | (cd /dest/directory &amp;&amp; tar xpvf -)
# Move entire file tree from one directory to another
# [courtesy Alan Cox &lt;a.cox@swansea.ac.uk&gt;, with a minor change]

# 1) cd /source/directory
#    Source directory, where the files to be moved are.
# 2) &amp;&amp;
#   "And-list": if the 'cd' operation successful,
#    then execute the next command.
# 3) tar cf - .
#    The 'c' option 'tar' archiving command creates a new archive,
#    the 'f' (file) option, followed by '-' designates the target file
#    as stdout, and do it in current directory tree ('.').
# 4) |
#    Piped to ...
# 5) ( ... )
#    a subshell
# 6) cd /dest/directory
#    Change to the destination directory.
# 7) &amp;&amp;
#   "And-list", as above
# 8) tar xpvf -
#    Unarchive ('x'), preserve ownership and file permissions ('p'),
#    and send verbose messages to stdout ('v'),
#    reading data from stdin ('f' followed by '-').
#
#    Note that 'x' is a command, and 'p', 'v', 'f' are options.
#
# Whew!



# More elegant than, but equivalent to:
#   cd source/directory
#   tar cf - . | (cd ../dest/directory; tar xpvf -)
#
#     Also having same effect:
# cp -a /source/directory/* /dest/directory
#     Or:
# cp -a /source/directory/* /source/directory/.[^.]* /dest/directory
#     If there are hidden files in /source/directory.
</pre><pre class="programlisting">bunzip2 -c linux-2.6.16.tar.bz2 | tar xvf -
#  --uncompress tar file--      | --then pass it to "tar"--
#  If "tar" has not been patched to handle "bunzip2",
#+ this needs to be done in two discrete steps, using a pipe.
#  The purpose of the exercise is to unarchive "bzipped" kernel source.
</pre><p>Note that in this context the <span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> is not
            itself a Bash operator, but rather an option recognized by
	    certain UNIX utilities that write to
	    <code class="filename">stdout</code>, such as <span class="command"><strong>tar</strong></span>,
	    <span class="command"><strong>cat</strong></span>, etc.</p><p>
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>echo "whatever" | cat -</code></strong>
<code class="computeroutput">whatever</code> </pre><p>
	    </p><p>Where a filename is expected,
	      <em class="replaceable"><code>-</code></em> redirects output to
	      <code class="filename">stdout</code> (sometimes seen with
	      <strong class="userinput"><code>tar cf</code></strong>), or accepts input from
	      <code class="filename">stdin</code>, rather than from a file.
	      <a name="filterdash"></a>
	      This is a method of using a file-oriented utility as a
	      filter in a pipe.</p><p>
	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>file</code></strong>
<code class="computeroutput">Usage: file [-bciknvzL] [-f namefile] [-m magicfiles] file...</code>
	      </pre><p>

	    By itself on the command-line, <a class="link" href="ch16s05.html#fileref">file</a> fails with an error message.
	    </p><p>
	    Add a <span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> for a more useful result. This causes the
	      shell to await user input.

	      </p><pre class="screen">
<code class="prompt">bash$ </code><strong class="userinput"><code>file -</code></strong>
<strong class="userinput"><code>abc</code></strong>
<code class="computeroutput">standard input:              ASCII text</code>



<code class="prompt">bash$ </code><strong class="userinput"><code>file -</code></strong>
<strong class="userinput"><code>#!/bin/bash</code></strong>
<code class="computeroutput">standard input:              Bourne-Again shell script text executable</code>
	      </pre><p>

	      Now the command accepts input from <code class="filename">stdin</code>
	        and analyzes it.
	    </p><p>The <span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> can be used to pipe
	      <code class="filename">stdout</code> to other commands. This permits
	      such stunts as <a class="link" href="ch36s07.html#prependref">prepending lines
	      to a file</a>.</p><p>Using <a class="link" href="ch16s05.html#diffref">diff</a> to
	      compare a file with a <span class="emphasis"><em>section</em></span>
	      of another:</p><p><strong class="userinput"><code>grep Linux file1 | diff file2 -</code></strong></p><p>Finally, a real-world example using
	      <em class="replaceable"><code>-</code></em> with <a class="link" href="ch16s05.html#tarref">tar</a>.</p><div class="example"><a name="ex58"></a><p class="title"><b>Example 3.4. Backup of all files changed in last day</b></p><div class="example-contents"><pre class="programlisting">#!/bin/bash

#  Backs up all files in current directory modified within last 24 hours
#+ in a "tarball" (tarred and gzipped file).

BACKUPFILE=backup-$(date +%m-%d-%Y)
#                 Embeds date in backup filename.
#                 Thanks, Joshua Tschida, for the idea.
archive=${1:-$BACKUPFILE}
#  If no backup-archive filename specified on command-line,
#+ it will default to "backup-MM-DD-YYYY.tar.gz."

tar cvf - `find . -mtime -1 -type f -print` &gt; $archive.tar
gzip $archive.tar
echo "Directory $PWD backed up in archive file \"$archive.tar.gz\"."


#  Stephane Chazelas points out that the above code will fail
#+ if there are too many files found
#+ or if any filenames contain blank characters.

# He suggests the following alternatives:
# -------------------------------------------------------------------
#   find . -mtime -1 -type f -print0 | xargs -0 tar rvf "$archive.tar"
#      using the GNU version of "find".


#   find . -mtime -1 -type f -exec tar rvf "$archive.tar" '{}' \;
#         portable to other UNIX flavors, but much slower.
# -------------------------------------------------------------------


exit 0
</pre></div></div><br class="example-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3><p>Filenames beginning with
	      <span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> may cause problems when coupled with the
	      <span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> redirection operator. A script should
	      check for this and add an appropriate prefix to such
	      filenames, for example <code class="filename">./-FILENAME</code>,
	      <code class="filename">$PWD/-FILENAME</code>, or
	      <code class="filename">$PATHNAME/-FILENAME</code>.</p><p>If the value of a variable begins with a
	        <em class="replaceable"><code>-</code></em>, this may likewise create
		problems.
		</p><pre class="programlisting">var="-n"
echo $var		
# Has the effect of "echo -n", and outputs nothing.</pre><p>
              </p></div></dd><dt><span class="term"><span class="token">-</span></span></dt><dd><p><b>previous working directory. </b>A <span class="command"><strong>cd -</strong></span> command changes to the
		previous working directory. This uses the
		<a class="link" href="ch09s01.html#oldpwd">$OLDPWD</a> <a class="link" href="ch04s04.html#envref">environmental variable</a>.</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Caution</h3><p>Do not confuse the <span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> used in this
		sense with the <span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> redirection
		operator just discussed. The interpretation of the
		<span class="quote">&#8220;<span class="quote">-</span>&#8221;</span> depends on the context in which it
		appears.</p></div></dd><dt><span class="term"><span class="token">-</span></span></dt><dd><p><b>Minus. </b>Minus sign in an <a class="link" href="ch08s01.html#arops1">arithmetic
	        operation</a>.</p></dd><dt><span class="term"><span class="token">=</span></span></dt><dd><p><b>Equals. </b><a class="link" href="ch04s02.html#eqref">Assignment operator</a>
	        </p><pre class="programlisting">a=28
echo $a   # 28</pre><p>In a <a class="link" href="ch07s03.html#equalsignref">different context</a>,
	      the <span class="quote">&#8220;<span class="quote"><span class="token">=</span></span>&#8221;</span> is a <a class="link" href="ch07s03.html#scomparison1">string comparison</a>
	      operator.</p></dd><dt><span class="term"><span class="token">+</span></span></dt><dd><p><b>Plus. </b>Addition  <a class="link" href="ch08s01.html#arops1">arithmetic
	        operator</a>.</p><p>In a <a class="link" href="ch18s01.html#plusref">different context</a>,
	      the <span class="token">+</span> is a <a class="link" href="ch18.html" title="Chapter 18. Regular Expressions">Regular
	      Expression</a> operator.</p></dd><dt><span class="term"><span class="token">+</span></span></dt><dd><p><b>Option. </b>Option flag for a command or filter.</p><p>Certain commands and <a class="link" href="ch15.html#builtinref">builtins</a> use the
	      <code class="option">+</code> to enable certain options and the
	      <code class="option">-</code> to disable them. In <a class="link" href="ch10s02.html#paramsubref">parameter substitution</a>,
	      the <code class="option">+</code> prefixes an <a class="link" href="ch10s02.html#paramaltv">
	      alternate value</a> that a variable expands to.</p></dd><dt><span class="term"><a name="modulo00"></a><span class="token">%</span></span></dt><dd><p><b><a class="link" href="ch08s01.html#moduloref">modulo</a>. </b>Modulo (remainder of a division) <a class="link" href="ch08s01.html#arops1">arithmetic
	        operation</a>.</p><pre class="programlisting">let "z = 5 % 3"
echo $z  # 2</pre><p>In a <a class="link" href="ch10s02.html#pctpatref">different context</a>,
	      the <span class="token">%</span> is a <a class="link" href="ch10s02.html#psub2">pattern
	      matching</a> operator.</p></dd><dt><span class="term"><a name="tilderef"></a><span class="token">~</span></span></dt><dd><p><b>home directory [tilde]. </b>This corresponds to the <a class="link" href="ch09s01.html#homedirref">$HOME</a> internal variable.

	      <code class="filename">~bozo</code> is bozo's home directory,
		and <span class="command"><strong>ls ~bozo</strong></span> lists the contents of it.
		<span class="token">~/</span> is the current user's home directory,
		and <span class="command"><strong>ls ~/</strong></span> lists the contents of it.

	      </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>echo ~bozo</code></strong>
<code class="computeroutput">/home/bozo</code>

<code class="prompt">bash$ </code><strong class="userinput"><code>echo ~</code></strong>
<code class="computeroutput">/home/bozo</code>

<code class="prompt">bash$ </code><strong class="userinput"><code>echo ~/</code></strong>
<code class="computeroutput">/home/bozo/</code>

<code class="prompt">bash$ </code><strong class="userinput"><code>echo ~:</code></strong>
<code class="computeroutput">/home/bozo:</code>

<code class="prompt">bash$ </code><strong class="userinput"><code>echo ~nonexistent-user</code></strong>
<code class="computeroutput">~nonexistent-user</code>
	      </pre><p>
	      </p></dd><dt><span class="term"><a name="workingdirref"></a><span class="token">~+</span></span></dt><dd><p><b>current working directory. </b>This corresponds to the <a class="link" href="ch09s01.html#pwdref">$PWD</a> internal variable.</p></dd><dt><span class="term"><a name="prevworkingdir"></a><span class="token">~-</span></span></dt><dd><p><b>previous working directory. </b>This corresponds to the <a class="link" href="ch09s01.html#oldpwd">$OLDPWD</a> internal variable.</p></dd><dt><span class="term"><span class="token">=~</span></span></dt><dd><p><b><a class="link" href="ch37s02.html#regexmatchref">regular
	  expression match</a>. </b>This operator was introduced with <a class="link" href="ch37s02.html#bash3ref">version 3</a> of Bash.</p></dd><dt><span class="term"><a name="beglineref"></a><span class="token">^</span></span></dt><dd><a class="indexterm" name="idm1964"></a><a class="indexterm" name="idm1966"></a><a class="indexterm" name="idm1969"></a><a class="indexterm" name="idm1971"></a><a class="indexterm" name="idm1973"></a><p><b>beginning-of-line. </b>In a <a class="link" href="ch18.html#regexref">regular expression</a>, a
		<span class="quote">&#8220;<span class="quote">^</span>&#8221;</span> addresses the <a class="link" href="ch18s01.html#caretref">beginning of a line</a> of text.</p></dd><dt><span class="term"><span class="token">^</span>, </span><span class="term"><span class="token">^^</span></span></dt><dd><p><b><a class="link" href="ch37s03.html#casemodparamsub">Uppercase
            conversion</a> in <em class="firstterm">parameter substitution</em>
            (added in <a class="link" href="ch37s03.html#bash4ref">version 4</a> of Bash). </b></p></dd><dt><span class="term"><a name="controlcharref"></a>Control Characters</span></dt><dd><p><b> change the behavior of the
	        terminal or text display. </b>A control character is a <span class="keycap"><strong>CONTROL</strong></span>
	      + <span class="keycap"><strong>key</strong></span> combination (pressed
	      simultaneously).
	      
	      A control character may also
	      be written in <em class="firstterm">octal</em> or
	      <em class="firstterm">hexadecimal</em> notation,
	      following an <em class="firstterm">escape</em>.</p><p>Control characters are not normally useful inside a
	    script.</p><div class="itemizedlist"><a name="ctlchar"></a><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><strong class="userinput"><code>Ctl-A</code></strong></p><p>Moves cursor to beginning of line of text
		  (on the command-line).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-B</code></strong></p><p><strong class="userinput"><code>Backspace</code></strong>
		  (nondestructive).</p></li><li class="listitem"><p><a name="ctlcref"></a></p><p><strong class="userinput"><code>Ctl-C</code></strong></p><p><strong class="userinput"><code>Break</code></strong>.
		  Terminate a foreground job.</p></li><li class="listitem"><p><a name="ctldref"></a></p><p><strong class="userinput"><code>Ctl-D</code></strong></p><p><em class="firstterm">Log out</em> from a shell (similar to
		  <a class="link" href="ch06.html#exitcommandref">exit</a>).</p><p><strong class="userinput"><code>EOF</code></strong> (end-of-file). This also
		  terminates input from <code class="filename">stdin</code>.</p><p>When typing text on the console or in an
                  <em class="firstterm">xterm</em> window,
		  <strong class="userinput"><code>Ctl-D</code></strong> erases the character under the
		  cursor. When there are no characters present,
		  <strong class="userinput"><code>Ctl-D</code></strong> logs out of the session, as
		  expected. In an <em class="firstterm">xterm</em> window,
		  this has the effect of closing the window.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-E</code></strong></p><p>Moves cursor to end of line of text
		  (on the command-line).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-F</code></strong></p><p>Moves cursor forward one character position
		  (on the command-line).</p></li><li class="listitem"><p><a name="ctlgref"></a></p><p><strong class="userinput"><code>Ctl-G</code></strong></p><p><strong class="userinput"><code>BEL</code></strong>. On some
		old-time teletype terminals, this would actually ring
		a bell. In an <em class="firstterm">xterm</em> it might
		beep.</p></li><li class="listitem"><p><a name="ctlhref"></a></p><p><strong class="userinput"><code>Ctl-H</code></strong></p><p><strong class="userinput"><code>Rubout</code></strong> (destructive backspace).
		  Erases characters the cursor backs over while
		  backspacing.</p><p>
		</p><pre class="programlisting">#!/bin/bash
# Embedding Ctl-H in a string.

a="^H^H"                  # Two Ctl-H's -- backspaces
                          # ctl-V ctl-H, using vi/vim
echo "abcdef"             # abcdef
echo
echo -n "abcdef$a "       # abcd f
#  Space at end  ^              ^  Backspaces twice.
echo
echo -n "abcdef$a"        # abcdef
#  No space at end               ^ Doesn't backspace (why?).
                          # Results may not be quite as expected.
echo; echo

# Constantin Hagemeier suggests trying:
# a=$'\010\010'
# a=$'\b\b'
# a=$'\x08\x08'
# But, this does not change the results.

########################################

# Now, try this.

rubout="^H^H^H^H^H"       # 5 x Ctl-H.

echo -n "12345678"
sleep 2
echo -n "$rubout"
sleep 2</pre><p>
                </p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-I</code></strong></p><p><strong class="userinput"><code>Horizontal tab</code></strong>.</p></li><li class="listitem"><p><a name="ctljref"></a></p><p><strong class="userinput"><code>Ctl-J</code></strong></p><p><strong class="userinput"><code>Newline</code></strong> (line feed).
		  In a script, may also be expressed in octal notation --
		  '\012' or in hexadecimal -- '\x0a'.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-K</code></strong></p><p><strong class="userinput"><code>Vertical tab</code></strong>.</p><p>When typing text on the console or in an
                  <em class="firstterm">xterm</em> window,
		  <strong class="userinput"><code>Ctl-K</code></strong> erases from the character
		  under the cursor to end of line. Within a script,
		  <strong class="userinput"><code>Ctl-K</code></strong> may behave differently,
		  as in Lee Lee Maschmeyer's example, below.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-L</code></strong></p><p><strong class="userinput"><code>Formfeed</code></strong> (clear the terminal
		  screen). In a terminal, this has the same effect as the
		  <a class="link" href="ch16s07.html#clearref">clear</a> command. When sent
		  to a printer, a <strong class="userinput"><code>Ctl-L</code></strong> causes
		  an advance to end of the paper sheet.</p></li><li class="listitem"><p><a name="ctlmref"></a></p><p><strong class="userinput"><code>Ctl-M</code></strong></p><p><strong class="userinput"><code>Carriage return</code></strong>.</p><p>
		</p><pre class="programlisting">#!/bin/bash
# Thank you, Lee Maschmeyer, for this example.

read -n 1 -s -p \
$'Control-M leaves cursor at beginning of this line. Press Enter. \x0d'
           # Of course, '0d' is the hex equivalent of Control-M.
echo &gt;&amp;2   #  The '-s' makes anything typed silent,
           #+ so it is necessary to go to new line explicitly.

read -n 1 -s -p $'Control-J leaves cursor on next line. \x0a'
           #  '0a' is the hex equivalent of Control-J, linefeed.
echo &gt;&amp;2

###

read -n 1 -s -p $'And Control-K\x0bgoes straight down.'
echo &gt;&amp;2   #  Control-K is vertical tab.

# A better example of the effect of a vertical tab is:

var=$'\x0aThis is the bottom line\x0bThis is the top line\x0a'
echo "$var"
#  This works the same way as the above example. However:
echo "$var" | col
#  This causes the right end of the line to be higher than the left end.
#  It also explains why we started and ended with a line feed --
#+ to avoid a garbled screen.

# As Lee Maschmeyer explains:
# --------------------------
#  In the [first vertical tab example] . . . the vertical tab
#+ makes the printing go straight down without a carriage return.
#  This is true only on devices, such as the Linux console,
#+ that can't go "backward."
#  The real purpose of VT is to go straight UP, not down.
#  It can be used to print superscripts on a printer.
#  The col utility can be used to emulate the proper behavior of VT.

exit 0</pre><p>
		</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-N</code></strong></p><p>Erases a line of text recalled from
		  <em class="firstterm">history buffer</em>
		    <a href="#ftn.idm2107" class="footnote" name="idm2107"><sup class="footnote">[23]</sup></a> (on the
		    command-line).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-O</code></strong></p><p>Issues a <em class="firstterm">newline</em>
		  (on the command-line).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-P</code></strong></p><p>Recalls last command from <em class="firstterm">history
		  buffer</em> (on the command-line).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-Q</code></strong></p><p>Resume (<strong class="userinput"><code>XON</code></strong>).</p><p>This resumes <code class="filename">stdin</code> in a terminal.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-R</code></strong></p><p>Backwards search for text in <em class="firstterm">history
		  buffer</em>
		  (on the command-line).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-S</code></strong></p><p>Suspend (<strong class="userinput"><code>XOFF</code></strong>).</p><p>This freezes <code class="filename">stdin</code> in a terminal.
		  (Use Ctl-Q to restore input.)</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-T</code></strong></p><p>Reverses the position of the character the cursor
		  is on with the previous character (on the
		  command-line).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-U</code></strong></p><p>Erase a line of input, from the cursor backward to
		  beginning of line. In some settings,
		  <strong class="userinput"><code>Ctl-U</code></strong> erases the entire
		  line of input, <span class="emphasis"><em>regardless of cursor
		  position</em></span>.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-V</code></strong></p><p>When inputting text, <strong class="userinput"><code>Ctl-V</code></strong>
		  permits inserting control characters. For example, the
		  following two are equivalent:
		    </p><pre class="programlisting">echo -e '\x0a'
echo &lt;Ctl-V&gt;&lt;Ctl-J&gt;</pre><p><strong class="userinput"><code>Ctl-V</code></strong> is primarily useful from
		within a text editor.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-W</code></strong></p><p>When typing text on the console or in an xterm window,
		  <strong class="userinput"><code>Ctl-W</code></strong> erases from the character
		  under the cursor backwards to the first instance of
		  <a class="link" href="ch03.html#whitespaceref">whitespace</a>. In
		  some settings, <strong class="userinput"><code>Ctl-W</code></strong> erases
		  backwards to first non-alphanumeric character.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-X</code></strong></p><p>In certain word processing programs,
		  <em class="firstterm">Cuts</em> highlighted text
		  and copies to <em class="firstterm">clipboard</em>.</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-Y</code></strong></p><p><em class="firstterm">Pastes</em> back text previously
		  erased (with <strong class="userinput"><code>Ctl-U</code></strong> or
		  <strong class="userinput"><code>Ctl-W</code></strong>).</p></li><li class="listitem"><p><strong class="userinput"><code>Ctl-Z</code></strong></p><p><em class="firstterm">Pauses</em> a foreground job.</p><p><em class="firstterm">Substitute</em> operation in certain
		  word processing applications.</p><p><strong class="userinput"><code>EOF</code></strong> (end-of-file) character
		  in the MSDOS filesystem.</p></li></ul></div></dd><dt><span class="term"><a name="whitespaceref"></a>Whitespace</span></dt><dd><p><b>functions as a separator between commands and/or
              variables. </b>Whitespace consists of either
		<em class="firstterm">spaces</em>,
		<em class="firstterm">tabs</em>, <em class="firstterm">blank
		lines</em>, or any combination thereof.

		  <a href="#ftn.idm2198" class="footnote" name="idm2198"><sup class="footnote">[24]</sup></a>

		In some contexts, such as <a class="link" href="ch34.html#wsbad">variable
		assignment</a>, whitespace is not permitted, and
		results in a syntax error.</p><p>Blank lines have no effect on the action of a script,
	    and are therefore useful for visually separating functional
	    sections.</p><p><a class="link" href="ch09s01.html#ifsref">$IFS</a>, the special variable
	    separating <em class="firstterm">fields</em> of input to certain
	    commands. It defaults to whitespace.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><b></b></p></div></div></div><p>
	      <a name="fieldref"></a><strong class="userinput"><code>Definition:</code></strong>
	      A <em class="firstterm">field</em> is a discrete chunk of data
	      expressed as a string of consecutive characters.
	      Separating each field from adjacent fields is either
	      <em class="firstterm">whitespace</em> or some other designated
	      character (often determined by the <span class="token">$IFS</span>).
	      In some contexts, a field may be called a
	      <em class="firstterm">record</em>.
	      </p></div><p><a name="quotingws"></a></p><p>To preserve <em class="firstterm">whitespace</em>
	  within a string or in a variable, use <a class="link" href="ch05.html#quotingref">quoting</a>.</p><p>UNIX <a class="link" href="ch03.html#filterdef">filters</a>
	    can target and operate on <em class="firstterm">whitespace</em>
	    using the <a class="link" href="ch18s01.html#posixref">POSIX</a> character class
	    <a class="link" href="ch18s01.html#wsposix">[:space:]</a>.</p></dd></dl></div><div class="footnotes"><br><hr style="width:100; text-align:left;margin-left: 0"><div id="ftn.idm612" class="footnote"><p><a href="#idm612" class="para"><sup class="para">[16] </sup></a><a name="operatordef"></a>An
		  <em class="firstterm">operator</em> is an agent that carries
		  out an <em class="firstterm">operation</em>. Some examples
		  are the common <a class="link" href="ch08s01.html#arops1">arithmetic
		  operators</a>, <span class="command"><strong>+ - * /</strong></span>. In
		  Bash, there is some overlap between the concepts
		  of <em class="firstterm">operator</em> and <a class="link" href="ch15.html#keywordref">keyword</a>.</p></div><div id="ftn.idm888" class="footnote"><p><a href="#idm888" class="para"><sup class="para">[17] </sup></a>This is more commonly known
                   as the <em class="firstterm">ternary</em>
                   operator. Unfortunately, <em class="firstterm">ternary</em>
                   is an ugly word. It doesn't roll off
                   the tongue, and it doesn't elucidate. It
                   obfuscates. <em class="firstterm">Trinary</em> is by far
                   the more elegant usage.</p></div><div id="ftn.idm1001" class="footnote"><p><a href="#idm1001" class="para"><sup class="para">[18] </sup></a><a name="asciidef"></a></p><p><span class="command"><strong>A</strong></span>merican
                        <span class="command"><strong>S</strong></span>tandard
                        <span class="command"><strong>C</strong></span>ode
			for
                        <span class="command"><strong>I</strong></span>nformation
			<span class="command"><strong>I</strong></span>nterchange.
			This is a system for encoding text characters
			(alphabetic, numeric, and a limited set of symbols)
			as 7-bit numbers that can be stored and manipulated by
			computers. Many of the ASCII characters are
			represented on a standard keyboard.</p></div><div id="ftn.idm1071" class="footnote"><p><a href="#idm1071" class="para"><sup class="para">[19] </sup></a><a name="processiddef"></a></p><p>A <em class="firstterm">PID</em>, or
		      <em class="firstterm">process ID</em>, is a number assigned
		      to a running process. The <em class="firstterm">PID</em>s
		      of running processes may be viewed with a <a class="link" href="ch17.html#ppssref">ps</a> command.
		      </p><p><a name="processref"></a></p><p>
		      <strong class="userinput"><code>Definition:</code></strong> A
		      <em class="firstterm">process</em> is a currently
		      executing command (or program), sometimes referred
		      to as a <em class="firstterm">job</em>.  </p></div><div id="ftn.idm1124" class="footnote"><p><a href="#idm1124" class="para"><sup class="para">[20] </sup></a>The shell does the <em class="firstterm">brace
	       expansion</em>. The command itself acts upon the
	       <span class="emphasis"><em>result</em></span> of the expansion.</p></div><div id="ftn.idm1199" class="footnote"><p><a href="#idm1199" class="para"><sup class="para">[21] </sup></a>Exception: a code block in braces as
		  part of a pipe <span class="emphasis"><em>may</em></span> run as a
		  <a class="link" href="ch21.html#subshellsref">subshell</a>.</p><pre class="programlisting">ls | { read firstline; read secondline; }
#  Error. The code block in braces runs as a subshell,
#+ so the output of "ls" cannot be passed to variables within the block.
echo "First line is $firstline; second line is $secondline"  # Won't work.

# Thanks, S.C.</pre></div><div id="ftn.idm1564" class="footnote"><p><a href="#idm1564" class="para"><sup class="para">[22] </sup></a> Even as in olden times a
		<em class="firstterm">philtre</em> denoted a potion alleged
		to have magical transformative powers, so does a UNIX
		<em class="firstterm">filter</em> transform its target in
		(roughly) analogous fashion. (The coder who comes up with a
		<span class="quote">&#8220;<span class="quote">love philtre</span>&#8221;</span> that runs on a Linux machine
		will likely win accolades and honors.)</p></div><div id="ftn.idm2107" class="footnote"><p><a href="#idm2107" class="para"><sup class="para">[23] </sup></a>Bash stores a list of commands
		    previously issued from the command-line
		    in a <em class="firstterm">buffer</em>, or
		    memory space, for recall with the <a class="link" href="ch15.html#builtinref">builtin</a>
		    <em class="firstterm">history</em>
		    commands.</p></div><div id="ftn.idm2198" class="footnote"><p><a href="#idm2198" class="para"><sup class="para">[24] </sup></a>A linefeed (<em class="firstterm">newline</em>)
		    is also a whitespace character. This explains
		    why a <em class="firstterm">blank line</em>,
		    consisting only of a linefeed, is considered
		    whitespace.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pt02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part Part 2. Basics </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 4. Introduction to Variables and Parameters</td></tr></table></div></body></html>
