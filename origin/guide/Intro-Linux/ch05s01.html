<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>1. Simple redirections</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="Linux, Beginners, linux, start, Getting started, guide, Guide, Exercises, exercises"><link rel="home" href="index.html" title="Introduction to Linux"><link rel="up" href="ch05.html" title="Chapter 5. I/O redirection"><link rel="prev" href="ch05.html" title="Chapter 5. I/O redirection"><link rel="next" href="ch05s02.html" title="2. Advanced redirection features"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1. Simple redirections</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05.html">Prev</a> </td><th width="60%" align="center">Chapter 5. I/O redirection</th><td width="20%" align="right"> <a accesskey="n" href="ch05s02.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sect_05_01"></a>1. Simple redirections</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_05_01_01"></a>1.1. What are standard input and standard output?</h3></div></div></div><p>
Most Linux commands read input<a class="indexterm" name="idm6171"></a>, such as a file or another attribute for the command, and write output.  By default, input is being given with the keyboard, and output<a class="indexterm" name="idm6174"></a> is displayed on your screen.  Your keyboard is your<a class="indexterm" name="idm6177"></a> <span class="emphasis"><em>standard input</em></span> (stdin<a class="indexterm" name="idm6181"></a>) device, and the screen or a particular terminal window is the <span class="emphasis"><em>standard output<a class="indexterm" name="idm6184"></a></em></span> (stdout<a class="indexterm" name="idm6187"></a>) device.
</p><p>However, since Linux is a flexible system, these default settings don't necessarily have to be applied.  The standard output, for example, on a heavily monitored server in a large environment may be a printer.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_05_01_02"></a>1.2. The redirection operators</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_05_01_02_01"></a>1.2.1. Output redirection with &gt; and |</h4></div></div></div><p>Sometimes you will want to put output<a class="indexterm" name="idm6195"></a> of a command in a file, or you may want to issue another command on the output of one command.  This is known as redirecting output.  Redirection is done using either the <span class="quote">&#8220;<span class="quote">&gt;</span>&#8221;</span> (greater-than symbol<a class="indexterm" name="idm6199"></a>), or using the <span class="quote">&#8220;<span class="quote">|</span>&#8221;</span> (pipe<a class="indexterm" name="idm6202"></a>) operator which sends the standard output of one command to another command<a class="indexterm" name="idm6204"></a> as standard input.</p><p>As we saw before, the <span class="command"><strong>cat</strong></span> command concatenates files and puts them all together to the standard output.  By redirecting this output to a file, this file name<a class="indexterm" name="idm6209"></a> will be created - or overwritten if it already exists, so take care.</p><pre class="screen">
<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>cat test1</strong></span>
some words

<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>cat test2</strong></span>
some other words

<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>cat test1 test2 &gt; test3</strong></span>

<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>cat test3</strong></span>
some words
some other words
</pre><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Don't overwrite!</h3><p>Be careful not to overwrite existing (important) files when redirecting output.  Many shells, including <span class="application">Bash</span>, have a built-in feature to protect you from that risk: <span class="command"><strong>noclobber<a class="indexterm" name="idm6226"></a></strong></span>.  See the <span class="application">Info</span> pages for more information.  In <span class="application">Bash</span>, you would want to add the <span class="command"><strong>set <code class="option">-o</code> <em class="parameter"><code>noclobber<a class="indexterm" name="idm6234"></a></code></em></strong></span> command to your <code class="filename">.bashrc<a class="indexterm" name="idm6237"></a></code> configuration file in order to prevent<a class="indexterm" name="idm6239"></a> accidental overwriting of files.</p></div><p>Redirecting <span class="quote">&#8220;<span class="quote">nothing</span>&#8221;</span> to an existing file is equal to emptying the file<a class="indexterm" name="idm6244"></a>:</p><pre class="screen">
<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>ls -l list</strong></span>
-rw-rw-r--    1 nancy   nancy     117 Apr  2 18:09 list

<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>&gt; list</strong></span>

<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>ls -l list</strong></span>
-rw-rw-r--    1 nancy   nancy       0 Apr  4 12:01 list
</pre><p>This process is called <span class="emphasis"><em>truncating<a class="indexterm" name="idm6256"></a></em></span>.</p><p>The same redirection to an nonexistent file will create a new empty file with the given name:</p><pre class="screen">
<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>ls -l newlist</strong></span>
ls: newlist: No such file or directory

<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>&gt; newlist</strong></span>

<code class="prompt">nancy:~&gt;</code> <span class="command"><strong>ls -l newlist</strong></span>
-rw-rw-r--  1 nancy   nancy	    0 Apr  4 12:05 newlist
</pre><p><a class="xref" href="ch07.html" title="Chapter 7. Home sweet /home">Chapter 7, <i>Home sweet /home</i></a> gives some more examples on the use of this sort of redirection.</p><p>Some examples using piping<a class="indexterm" name="idm6269"></a> of commands:</p><p>To find a word within some text, display all lines matching <span class="quote">&#8220;<span class="quote">pattern1</span>&#8221;</span>, and exclude lines also matching <span class="quote">&#8220;<span class="quote">pattern2</span>&#8221;</span> from being displayed:</p><div class="cmdsynopsis"><p><code class="command">grep <em class="parameter"><code>pattern1</code></em> <code class="filename">file</code> | grep <code class="option">-v</code> <em class="parameter"><code>pattern2</code></em></code> </p></div><p>To display output of a directory listing one page at a time:</p><div class="cmdsynopsis"><p><code class="command">ls <code class="option">-la</code> | less</code> </p></div><p>To find a file in a directory:</p><div class="cmdsynopsis"><p><code class="command">ls <code class="option">-l</code> | grep <em class="parameter"><code>part_of_file_name</code></em></code> </p></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_05_01_02_02"></a>1.2.2. Input redirection</h4></div></div></div><p>In another case, you may want a file to be the input<a class="indexterm" name="idm6293"></a> for a command that normally wouldn't accept a file as an option.  This redirecting of input is done using the <span class="quote">&#8220;<span class="quote">&lt;</span>&#8221;</span> (less-than<a class="indexterm" name="idm6297"></a> symbol) operator.</p><p>Below is an example of sending a file to somebody, using input redirection.</p><pre class="screen">
<code class="prompt">andy:~&gt;</code> <span class="command"><strong>mail mike@somewhere.org &lt; to_do</strong></span>
</pre><p>If the user <span class="emphasis"><em>mike</em></span> exists on the system, you don't need to type the full address.  If you want to reach somebody on the Internet, enter the fully qualified address as an argument to <span class="command"><strong>mail</strong></span>.</p><p>This reads a bit more difficult than the beginner's <span class="command"><strong>cat <code class="filename">file</code> | mail <em class="parameter"><code>someone</code></em></strong></span>, but it is of course a much more elegant way of using the available tools.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_05_01_02_03"></a>1.2.3. Combining redirections</h4></div></div></div><p>The following example combines input and output redirection.  The file <code class="filename">text.txt</code> is first checked for spelling mistakes, and the output is redirected to an error log<a class="indexterm" name="idm6314"></a> file:</p><p><span class="command"><strong>spell &lt; <code class="filename">text.txt</code> &gt; <code class="filename">error.log</code></strong></span></p><p>The following command lists all commands that you can issue to examine another file when using <span class="command"><strong>less</strong></span>:</p><pre class="screen">
<code class="prompt">mike:~&gt;</code> <span class="command"><strong>less --help | grep -i examine</strong></span>
  :e [file]      Examine a new file.
  :n          *  Examine the (N-th) next file from the command line.
  :p          *  Examine the (N-th) previous file from the command line.
  :x          *  Examine the first (or N-th) file from the command line.
</pre><p>The <code class="option">-i</code> option is used for case-insensitive searches - remember that UNIX systems are very case-sensitive.</p><p>If you want to save output of this command for future reference, redirect the output to a file:</p><pre class="screen">
<code class="prompt">mike:~&gt;</code> <span class="command"><strong>less --help | grep -i examine &gt; examine-files-in-less</strong></span>

<code class="prompt">mike:~&gt;</code> <span class="command"><strong>cat examine-files-in-less</strong></span>
  :e [file]      Examine a new file.
  :n          *  Examine the (N-th) next file from the command line.
  :p          *  Examine the (N-th) previous file from the command line.
  :x          *  Examine the first (or N-th) file from the command line.
</pre><p>Output of one command can be piped into another command virtually as many times as you want, just as long as these commands would normally read input from standard input and write output to the standard output.  Sometimes they don't, but then there may be special options that instruct these commands to behave according to the standard definitions; so read the documentation (man and <span class="application">Info</span> pages) of the commands you use if you should encounter errors.</p><p>Again, make sure you don't use names of existing files that you still need.  Redirecting output to existing files will replace the content of those files.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_05_01_02_04"></a>1.2.4. The &gt;&gt; operator</h4></div></div></div><p>Instead of overwriting file data, you can also append text to an existing file using two subsequent<a class="indexterm" name="idm6340"></a> greater-than signs:</p><p>Example:</p><pre class="screen">
<code class="prompt">mike:~&gt;</code> <span class="command"><strong>cat <code class="filename">wishlist</code></strong></span>
more money
less work

<code class="prompt">mike:~&gt;</code> <span class="command"><strong>date &gt;&gt; <code class="filename">wishlist</code></strong></span>

<code class="prompt">mike:~&gt;</code> <span class="command"><strong>cat <code class="filename">wishlist</code></strong></span>
more money
less work
Thu Feb 28 20:23:07 CET 2002
</pre><p>The <span class="command"><strong>date</strong></span> command would normally put the last line on the screen; now it is appended to the file <code class="filename">wishlist</code>.
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 5. I/O redirection </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2. Advanced redirection features</td></tr></table></div></body></html>
