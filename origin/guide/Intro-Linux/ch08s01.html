<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>1. Printing files</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="Linux, Beginners, linux, start, Getting started, guide, Guide, Exercises, exercises"><link rel="home" href="index.html" title="Introduction to Linux"><link rel="up" href="ch08.html" title="Chapter 8. Printers and printing"><link rel="prev" href="ch08.html" title="Chapter 8. Printers and printing"><link rel="next" href="ch08s02.html" title="2. The server side"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1. Printing files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08.html">Prev</a> </td><th width="60%" align="center">Chapter 8. Printers and printing</th><td width="20%" align="right"> <a accesskey="n" href="ch08s02.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sect_08_01"></a>1. Printing files</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_08_01_01"></a>1.1. Command line printing</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_08_01_01_01"></a>1.1.1. Getting the file to the printer</h4></div></div></div><p>Printing from within an application is very easy, selecting the <span class="guimenuitem">Print</span> option from the menu.</p><p>From the command<a class="indexterm" name="idm8600"></a> line, use the <span class="command"><strong>lp<a class="indexterm" name="idm8604"></a></strong></span> or <span class="command"><strong>lpr<a class="indexterm" name="idm8607"></a></strong></span> command.</p><div class="cmdsynopsis"><p><code class="command">lp <code class="filename">file(s)</code></code> </p></div><div class="cmdsynopsis"><p><code class="command">lpr <code class="filename">file(s)</code></code> </p></div><p>These commands can read from a pipe<a class="indexterm" name="idm8616"></a>, so you can print the output of commands using</p><div class="cmdsynopsis"><p><code class="command">command | lp</code> </p></div><p>There are many options available to tune the page layout, the number of copies, the printer that you want to print to if you have more than one available, paper size, one-side or double-sided printing if your printer supports this feature, margins and so on.  Read the man pages for a complete overview.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_08_01_01_02"></a>1.1.2. Status of your print jobs</h4></div></div></div><p>Once the file is accepted in the print<a class="indexterm" name="idm8625"></a> queue, an identification number for the print job is assigned:</p><pre class="screen">
<code class="prompt">davy:~&gt;</code> <span class="command"><strong>lp /etc/profile</strong></span>
request id is blob-253 (1 file(s))
</pre><p>To view (query) the print queue, use the <span class="command"><strong>lpq<a class="indexterm" name="idm8633"></a></strong></span> or <span class="command"><strong>lpstat<a class="indexterm" name="idm8636"></a></strong></span> command.  When entered without arguments, it displays the contents of the default print queue.</p><pre class="screen">
<code class="prompt">davy:~&gt;</code> <span class="command"><strong>lpq</strong></span>
blob is ready and printing
Rank	Owner	Job	File(s)		Total Size
active	davy	253	profile		1024 bytes
<code class="prompt">davy:~&gt;</code> <span class="command"><strong>lpstat</strong></span>
blob-253	davy	1024	Tue 25 Jul 2006 10:20_01 AM CEST
</pre></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_08_01_01_03"></a>1.1.3. Status of your printer</h4></div></div></div><p>Which is the default printer<a class="indexterm" name="idm8646"></a> on a system that has access to multiple printers?</p><div class="cmdsynopsis"><p><code class="command">lpstat <code class="option">-d</code></code> </p></div><pre class="screen">
<code class="prompt">davy:~&gt;</code> <span class="command"><strong>lpstat <code class="option">-d</code></strong></span>
system default destination: blob
</pre><p>What is the status of my printer(s)?</p><div class="cmdsynopsis"><p><code class="command">lpstat <code class="option">-p</code></code> </p></div><pre class="screen">
<code class="prompt">davy:~&gt;</code> <span class="command"><strong>lpstat <code class="option">-p</code></strong></span>
printer blob now printing blob-253. enabled since Jan 01 18:01
</pre></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_08_01_01_04"></a>1.1.4. Removing jobs from the print queue</h4></div></div></div><p>If you don't like<a class="indexterm" name="idm8667"></a> what you see from the status commands, use <span class="command"><strong>lprm<a class="indexterm" name="idm8671"></a></strong></span> or <span class="command"><strong>cancel<a class="indexterm" name="idm8674"></a></strong></span> to delete jobs.</p><pre class="screen">
<code class="prompt">davy:~&gt;</code> <span class="command"><strong>lprm <em class="parameter"><code>253</code></em></strong></span>
</pre><p>In the graphical environment, you may see a popup window telling you that the job has been canceled.</p><p>In larger environments, <span class="command"><strong>lpc</strong></span> may be used to control multiple printers.  See the <span class="application">Info</span> or man pages on each command.</p><p>There are many GUI print tools used as a front-end to <span class="command"><strong>lp</strong></span>, and most graphical applications have a print function that uses <span class="command"><strong>lp</strong></span>.  See the built-in Help functions and program specific documentation for more.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Why are there two commands for every task related to printing?</h3><p>Printing on UNIX and alikes has a long history.  There used to be two rather different approaches: the BSD-style printing and the SystemV-style printing.  For compatibility, Linux with CUPS supports the commands from both styles.  Also note that <span class="command"><strong>lp</strong></span> does not behave exactly like <span class="command"><strong>lpr</strong></span>, <span class="command"><strong>lpq</strong></span> has somewhat different options than <span class="command"><strong>lpstat</strong></span> and <span class="command"><strong>lprm</strong></span> is almost, but not quite, like <span class="command"><strong>cancel</strong></span>.  Which one you use is not important, just pick the commands that you are comfortable with, or that you may know from previous experiences with UNIX-like systems.</p></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_08_01_02"></a>1.2. Formatting</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_08_01_02_01"></a>1.2.1. Tools and languages</h4></div></div></div><p>If we want to get something sensible out of the printer, files should be formatted first.  Apart from an abundance of formatting software, Linux comes with the basic UNIX formatting tools and languages.</p><p>Modern Linux systems support direct printing, without any formatting by the user, of a range of file types: text, PDF, PostScript and several image formats like PNG, JPEG, BMP and GIF.</p><p>For those file formats that do need formatting, Linux comes with a lot of formatting<a class="indexterm" name="idm8703"></a> tools, such as the <span class="command"><strong>pdf2ps</strong></span>, <span class="command"><strong>fax2ps</strong></span> and <span class="command"><strong>a2ps</strong></span> commands, that convert other formats to PostScript.  These commands can create files that can then be used on other systems that don't have all the conversion tools installed.</p><p>Apart from these command line tools there are a lot of graphical word processing programs.  Several complete office suites are available, many are free.  These do the formatting automatically upon submission of a print job.  Just to name a few: <span class="application">OpenOffice.org</span>, <span class="application">KOffice</span>, <span class="application">AbiWord</span>, <span class="application">WordPerfect</span>, etc.</p><p>The following are common languages<a class="indexterm" name="idm8715"></a> in a printing context:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="command"><strong>groff</strong></span>: GNU version<a class="indexterm" name="idm8722"></a> of the UNIX <span class="command"><strong>roff</strong></span> command.  It is a front-end to the groff document formatting system.  Normally it runs the <span class="command"><strong>troff</strong></span> command and a post-processor appropriate for the selected device.  It allows generation of PostScript files.</p></li><li class="listitem"><p><span class="application">TeX</span> and the macro<a class="indexterm" name="idm8729"></a> package <span class="application">LaTeX</span>: one of the most widely used markup languages on UNIX systems.  Usually invoked as <span class="command"><strong>tex</strong></span>, it formats files and outputs a corresponding device-independent representation of the typeset document.</p><p>Technical works are <span class="emphasis"><em>still</em></span> frequently written in <span class="application">LaTeX</span> because of its support for mathematic formulas, although efforts are being made at <a class="ulink" href="http://www.w3.org" target="_top">W3C</a> (the World Wide Web Consortium) to include this feature in other applications.</p></li><li class="listitem"><p>SGML<a class="indexterm" name="idm8739"></a> and XML<a class="indexterm" name="idm8741"></a>: Free parsers are available for UNIX and Linux.  XML is the next generation SGML, it forms the basis for DocBook XML, a document system (this book is written in XML, for instance).</p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Printing documentation</h3><p>The man<a class="indexterm" name="idm8746"></a> pages contain pre-formatted <span class="command"><strong>troff<a class="indexterm" name="idm8750"></a></strong></span> data which has to be formatted before it can roll out of your printer.  Printing<a class="indexterm" name="idm8752"></a> is done using the <code class="option">-t</code> option to the <span class="command"><strong>man</strong></span> command:</p><div class="cmdsynopsis"><p><code class="command">man <code class="option">-t</code> <em class="parameter"><code>command</code></em> &gt; <code class="filename">man-command.ps</code></code> </p></div><p>Then print the PostScript file.  If a default print destination is configured for your system/account, you can just issue the command <span class="command"><strong>man <code class="option">-t</code> <em class="parameter"><code>command</code></em></strong></span> to send the formatted page to the printer directly.</p></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="sect_08_01_02_02"></a>1.2.2. Previewing formatted files</h4></div></div></div><p>Anything that you can send to the printer can normally be sent to the screen as well.  Depending on the file format, you can use one of these commands<a class="indexterm" name="idm8769"></a>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>PostScript files: with the <span class="command"><strong>gv<a class="indexterm" name="idm8776"></a></strong></span> (GhostView) command.</p></li><li class="listitem"><p>TeX dvi files: with <span class="command"><strong>xdvi<a class="indexterm" name="idm8781"></a></strong></span>, or with <span class="application">KDE</span>'s <span class="command"><strong>kdvi<a class="indexterm" name="idm8785"></a></strong></span>.</p></li><li class="listitem"><p>PDF files: <span class="command"><strong>xpdf<a class="indexterm" name="idm8790"></a></strong></span>, <span class="command"><strong>kpdf<a class="indexterm" name="idm8793"></a></strong></span>, <span class="command"><strong>gpdf<a class="indexterm" name="idm8796"></a></strong></span> or Adobe's viewer, <span class="command"><strong>acroread<a class="indexterm" name="idm8799"></a></strong></span>, which is also available for free but is not free software.  Adobe's reader supports PDF 1.6, the others only support PDF versions up to 1.5.  The version of a PDF file can be determined using the <span class="command"><strong>file</strong></span> command.</p></li><li class="listitem"><p>From within applications, such as Firefox or OpenOffice, you can usually select <span class="guimenu">Print Preview</span> from one of the menus.</p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch08.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch08s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 8. Printers and printing </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2. The server side</td></tr></table></div></body></html>
