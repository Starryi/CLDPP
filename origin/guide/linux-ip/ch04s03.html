<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3. Sending Packets Through a Gateway</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="linux, ip, iproute2, ifconfig, firewall, ARP, NAT, route, routing, route selection, routing selection, network administration"><link rel="home" href="index.html" title="Guide to IP Layer Network Administration with Linux"><link rel="up" href="ch04.html" title="Chapter 4. IP Routing"><link rel="prev" href="ch04s02.html" title="2. Routing to Locally Connected Networks"><link rel="next" href="ch04s04.html" title="4. Operating as a Router"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Sending Packets Through a Gateway</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a> </td><th width="60%" align="center">Chapter 4. IP Routing</th><td width="20%" align="right"> <a accesskey="n" href="ch04s04.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="routing-default"></a>3. Sending Packets Through a Gateway</h2></div></div></div><a class="indexterm" name="idm1656"></a><p>
      By comparison to the total number of publicly accessible hosts on the
      Internet there is an almost insignificant number of hosts inside any
      locally reachable network.  This means that the majority of potential
      destinations are only available via a router.
    </p><p>
      Any machine which will accept and forward packets between two networks
      is a router.  Every router is at least dual-homed; one interface
      connects to one network, and a second interface connects to another
      network.  This interface is frequently an independent NIC, although it
      might be a virtual interface, such as a VLAN interface.  Machines
      connected to either network learn by a routing protocol or are
      statically configured to pass traffic for the other network to the
      router.
    </p><p>
      For <code class="systemitem">tristan</code>, there are two different paths out of 192.168.99.0/24.
      One path has another leaf network, 192.168.98.0/24, and the other path
      has many networks, including the Internet.  The routing table on
      <code class="systemitem">tristan</code> should then contain two different routes out of the network.
      One destination 192.168.98.0/24 will be reachable through 192.168.99.1.
      So, if <code class="systemitem">tristan</code> has a packet with a destination IP address in the range
      of the branch office network, it will choose to send the packet directly
      to <code class="systemitem">isdn-router</code>.
    </p><p>
      The default route is another way to say the route for destination 0/0.
      This is the most general possible route.
      It is the catch-all route.  If no more specific
      route exists in a routing table, a default route will be used.
      Many servers and workstations are connected to leaf networks
      with only one router, hence
      <a class="xref" href="ch04s02.html#ex-routing-local" title="Example 4.3. Identifying the locally connected networks with route">Example 4.3, &#8220;Identifying the locally connected networks with
        <span class="command">route</span>&#8221;</a>
      shows a very common sort of routing table.  There's a route for
      localhost, for the locally connected IP network, and a default
      route.
    </p><p>
      For Internet-connected hosts, the default route is customarily set to
      the IP of the locally reachable router which has a path to the Internet.
      Each router in turn has a default gateway pointing to another
      Internet-connected router until the packet is handed off to an Internet
      Service Provider's network.
    </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2. Routing to Locally Connected Networks </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4. Operating as a Router</td></tr></table></div></body></html>
