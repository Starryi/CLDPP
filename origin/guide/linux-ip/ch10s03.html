<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3. Using the Routing Policy Database and Multiple Routing Tables</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="linux, ip, iproute2, ifconfig, firewall, ARP, NAT, route, routing, route selection, routing selection, network administration"><link rel="home" href="index.html" title="Guide to IP Layer Network Administration with Linux"><link rel="up" href="ch10.html" title="Chapter 10. Advanced IP Routing"><link rel="prev" href="ch10s02.html" title="2. Overview of Routing and Packet Filter Interactions"><link rel="next" href="ch10s04.html" title="4. Multiple Connections to the Internet"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Using the Routing Policy Database and Multiple Routing
      Tables</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10s02.html">Prev</a> </td><th width="60%" align="center">Chapter 10. Advanced IP Routing</th><td width="20%" align="right"> <a accesskey="n" href="ch10s04.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="adv-rpdb"></a>3. Using the Routing Policy Database and Multiple Routing
      Tables</h2></div></div></div><p>
      Understanding and practically applying the knowledge of how and when to
      harness the routing features of linux is a matter of experience.  The
      below is a set of examples for how to use the RPDB and multiple routing
      tables to solve different types of problems.  These are but a few simple
      examples which allude to the flexibility and power available with the
      complex policy routing system under linux.
    </p><p>
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="adv-routing-tos"></a>3.1. Using Type of Service Policy Routing</h3></div></div></div><p>
        Type of Service (ToS) is a flag in the header of an IP packet
        which is sometimes honored by upstream routers.  Some routers on the
        Internet respect the ToS flag and others do not, however, the ToS flag
        can be used as part of the decision about where to route a given
        packet (for a refresher on the keys used for routing to a destination
        read
        <a class="xref" href="ch04s05.html" title="5. Route Selection">Section 5, &#8220;Route Selection&#8221;</a>).  Because it can be used as part
        of the routing decision, ToS can be used to select a route separate
        from the route chosen for normal packets (packets not marked with any
        ToS).
      </p><p>
      </p><p>
      </p><p>
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="adv-routing-fwmark"></a>3.2. Using fwmark for Policy Routing</h3></div></div></div><p>
        FIXME!! Don't forget to point out that fwmark with ipchains/iptables
        is a decimal number, but that iproute2 uses hexadecimal number.
        Thanks to Jose Luis Domingo Lopez for his <a class="ulink" href="http://mailman.ds9a.nl/pipermail/lartc/2002q3/005039.html" target="_top">post</a>
        to the LARTC list!
      </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="adv-routing-nat"></a>3.3. Policy Routing and NAT</h3></div></div></div><p>
      </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch10.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch10s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2. Overview of Routing and Packet Filter Interactions </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4. Multiple Connections to the Internet</td></tr></table></div></body></html>
