<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Guide to IP Layer Network Administration with Linux</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="description" content="This guide provides an overview of many of the tools available for IP network administration of the linux operating system, kernels in the 2.2 and 2.4 series. It covers Ethernet, ARP, IP routing, NAT, and other topics central to the management of IP networks."><meta name="keywords" content="linux, ip, iproute2, ifconfig, firewall, ARP, NAT, route, routing, route selection, routing selection, network administration"><link rel="home" href="index.html" title="Guide to IP Layer Network Administration with Linux"><link rel="next" href="pr01.html" title="Introduction"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Guide to IP Layer Network Administration with Linux</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="pr01.html">Next</a></td></tr></table><hr></div><div lang="en" class="book"><div class="titlepage"><div><div><h1 class="title"><a name="idm1"></a>Guide to IP Layer Network Administration with Linux</h1></div><div><h2 class="subtitle">Version 0.4.5</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Martin</span> <span class="othername">A.</span> <span class="surname">Brown</span></h3><div class="affiliation"><span class="orgname">
        <a class="ulink" href="http://www.securepipe.com/" target="_top">SecurePipe, Inc.</a>
        <br></span> <span class="orgdiv">Network Administration<br></span><div class="address"><p><code class="email">&lt;<a class="email" href="mailto:mabrown@securepipe.com">mabrown@securepipe.com</a>&gt;</code></p></div></div></div></div><div><p class="copyright">Copyright © 2002, 2003 Martin A. Brown</p></div><div><p class="pubdate">2007-Mar-14</p></div><div><div class="revhistory"><table style="border-style:solid; width:100%;" summary="Revision History"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 0.4.4</td><td align="left">2003-04-26</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">added index, began packet filtering chapter</td></tr><tr><td align="left">Revision 0.4.3</td><td align="left">2003-04-14</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">ongoing editing, ARP/NAT fixes, routing content</td></tr><tr><td align="left">Revision 0.4.2</td><td align="left">2003-03-16</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">ongoing editing; unreleased version</td></tr><tr><td align="left">Revision 0.4.1</td><td align="left">2003-02-19</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">major routing revision; better use of callouts</td></tr><tr><td align="left">Revision 0.4.0</td><td align="left">2003-02-11</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">major NAT revs; add inline scripts; outline FIB</td></tr><tr><td align="left">Revision 0.3.9</td><td align="left">2003-02-05</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">fleshed out bonding; added bridging chapter</td></tr><tr><td align="left">Revision 0.3.8</td><td align="left">2003-02-03</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">move to linux-ip.net; use TLDP XSL stylesheets</td></tr><tr><td align="left">Revision 0.3.7</td><td align="left">2003-02-02</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">major editing on ARP; minor editing on routing</td></tr><tr><td align="left">Revision 0.3.6</td><td align="left">2003-01-30</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">switch to XSLT processing; minor revs; CVS</td></tr><tr><td align="left">Revision 0.3.5</td><td align="left">2003-01-08</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">ARP flux complete; ARP filtering touched</td></tr><tr><td align="left">Revision 0.3.4</td><td align="left">2003-01-06</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">ARP complete; bridging added; ip neigh complete</td></tr><tr><td align="left">Revision 0.3.3</td><td align="left">2003-01-05</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">split into 3 parts; ARP chapter begun</td></tr><tr><td align="left">Revision 0.3.2</td><td align="left">2002-12-29</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">links updated; minor editing</td></tr><tr><td align="left">Revision 0.3.1</td><td align="left">2002-11-26</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">edited: intro, snat, nat; split advanced in two</td></tr><tr><td align="left">Revision 0.3.0</td><td align="left">2002-11-14</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">chapters finally have good HTML names</td></tr><tr><td align="left">Revision 0.2.9</td><td align="left">2002-11-11</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">routing chapter heavily edited</td></tr><tr><td align="left">Revision 0.2.8</td><td align="left">2002-11-07</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">basic chapter heavily edited</td></tr><tr><td align="left">Revision 0.2.7</td><td align="left">2002-11-04</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">routing chapter finished; links rearranged</td></tr><tr><td align="left">Revision 0.2.6</td><td align="left">2002-10-29</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">routing chapter continued</td></tr><tr><td align="left">Revision 0.2.5</td><td align="left">2002-10-28</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">routing chapter partly complete</td></tr><tr><td align="left">Revision 0.2.4</td><td align="left">2002-10-08</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">advanced routing additions and overview</td></tr><tr><td align="left">Revision 0.2.3</td><td align="left">2002-09-30</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">minor editing; worked on tools/netstat; advanced
                   routing</td></tr><tr><td align="left">Revision 0.2.2</td><td align="left">2002-09-24</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">formalized revisioning; finished basic networking;
                   started netstat</td></tr><tr><td align="left">Revision 0.2.1</td><td align="left">2002-09-21</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">added network map to incomplete rough draft</td></tr><tr><td align="left">Revision 0.2</td><td align="left">2002-09-20</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">incomplete rough draft released on LARTC list</td></tr><tr><td align="left">Revision 0.1</td><td align="left">2002-08-04</td><td align="left">MAB</td></tr><tr><td align="left" colspan="3">rough draft begun</td></tr></table></div></div><div><div class="abstract"><p class="title"><b>Abstract</b></p><p>
        This guide provides an overview of many of the tools available
        for IP network administration of the linux operating system,
        kernels in the 2.2 and 2.4 series.  It covers Ethernet, ARP,
        IP routing, NAT, and other topics central to the management of IP
        networks.
      </p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="preface"><a href="pr01.html">Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="pr01s01.html">1. Target Audience, Assumptions, and Recommendations</a></span></dt><dt><span class="section"><a href="pr01s02.html">2. Conventions</a></span></dt><dt><span class="section"><a href="pr01s03.html">3. Bugs and Roadmap</a></span></dt><dt><span class="section"><a href="pr01s04.html">4. Technical Note and Summary of Approach</a></span></dt><dt><span class="section"><a href="pr01s05.html">5. Acknowledgements and Request for Remarks</a></span></dt></dl></dd><dt><span class="part"><a href="pt01.html">I. Concepts</a></span></dt><dd><dl><dt><span class="chapter"><a href="ch01.html">1. Basic IP Connectivity</a></span></dt><dd><dl><dt><span class="section"><a href="ch01s01.html">1. IP Networking Control Files</a></span></dt><dt><span class="section"><a href="ch01s02.html">2. Reading Routes and IP Information</a></span></dt><dd><dl><dt><span class="section"><a href="ch01s02.html#basic-local-network">2.1. Sending Packets to the Local Network</a></span></dt><dt><span class="section"><a href="ch01s02.html#basic-default-gateway">2.2. Sending Packets to Unknown Networks Through the Default
        Gateway</a></span></dt><dt><span class="section"><a href="ch01s02.html#basic-static">2.3. Static Routes to Networks</a></span></dt></dl></dd><dt><span class="section"><a href="ch01s03.html">3. Changing IP Addresses and Routes</a></span></dt><dd><dl><dt><span class="section"><a href="ch01s03.html#basic-changing-ip">3.1. Changing the IP on a machine</a></span></dt><dt><span class="section"><a href="ch01s03.html#basic-changing-default">3.2. Setting the Default Route</a></span></dt><dt><span class="section"><a href="ch01s03.html#basic-changing-static">3.3. Adding and removing a static route</a></span></dt></dl></dd><dt><span class="section"><a href="ch01s04.html">4. Conclusion</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch02.html">2. Ethernet</a></span></dt><dd><dl><dt><span class="section"><a href="ch02s01.html">1. Address Resolution Protocol (ARP)</a></span></dt><dd><dl><dt><span class="section"><a href="ch02s01.html#ether-arp-overview">1.1. Overview of Address Resolution Protocol</a></span></dt><dt><span class="section"><a href="ch02s01.html#ether-arp-cache">1.2. The ARP cache</a></span></dt><dt><span class="section"><a href="ch02s01.html#ether-arp-suppression">1.3. ARP Suppression</a></span></dt><dt><span class="section"><a href="ch02s01.html#ether-arp-flux">1.4. The ARP Flux Problem</a></span></dt></dl></dd><dt><span class="section"><a href="ch02s02.html">2. Proxy ARP</a></span></dt><dt><span class="section"><a href="ch02s03.html">3. ARP filtering</a></span></dt><dt><span class="section"><a href="ch02s04.html">4. Connecting to an Ethernet 802.1q VLAN</a></span></dt><dt><span class="section"><a href="ch02s05.html">5. Link Aggregation and High Availability with Bonding</a></span></dt><dd><dl><dt><span class="section"><a href="ch02s05.html#ether-bonding-aggregation">5.1. Link Aggregation</a></span></dt><dt><span class="section"><a href="ch02s05.html#ether-bonding-ha">5.2. High Availability</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch03.html">3. Bridging</a></span></dt><dd><dl><dt><span class="section"><a href="ch03s01.html">1. Concepts of Bridging</a></span></dt><dt><span class="section"><a href="ch03s02.html">2. Bridging and Spanning Tree Protocol</a></span></dt><dt><span class="section"><a href="ch03s03.html">3. Bridging and Packet Filtering</a></span></dt><dt><span class="section"><a href="ch03s04.html">4. Traffic Control with a Bridge</a></span></dt><dt><span class="section"><a href="ch03s05.html">5. <span class="command"><strong>ebtables</strong></span></a></span></dt></dl></dd><dt><span class="chapter"><a href="ch04.html">4. IP Routing</a></span></dt><dd><dl><dt><span class="section"><a href="ch04s01.html">1. Introduction to Linux Routing</a></span></dt><dt><span class="section"><a href="ch04s02.html">2. Routing to Locally Connected Networks</a></span></dt><dt><span class="section"><a href="ch04s03.html">3. Sending Packets Through a Gateway</a></span></dt><dt><span class="section"><a href="ch04s04.html">4. Operating as a Router</a></span></dt><dt><span class="section"><a href="ch04s05.html">5. Route Selection</a></span></dt><dd><dl><dt><span class="section"><a href="ch04s05.html#routing-selection-common">5.1. The Common Case</a></span></dt><dt><span class="section"><a href="ch04s05.html#routing-selection-adv">5.2. The Whole Story</a></span></dt><dt><span class="section"><a href="ch04s05.html#routing-selection-summary">5.3. Summary</a></span></dt></dl></dd><dt><span class="section"><a href="ch04s06.html">6. Source Address Selection</a></span></dt><dt><span class="section"><a href="ch04s07.html">7. Routing Cache</a></span></dt><dt><span class="section"><a href="ch04s08.html">8. Routing Tables</a></span></dt><dd><dl><dt><span class="section"><a href="ch04s08.html#routing-table-entries">8.1. Routing Table Entries (Routes)</a></span></dt><dt><span class="section"><a href="ch04s08.html#routing-table-local">8.2. The Local Routing Table</a></span></dt><dt><span class="section"><a href="ch04s08.html#routing-table-main">8.3. The Main Routing Table</a></span></dt></dl></dd><dt><span class="section"><a href="ch04s09.html">9. Routing Policy Database (RPDB)</a></span></dt><dt><span class="section"><a href="ch04s10.html">10. ICMP and Routing</a></span></dt><dd><dl><dt><span class="section"><a href="ch04s10.html#routing-icmp-mtu">10.1. MTU, MSS, and ICMP</a></span></dt><dt><span class="section"><a href="ch04s10.html#routing-icmp-redirect">10.2. ICMP Redirects and Routing</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch05.html">5. Network Address Translation (NAT)</a></span></dt><dd><dl><dt><span class="section"><a href="ch05s01.html">1. Rationale for and Introduction to NAT</a></span></dt><dt><span class="section"><a href="ch05s02.html">2. Application Layer Protocols with Embedded Network Information</a></span></dt><dt><span class="section"><a href="ch05s03.html">3. Stateless NAT with <span class="command"><strong>iproute2</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="ch05s03.html#nat-stateless-simple">3.1. Stateless NAT Packet Capture and Introduction</a></span></dt><dt><span class="section"><a href="ch05s03.html#nat-stateless-howto">3.2. Stateless NAT Practicum</a></span></dt><dt><span class="section"><a href="ch05s03.html#nat-stateless-rpdb">3.3. Conditional Stateless NAT</a></span></dt></dl></dd><dt><span class="section"><a href="ch05s04.html">4. Stateless NAT and Packet Filtering</a></span></dt><dt><span class="section"><a href="ch05s05.html">5. Destination NAT with netfilter (DNAT)</a></span></dt><dd><dl><dt><span class="section"><a href="ch05s05.html#nat-dnat-pat">5.1. Port Address Translation with DNAT</a></span></dt></dl></dd><dt><span class="section"><a href="ch05s06.html">6. Port Address Translation (PAT) from Userspace</a></span></dt><dt><span class="section"><a href="ch05s07.html">7. Transparent PAT from Userspace</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch06.html">6. Masquerading and Source Network Address Translation</a></span></dt><dd><dl><dt><span class="section"><a href="ch06s01.html">1. Concepts of Source NAT</a></span></dt><dd><dl><dt><span class="section"><a href="ch06s01.html#snat-masq-diff">1.1. Differences Between SNAT and Masquerading</a></span></dt><dt><span class="section"><a href="ch06s01.html#snat-double">1.2. Double SNAT/Masquerading</a></span></dt></dl></dd><dt><span class="section"><a href="ch06s02.html">2. Issues with SNAT/Masquerading and Inbound Traffic</a></span></dt><dt><span class="section"><a href="ch06s03.html">3. Where Masquerading and SNAT Break</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch07.html">7. Packet Filtering</a></span></dt><dd><dl><dt><span class="section"><a href="ch07s01.html">1. Rationale for and Introduction to Packet Filtering</a></span></dt><dd><dl><dt><span class="section"><a href="ch07s01.html#pf-history">1.1. History of Linux Packet Filter Support</a></span></dt></dl></dd><dt><span class="section"><a href="ch07s02.html">2. Limits and Weaknesses of Packet Filtering</a></span></dt><dd><dl><dt><span class="section"><a href="ch07s02.html#pf-limits">2.1. Limits of the Usefulness of Packet Filtering</a></span></dt><dt><span class="section"><a href="ch07s02.html#pf-weakness">2.2. Weaknesses of Packet Filtering</a></span></dt><dt><span class="section"><a href="ch07s02.html#pf-weakness-stateless">2.3. Complex Network Layer Stateless Packet Filters</a></span></dt></dl></dd><dt><span class="section"><a href="ch07s03.html">3. General Packet Filter Requirements</a></span></dt><dt><span class="section"><a href="ch07s04.html">4. The Netfilter Architecture</a></span></dt><dd><dl><dt><span class="section"><a href="ch07s04.html#pf-netfilter-iptables">4.1. Packet Filtering with <span class="command"><strong>iptables</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="ch07s05.html">5. Packet Filtering with <span class="command"><strong>ipchains</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="ch07s05.html#pf-ipchains-mangling">5.1. Packet Mangling with <span class="command"><strong>ipchains</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="ch07s06.html">6. Protecting a Host</a></span></dt><dt><span class="section"><a href="ch07s07.html">7. Protecting a Network</a></span></dt><dt><span class="section"><a href="ch07s08.html">8. Further Resources</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch08.html">8. Statefulness and Statelessness</a></span></dt><dd><dl><dt><span class="section"><a href="ch08s01.html">1. </a></span></dt><dt><span class="section"><a href="ch08s02.html">2. Statelessness of IP Routing</a></span></dt><dt><span class="section"><a href="ch08s03.html">3. Netfilter Connection Tracking</a></span></dt><dd><dl><dt><span class="section"><a href="ch08s03.html#state-conntrack-filter">3.1. </a></span></dt><dt><span class="section"><a href="ch08s03.html#state-conntrack-nat">3.2. </a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="part"><a href="pt02.html">II. Cookbook</a></span></dt><dd><dl><dt><span class="chapter"><a href="ch09.html">9. Advanced IP Management</a></span></dt><dd><dl><dt><span class="section"><a href="ch09s01.html">1. Multiple IPs and the ARP Problem</a></span></dt><dt><span class="section"><a href="ch09s02.html">2. Multiple IP Networks on one Ethernet Segment</a></span></dt><dt><span class="section"><a href="ch09s03.html">3. Breaking a network in two with proxy ARP</a></span></dt><dt><span class="section"><a href="ch09s04.html">4. Multiple IPs on an Interface</a></span></dt><dt><span class="section"><a href="ch09s05.html">5. Multiple connections to the same Ethernet</a></span></dt><dt><span class="section"><a href="ch09s06.html">6. Multihomed Hosts</a></span></dt><dt><span class="section"><a href="ch09s07.html">7. Binding to Non-local Addresses</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch10.html">10. Advanced IP Routing</a></span></dt><dd><dl><dt><span class="section"><a href="ch10s01.html">1. Introduction to Policy Routing</a></span></dt><dt><span class="section"><a href="ch10s02.html">2. Overview of Routing and Packet Filter Interactions</a></span></dt><dt><span class="section"><a href="ch10s03.html">3. Using the Routing Policy Database and Multiple Routing
      Tables</a></span></dt><dd><dl><dt><span class="section"><a href="ch10s03.html#adv-routing-tos">3.1. Using Type of Service Policy Routing</a></span></dt><dt><span class="section"><a href="ch10s03.html#adv-routing-fwmark">3.2. Using fwmark for Policy Routing</a></span></dt><dt><span class="section"><a href="ch10s03.html#adv-routing-nat">3.3. Policy Routing and NAT</a></span></dt></dl></dd><dt><span class="section"><a href="ch10s04.html">4. Multiple Connections to the Internet</a></span></dt><dd><dl><dt><span class="section"><a href="ch10s04.html#adv-multi-internet-outbound">4.1. Outbound traffic Using Multiple Connections to the
        Internet</a></span></dt><dt><span class="section"><a href="ch10s04.html#adv-multi-internet-inbound">4.2. Inbound traffic Using Multiple Connections to the
        Internet</a></span></dt><dt><span class="section"><a href="ch10s04.html#adv-multi-internet-bidirectional">4.3. Using Multiple Connections to the Internet for Inbound and
        Outbound Connections</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch11.html">11. Scripts for Managing IP</a></span></dt><dd><dl><dt><span class="section"><a href="ch11s01.html">1. Proxy ARP Scripts</a></span></dt><dt><span class="section"><a href="ch11s02.html">2. NAT Scripts</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch12.html">12. Troubleshooting</a></span></dt><dd><dl><dt><span class="section"><a href="ch12s01.html">1. Introduction to Troubleshooting</a></span></dt><dt><span class="section"><a href="ch12s02.html">2. Troubleshooting at the Ethernet Layer</a></span></dt><dt><span class="section"><a href="ch12s03.html">3. Troubleshooting at the IP Layer</a></span></dt><dt><span class="section"><a href="ch12s04.html">4. Handling and Diagnosing Routing Problems</a></span></dt><dt><span class="section"><a href="ch12s05.html">5. Identifying Problems with TCP Sessions</a></span></dt><dt><span class="section"><a href="ch12s06.html">6. DNS Troubleshooting</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="pt03.html">III. Appendices and Reference</a></span></dt><dd><dl><dt><span class="appendix"><a href="apa.html">A. An Example Network and Description</a></span></dt><dd><dl><dt><span class="section"><a href="apas01.html">1. Example Network Map and General Notes</a></span></dt><dt><span class="section"><a href="apas02.html">2. Example Network Addressing Charts</a></span></dt></dl></dd><dt><span class="appendix"><a href="apb.html">B. Ethernet Layer Tools</a></span></dt><dd><dl><dt><span class="section"><a href="apbs01.html">1. <span class="command"><strong>arp</strong></span></a></span></dt><dt><span class="section"><a href="apbs02.html">2. <span class="command"><strong>arping</strong></span></a></span></dt><dt><span class="section"><a href="apbs03.html">3. <span class="command"><strong>ip link</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apbs03.html#tools-ip-link-show">3.1. Displaying link layer characteristics with <span class="command"><strong>ip link
          show</strong></span></a></span></dt><dt><span class="section"><a href="apbs03.html#tools-ip-link-set">3.2. Changing link layer characteristics with
          <span class="command"><strong>ip link set</strong></span></a></span></dt><dt><span class="section"><a href="apbs03.html#tools-ip-link-set-down">3.3. Deactivating a device with <span class="command"><strong>ip link set</strong></span></a></span></dt><dt><span class="section"><a href="apbs03.html#tools-ip-link-set-up">3.4. Activating a device with <span class="command"><strong>ip link set</strong></span></a></span></dt><dt><span class="section"><a href="apbs03.html#tools-ip-link-set-mtu">3.5. Using <span class="command"><strong>ip link set</strong></span> to change the MTU</a></span></dt><dt><span class="section"><a href="apbs03.html#tools-ip-link-set-name">3.6. Changing the device name with
          <span class="command"><strong>ip link set</strong></span></a></span></dt><dt><span class="section"><a href="apbs03.html#tools-ip-link-set-address">3.7. Changing hardware or Ethernet broadcast address with
          <span class="command"><strong>ip link set</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="apbs04.html">4. <span class="command"><strong>ip neighbor</strong></span></a></span></dt><dt><span class="section"><a href="apbs05.html">5. <span class="command"><strong>mii-tool</strong></span></a></span></dt></dl></dd><dt><span class="appendix"><a href="apc.html">C. IP Address Management</a></span></dt><dd><dl><dt><span class="section"><a href="apcs01.html">1. <span class="command"><strong>ifconfig</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apcs01.html#tools-ifconfig-display">1.1. Displaying interface information with
          <span class="command"><strong>ifconfig</strong></span></a></span></dt><dt><span class="section"><a href="apcs01.html#tools-ifconfig-down">1.2. Bringing down an interface with
          <span class="command"><strong>ifconfig</strong></span></a></span></dt><dt><span class="section"><a href="apcs01.html#tools-ifconfig-up">1.3. Bringing up an interface with
          <span class="command"><strong>ifconfig</strong></span></a></span></dt><dt><span class="section"><a href="apcs01.html#tools-ifconfig-output">1.4. Reading <span class="command"><strong>ifconfig</strong></span> output</a></span></dt><dt><span class="section"><a href="apcs01.html#tools-ifconfig-mtu">1.5. Changing MTU with <span class="command"><strong>ifconfig</strong></span></a></span></dt><dt><span class="section"><a href="apcs01.html#tools-ifconfig-flags">1.6. Changing device flags with <span class="command"><strong>ifconfig</strong></span></a></span></dt><dt><span class="section"><a href="apcs01.html#tools-ifconfig-conclusion">1.7. General remarks about <span class="command"><strong>ifconfig</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="apcs02.html">2. <span class="command"><strong>ip address</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apcs02.html#tools-ip-address-show">2.1. Displaying interface information with
            <span class="command"><strong>ip address show</strong></span></a></span></dt><dt><span class="section"><a href="apcs02.html#tools-ip-address-add">2.2. Using <span class="command"><strong>ip address add</strong></span> to configure
          IP address information</a></span></dt><dt><span class="section"><a href="apcs02.html#tools-ip-address-del">2.3. Using <span class="command"><strong>ip address del</strong></span> to remove IP addresses
          from an interface</a></span></dt><dt><span class="section"><a href="apcs02.html#tools-ip-address-flush">2.4. Removing all IP address information from an interface
          with <span class="command"><strong>ip address flush</strong></span></a></span></dt><dt><span class="section"><a href="apcs02.html#tools-ip-address-conclusion">2.5. Conclusion</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="apd.html">D. IP Route Management</a></span></dt><dd><dl><dt><span class="section"><a href="apds01.html">1. <span class="command"><strong>route</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apds01.html#tools-route-show">1.1. Displaying the routing table with <span class="command"><strong>route</strong></span></a></span></dt><dt><span class="section"><a href="apds01.html#tools-route-output">1.2. Reading <span class="command"><strong>route</strong></span>'s output</a></span></dt><dt><span class="section"><a href="apds01.html#tools-route-show-cache">1.3. Using <span class="command"><strong>route</strong></span> to display the routing cache</a></span></dt><dt><span class="section"><a href="apds01.html#tools-route-add">1.4. Creating a static route with <span class="command"><strong>route add</strong></span></a></span></dt><dt><span class="section"><a href="apds01.html#tools-route-add-default">1.5. Creating a default route with <span class="command"><strong>route add default</strong></span></a></span></dt><dt><span class="section"><a href="apds01.html#tools-route-del">1.6. Removing routes with <span class="command"><strong>route del</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="apds02.html">2. <span class="command"><strong>ip route</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apds02.html#tools-ip-route-show">2.1. Displaying a routing table with <span class="command"><strong>ip route
          show</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-show-cache">2.2. Displaying the routing cache with <span class="command"><strong>ip route
          show cache</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-add">2.3. Using <span class="command"><strong>ip route add</strong></span> to populate a routing
          table</a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-add-default">2.4. Adding a default route with <span class="command"><strong>ip route add
          default</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-add-nat">2.5. Setting up NAT with <span class="command"><strong>ip route add nat</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-del">2.6. Removing routes with <span class="command"><strong>ip route del</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-change">2.7. Altering existing routes with <span class="command"><strong>ip route
          change</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-get">2.8. Programmatically fetching route information with <span class="command"><strong>ip
          route get</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-flush">2.9. Clearing routing tables with <span class="command"><strong>ip route
          flush</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-flush-cache">2.10. <span class="command"><strong>ip route flush cache</strong></span></a></span></dt><dt><span class="section"><a href="apds02.html#tools-ip-route-summary">2.11. Summary of the use of <span class="command"><strong>ip route</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="apds03.html">3. <span class="command"><strong>ip rule</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apds03.html#tools-ip-rule-intro">3.1. <span class="command"><strong>ip rule show</strong></span></a></span></dt><dt><span class="section"><a href="apds03.html#tools-ip-rule-show">3.2. Displaying the RPDB with <span class="command"><strong>ip rule show</strong></span></a></span></dt><dt><span class="section"><a href="apds03.html#tools-ip-rule-add">3.3. Adding a rule to the RPDB with <span class="command"><strong>ip rule
          add</strong></span></a></span></dt><dt><span class="section"><a href="apds03.html#tools-ip-rule-add-nat">3.4. <span class="command"><strong>ip rule add nat</strong></span></a></span></dt><dt><span class="section"><a href="apds03.html#tools-ip-rule-del">3.5. <span class="command"><strong>ip rule del</strong></span></a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="ape.html">E. Tunnels and VPNs</a></span></dt><dd><dl><dt><span class="section"><a href="apes01.html">1. Lightweight encrypted tunnel with <span class="command"><strong>CIPE</strong></span></a></span></dt><dt><span class="section"><a href="apes02.html">2. GRE tunnels with <span class="command"><strong>ip tunnel</strong></span></a></span></dt><dt><span class="section"><a href="apes03.html">3. All manner of tunnels with <span class="command"><strong>ssh</strong></span></a></span></dt><dt><span class="section"><a href="apes04.html">4. IPSec implementation via <span class="command"><strong>FreeS/WAN</strong></span></a></span></dt><dt><span class="section"><a href="apes05.html">5. IPSec implementation in the kernel</a></span></dt><dt><span class="section"><a href="apes06.html">6. <span class="command"><strong>PPTP</strong></span></a></span></dt></dl></dd><dt><span class="appendix"><a href="apf.html">F. Sockets; Servers and Clients</a></span></dt><dd><dl><dt><span class="section"><a href="apfs01.html">1. <span class="command"><strong>telnet</strong></span></a></span></dt><dt><span class="section"><a href="apfs02.html">2. <span class="command"><strong>nc</strong></span></a></span></dt><dt><span class="section"><a href="apfs03.html">3. <span class="command"><strong>socat</strong></span></a></span></dt><dt><span class="section"><a href="apfs04.html">4. <span class="command"><strong>tcpclient</strong></span></a></span></dt><dt><span class="section"><a href="apfs05.html">5. <span class="command"><strong>xinetd</strong></span></a></span></dt><dt><span class="section"><a href="apfs06.html">6. <span class="command"><strong>tcpserver</strong></span></a></span></dt><dt><span class="section"><a href="apfs07.html">7. <span class="command"><strong>redir</strong></span></a></span></dt></dl></dd><dt><span class="appendix"><a href="apg.html">G. Diagnostic Tools</a></span></dt><dd><dl><dt><span class="section"><a href="apgs01.html">1. <span class="command"><strong>ping</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apgs01.html#tools-ping-simple">1.1. Using <span class="command"><strong>ping</strong></span> to test reachability</a></span></dt><dt><span class="section"><a href="apgs01.html#tools-ping-stress">1.2. Using <span class="command"><strong>ping</strong></span> to stress a network</a></span></dt><dt><span class="section"><a href="apgs01.html#tools-ping-record-route">1.3. Recording a network route with <span class="command"><strong>ping</strong></span></a></span></dt><dt><span class="section"><a href="apgs01.html#tools-ping-ttl">1.4. Setting the TTL on a <span class="command"><strong>ping</strong></span> packet</a></span></dt><dt><span class="section"><a href="apgs01.html#tools-ping-tos">1.5. Setting ToS for a diagnostic <span class="command"><strong>ping</strong></span></a></span></dt><dt><span class="section"><a href="apgs01.html#tools-ping-specify-source">1.6. Specifying a source address for <span class="command"><strong>ping</strong></span></a></span></dt><dt><span class="section"><a href="apgs01.html#tools-ping-summary">1.7. Summary on the use of <span class="command"><strong>ping</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="apgs02.html">2. <span class="command"><strong>traceroute</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apgs02.html#tools-traceroute-basic">2.1. Using <span class="command"><strong>traceroute</strong></span></a></span></dt><dt><span class="section"><a href="apgs02.html#tools-traceroute-icmp">2.2. Telling <span class="command"><strong>traceroute</strong></span> to use ICMP echo request
          instead of UDP</a></span></dt><dt><span class="section"><a href="apgs02.html#tools-traceroute-tos">2.3. Setting ToS with <span class="command"><strong>traceroute</strong></span></a></span></dt><dt><span class="section"><a href="apgs02.html#tools-traceroute-summary">2.4. Summary on the use of <span class="command"><strong>traceroute</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="apgs03.html">3. <span class="command"><strong>mtr</strong></span></a></span></dt><dt><span class="section"><a href="apgs04.html">4. <span class="command"><strong>netstat</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apgs04.html#tools-netstat-socket">4.1. Displaying socket status with
          <span class="command"><strong>netstat</strong></span></a></span></dt><dt><span class="section"><a href="apgs04.html#tools-netstat-route">4.2. Displaying the main routing table with
          <span class="command"><strong>netstat</strong></span></a></span></dt><dt><span class="section"><a href="apgs04.html#tools-netstat-interface">4.3. Displaying network interface statistics with
          <span class="command"><strong>netstat</strong></span> command</a></span></dt><dt><span class="section"><a href="apgs04.html#tools-netstat-statistics">4.4. Displaying network stack statistics with
          <span class="command"><strong>netstat</strong></span></a></span></dt><dt><span class="section"><a href="apgs04.html#tools-netstat-masquerade">4.5. Displaying the masquerading table with
          <span class="command"><strong>netstat</strong></span></a></span></dt></dl></dd><dt><span class="section"><a href="apgs05.html">5. <span class="command"><strong>tcpdump</strong></span></a></span></dt><dd><dl><dt><span class="section"><a href="apgs05.html#tools-tcpdump-arp">5.1. Using <span class="command"><strong>tcpdump</strong></span> to view ARP messages</a></span></dt><dt><span class="section"><a href="apgs05.html#tools-tcpdump-unreach">5.2. Using <span class="command"><strong>tcpdump</strong></span> to see ICMP unreachable
          messages</a></span></dt><dt><span class="section"><a href="apgs05.html#tools-tcpdump-tcp">5.3. Using <span class="command"><strong>tcpdump</strong></span> to watch TCP sessions</a></span></dt><dt><span class="section"><a href="apgs05.html#tools-tcpdump-file">5.4. Reading and writing <span class="command"><strong>tcpdump</strong></span> data</a></span></dt><dt><span class="section"><a href="apgs05.html#tools-tcpdump-frag">5.5. Understanding fragmentation as reported by
          <span class="command"><strong>tcpdump</strong></span></a></span></dt><dt><span class="section"><a href="apgs05.html#tools-tcpdump-other">5.6. Other options to the <span class="command"><strong>tcpdump</strong></span> command</a></span></dt></dl></dd><dt><span class="section"><a href="apgs06.html">6. <span class="command"><strong>tcpflow</strong></span></a></span></dt><dt><span class="section"><a href="apgs07.html">7. <span class="command"><strong>tcpreplay</strong></span></a></span></dt></dl></dd><dt><span class="appendix"><a href="aph.html">H. Miscellany</a></span></dt><dd><dl><dt><span class="section"><a href="aphs01.html">1. <span class="command"><strong>ipcalc</strong></span> and other IP addressing calculators</a></span></dt><dt><span class="section"><a href="aphs02.html">2. Some general remarks about <span class="command"><strong>iproute2</strong></span> tools</a></span></dt><dt><span class="section"><a href="aphs03.html">3. Brief introduction to <span class="command"><strong>sysctl</strong></span></a></span></dt></dl></dd><dt><span class="appendix"><a href="api.html">I. Links to other Resources</a></span></dt><dd><dl><dt><span class="section"><a href="apis01.html">1. Links to Documentation</a></span></dt><dd><dl><dt><span class="section"><a href="apis01.html#links-general-linux">1.1. Linux Networking Introduction and Overview Material</a></span></dt><dt><span class="section"><a href="apis01.html#links-linux-security">1.2. Linux Security and Network Security</a></span></dt><dt><span class="section"><a href="apis01.html#links-general-ip">1.3. General IP Networking Resources</a></span></dt><dt><span class="section"><a href="apis01.html#links-masq">1.4. Masquerading topics</a></span></dt><dt><span class="section"><a href="apis01.html#links-nat">1.5. Network Address Translation</a></span></dt><dt><span class="section"><a href="apis01.html#links-iproute2">1.6. iproute2 documentation</a></span></dt><dt><span class="section"><a href="apis01.html#links-netfilter">1.7. Netfilter Resources</a></span></dt><dt><span class="section"><a href="apis01.html#links-ipchains">1.8. <span class="command"><strong>ipchains</strong></span> Resources</a></span></dt><dt><span class="section"><a href="apis01.html#links-ipfwadm">1.9. <span class="command"><strong>ipfwadm</strong></span> Resources</a></span></dt><dt><span class="section"><a href="apis01.html#links-systems">1.10. General Systems References</a></span></dt><dt><span class="section"><a href="apis01.html#links-bridging">1.11. Bridging</a></span></dt><dt><span class="section"><a href="apis01.html#links-tc">1.12. Traffic Control</a></span></dt><dt><span class="section"><a href="apis01.html#links-multicast">1.13. IPv4 Multicast</a></span></dt><dt><span class="section"><a href="apis01.html#links-misc">1.14. Miscellaneous Linux IP Resources</a></span></dt></dl></dd><dt><span class="section"><a href="apis02.html">2. Links to Software</a></span></dt><dd><dl><dt><span class="section"><a href="apis02.html#idm6929">2.1. Basic Utilities</a></span></dt><dt><span class="section"><a href="apis02.html#idm6953">2.2. Virtual Private Networking software</a></span></dt><dt><span class="section"><a href="apis02.html#idm6964">2.3. Traffic Control queueing disciplines and command line tools</a></span></dt><dt><span class="section"><a href="apis02.html#idm6987">2.4. Interfaces to lower layer tools</a></span></dt><dt><span class="section"><a href="apis02.html#idm7000">2.5. Packet sniffing and diagnostic tools</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="apj.html">J. GNU Free Documentation License</a></span></dt><dd><dl><dt><span class="section"><a href="apjs01.html">1. PREAMBLE</a></span></dt><dt><span class="section"><a href="apjs02.html">2. APPLICABILITY AND DEFINITIONS</a></span></dt><dt><span class="section"><a href="apjs03.html">3. VERBATIM COPYING</a></span></dt><dt><span class="section"><a href="apjs04.html">4. COPYING IN QUANTITY</a></span></dt><dt><span class="section"><a href="apjs05.html">5. MODIFICATIONS</a></span></dt><dt><span class="section"><a href="apjs06.html">6. COMBINING DOCUMENTS</a></span></dt><dt><span class="section"><a href="apjs07.html">7. COLLECTIONS OF DOCUMENTS</a></span></dt><dt><span class="section"><a href="apjs08.html">8. AGGREGATION WITH INDEPENDENT WORKS</a></span></dt><dt><span class="section"><a href="apjs09.html">9. TRANSLATION</a></span></dt><dt><span class="section"><a href="apjs10.html">10. TERMINATION</a></span></dt><dt><span class="section"><a href="apjs11.html">11. FUTURE REVISIONS OF THIS LICENSE</a></span></dt><dt><span class="section"><a href="apjs12.html">12. ADDENDUM: How to use this License for
  your documents</a></span></dt></dl></dd></dl></dd><dt><span class="bibliography"><a href="bi01.html">Reference Bibliography and Recommended Reading</a></span></dt><dt><span class="index"><a href="ix01.html">Index</a></span></dt></dl></div><div class="list-of-tables"><p><b>List of Tables</b></p><dl><dt>2.1. <a href="ch02s01.html#tb-ether-arp-cache-states">Active ARP cache entry states</a></dt><dt>4.1. <a href="ch04s05.html#tb-routing-selection-adv">Keys used for hash table lookups during route selection</a></dt><dt>5.1. <a href="ch05s04.html#tb-nat-pf-ipchains">Filtering an <span class="command">iproute2</span> NAT packet with
      <span class="command">ipchains</span></a></dt><dt>A.1. <a href="apas02.html#tb-example-network-networks">Example Network; Network Addressing</a></dt><dt>A.2. <a href="apas02.html#tb-example-network-hosts">Example Network; Host Addressing</a></dt><dt>B.1. <a href="apbs03.html#tb-ip-link-set-flags"><span class="command">ip link</span> link layer device states</a></dt><dt>B.2. <a href="apbs05.html#tb-mii-tool-port-speed">Ethernet Port Speed Abbreviations</a></dt><dt>C.1. <a href="apcs01.html#tb-tools-ifconfig-flags">Interface Flags</a></dt><dt>C.2. <a href="apcs02.html#tb-tools-ip-addr-scope">IP Scope under <span class="command">ip address</span></a></dt><dt>G.1. <a href="apgs04.html#tb-tools-netstat-socket-states">Possible Session States in <span class="command">netstat</span>
            output</a></dt><dt>H.1. <a href="aphs02.html#tb-tools-iproute2-remarks"><span class="command">iproute2</span> Synonyms</a></dt></dl></div><div class="list-of-examples"><p><b>List of Examples</b></p><dl><dt>1.1. <a href="ch01s02.html#ex-basic-ifconfig">Sample <span class="command">ifconfig</span> output</a></dt><dt>1.2. <a href="ch01s02.html#ex-basic-ping">Testing reachability of a locally connected host with
          <span class="command">ping</span></a></dt><dt>1.3. <a href="ch01s02.html#ex-basic-ping-non-local">Testing reachability of non-local hosts</a></dt><dt>1.4. <a href="ch01s02.html#ex-basic-static">Sample routing table with a static route</a></dt><dt>1.5. <a href="ch01s03.html#ex-basic-before-change"><span class="command">ifconfig</span> and <span class="command">route</span>
          output before the change</a></dt><dt>1.6. <a href="ch01s03.html#ex-basic-ifconfig-down">Bringing down a network interface with
          <span class="command">ifconfig</span></a></dt><dt>1.7. <a href="ch01s03.html#ex-basic-ifconfig-up">Bringing up an Ethernet interface with <span class="command">ifconfig</span></a></dt><dt>1.8. <a href="ch01s03.html#ex-basic-set-default">Adding a default route with <span class="command">route</span></a></dt><dt>1.9. <a href="ch01s03.html#ex-basic-add-static">Adding a static route with <span class="command">route</span></a></dt><dt>1.10. <a href="ch01s03.html#ex-basic-del-static">Removing a static network route and adding a static host
          route</a></dt><dt>2.1. <a href="ch02s01.html#ex-ether-arp-overview">ARP conversation captured with tcpdump
          
        </a></dt><dt>2.2. <a href="ch02s01.html#ex-ether-arp-gratuitous">Gratuitous ARP reply frames</a></dt><dt>2.3. <a href="ch02s01.html#ex-ether-arp-unsolicited">Unsolicited ARP request frames</a></dt><dt>2.4. <a href="ch02s01.html#ex-ether-arp-dad">Duplicate Address Detection with ARP</a></dt><dt>2.5. <a href="ch02s01.html#ex-ether-arp-cache">ARP cache listings with <span class="command">arp</span> and
          <span class="command">ip neighbor</span></a></dt><dt>2.6. <a href="ch02s01.html#ex-ether-arp-cache-timeout">ARP cache timeout</a></dt><dt>2.7. <a href="ch02s01.html#ex-ether-arp-flux">ARP flux</a></dt><dt>2.8. <a href="ch02s01.html#ex-ether-arp-flux-arpfilter">Correction of ARP flux with
            <code class="filename">conf/$DEV/arp_filter</code></a></dt><dt>2.9. <a href="ch02s01.html#ex-ether-arp-flux-hidden">Correction of ARP flux with
            <code class="filename">net/$DEV/hidden</code></a></dt><dt>2.10. <a href="ch02s02.html#ex-ether-arp-proxy">Proxy ARP Network Diagram</a></dt><dt>2.11. <a href="ch02s04.html#ex-ether-vlan">Bringing up a VLAN interface</a></dt><dt>2.12. <a href="ch02s05.html#ex-ether-bonding-aggregation">Link aggregation bonding</a></dt><dt>2.13. <a href="ch02s05.html#ex-ether-bonding-ha">High availability bonding</a></dt><dt>4.1. <a href="ch04s01.html#routing-intro-classes">Classes of IP addresses</a></dt><dt>4.2. <a href="ch04s01.html#ex-routing-intro-ipcalc">Using ipcalc to display IP information</a></dt><dt>4.3. <a href="ch04s02.html#ex-routing-local">Identifying the locally connected networks with
        <span class="command">route</span></a></dt><dt>4.4. <a href="ch04s05.html#routing-selection-algorithm">Routing Selection Algorithm in Pseudo-code</a></dt><dt>4.5. <a href="ch04s05.html#ex-routing-selection-adv-ip-rule">Listing the Routing Policy Database (RPDB)</a></dt><dt>4.6. <a href="ch04s08.html#ex-routing-tables-rt-table">Typical content of
        <code class="filename">/etc/iproute2/rt_tables</code></a></dt><dt>4.7. <a href="ch04s08.html#ex-list-route-unicast">unicast route types</a></dt><dt>4.8. <a href="ch04s08.html#ex-list-route-broadcast">broadcast route types</a></dt><dt>4.9. <a href="ch04s08.html#ex-list-route-local">local route types</a></dt><dt>4.10. <a href="ch04s08.html#ex-list-route-nat">nat route types</a></dt><dt>4.11. <a href="ch04s08.html#ex-list-route-unreachable">unreachable route types</a></dt><dt>4.12. <a href="ch04s08.html#ex-list-route-prohibit">prohibit route types</a></dt><dt>4.13. <a href="ch04s08.html#ex-list-route-blackhole">blackhole route types</a></dt><dt>4.14. <a href="ch04s08.html#ex-list-route-throw">throw route types</a></dt><dt>4.15. <a href="ch04s08.html#ex-routing-table-local-maint">Kernel maintenance of the <code class="constant">local</code> routing table</a></dt><dt>4.16. <a href="ch04s09.html#ex-list-rule-unicast">unicast rule type</a></dt><dt>4.17. <a href="ch04s09.html#ex-list-rule-nat">nat rule type</a></dt><dt>4.18. <a href="ch04s09.html#ex-list-rule-unreachable">unreachable rule type</a></dt><dt>4.19. <a href="ch04s09.html#ex-list-rule-prohibit">prohibit rule type</a></dt><dt>4.20. <a href="ch04s09.html#ex-list-rule-blackhole">blackhole rule type</a></dt><dt>4.21. <a href="ch04s10.html#ex-routing-icmp-redirect">ICMP Redirect on the Wire
          
        </a></dt><dt>5.1. <a href="ch05s03.html#ex-nat-basic">
          Stateless NAT Packet Capture
          
        </a></dt><dt>5.2. <a href="ch05s03.html#ex-nat-basic-commands">Basic commands to create a stateless NAT</a></dt><dt>5.3. <a href="ch05s03.html#ex-nat-stateless-rpdb">Conditional Stateless NAT (not performing NAT for a
            specified destination network)</a></dt><dt>5.4. <a href="ch05s04.html#ex-nat-pf-ipchains">Using an <span class="command">ipchains</span> packet filter with
        stateless NAT</a></dt><dt>5.5. <a href="ch05s05.html#ex-nat-dnat-all">Using DNAT for all protocols (and ports) on one IP</a></dt><dt>5.6. <a href="ch05s05.html#ex-nat-dnat-port">Using DNAT for a single port</a></dt><dt>5.7. <a href="ch05s05.html#ex-nat-dnat-full">Simulating full NAT with SNAT and DNAT</a></dt><dt>7.1. <a href="ch07s06.html#ex-pf-iptables-reject">Blocking a destination and using the <code class="option">REJECT</code>
        target, cf. Example D.17, &#8220;Adding a <code class="option">prohibit</code> route with <span class="command">route
            add</span>&#8221;</a></dt><dt>10.1. <a href="ch10s04.html#ex-adv-multi-internet-outbound-ip-routing">Multiple Outbound Internet links, part I;
          <span class="command">ip route</span></a></dt><dt>10.2. <a href="ch10s04.html#ex-adv-multi-internet-outbound-iptables">Multiple Outbound Internet links, part II;
          <span class="command">iptables</span></a></dt><dt>10.3. <a href="ch10s04.html#ex-adv-multi-internet-outbound-ip-rule">Multiple Outbound Internet links, part III;
          <span class="command">ip rule</span></a></dt><dt>10.4. <a href="ch10s04.html#ex-adv-multi-internet-inbound">Multiple Internet links, inbound traffic; using
          <span class="command">iproute2</span> only
          
        </a></dt><dt>11.1. <a href="ch11s01.html#ex-sc-proxy-arp">Proxy ARP SysV initialization script</a></dt><dt>11.2. <a href="ch11s01.html#ex-sc-proxy-arp-conf">Proxy ARP configuration file</a></dt><dt>11.3. <a href="ch11s02.html#ex-sc-nat">Static NAT SysV initialization script</a></dt><dt>11.4. <a href="ch11s02.html#ex-sc-static-nat">Static NAT configuration file</a></dt><dt>B.1. <a href="apbs01.html#tools-arp-listing">Displaying the arp table with <span class="command">arp</span></a></dt><dt>B.2. <a href="apbs01.html#tools-arp-add">Adding arp table entries with <span class="command">arp</span></a></dt><dt>B.3. <a href="apbs01.html#tools-arp-delete">Deleting arp table entries with <span class="command">arp</span></a></dt><dt>B.4. <a href="apbs02.html#ex-tools-arping-listing">Displaying reachability of an IP on the local Ethernet with <span class="command">arping</span></a></dt><dt>B.5. <a href="apbs02.html#ex-tools-arping-dad">Duplicate Address Detection with <span class="command">arping</span></a></dt><dt>B.6. <a href="apbs03.html#ex-tools-ip-link-show">Using <span class="command">ip link show</span></a></dt><dt>B.7. <a href="apbs03.html#ex-tools-ip-link-set">Using <span class="command">ip link set</span> to change device flags</a></dt><dt>B.8. <a href="apbs03.html#ex-tools-ip-link-set-down">Deactivating a link layer device with <span class="command">ip link
            set</span></a></dt><dt>B.9. <a href="apbs03.html#ex-tools-ip-link-set-up">Activating a link layer device with <span class="command">ip link
            set</span></a></dt><dt>B.10. <a href="apbs03.html#ex-tools-ip-link-set-mtu">Using <span class="command">ip link set</span> to change device flags</a></dt><dt>B.11. <a href="apbs03.html#ex-tools-ip-link-set-name">Changing the device name with <span class="command">ip link set</span></a></dt><dt>B.12. <a href="apbs03.html#ex-tools-ip-link-set-address">Changing broadcast and hardware addresses with <span class="command">ip link set</span></a></dt><dt>B.13. <a href="apbs04.html#ex-tools-ip-neighbor-show">Displaying the ARP cache with <span class="command">ip neighbor
          show</span></a></dt><dt>B.14. <a href="apbs04.html#ex-tools-ip-neighbor-show-interface">Displaying the ARP cache on an interface with <span class="command">ip
          neighbor show</span></a></dt><dt>B.15. <a href="apbs04.html#ex-tools-ip-neighbor-show-network">Displaying the ARP cache for a particular network with
          <span class="command">ip neighbor show</span></a></dt><dt>B.16. <a href="apbs04.html#ex-tools-ip-neighbor-add">Entering a permanent entry into the ARP cache with <span class="command">ip
          neighbor add</span></a></dt><dt>B.17. <a href="apbs04.html#ex-tools-ip-neighbor-add-proxy">Entering a proxy ARP entry with <span class="command">ip
          neighbor add proxy</span></a></dt><dt>B.18. <a href="apbs04.html#ex-tools-ip-neighbor-change">Altering an entry in the ARP cache with <span class="command">ip neighbor
          change</span></a></dt><dt>B.19. <a href="apbs04.html#ex-tools-ip-neighbor-del">Removing an entry from the ARP cache with <span class="command">ip
          neighbor del</span></a></dt><dt>B.20. <a href="apbs04.html#ex-tools-ip-neighbor-flush">Removing learned entries from the ARP cache with <span class="command">ip
          neighbor flush</span></a></dt><dt>B.21. <a href="apbs05.html#tools-mii-tool-list">Detecting link layer status with <span class="command">mii-tool</span></a></dt><dt>B.22. <a href="apbs05.html#tools-mii-tool-advertise">Specifying Ethernet port speeds with <span class="command">mii-tool --advertise</span></a></dt><dt>B.23. <a href="apbs05.html#tools-mii-tool-force">Forcing Ethernet port speed with <span class="command">mii-tool --force</span></a></dt><dt>C.1. <a href="apcs01.html#ex-tools-ifconfig-display">Viewing interface information with <span class="command">ifconfig</span></a></dt><dt>C.2. <a href="apcs01.html#ex-tools-ifconfig-down">Bringing down an interface with <span class="command">ifconfig</span></a></dt><dt>C.3. <a href="apcs01.html#ex-tools-ifconfig-up">Bringing up an interface with <span class="command">ifconfig</span></a></dt><dt>C.4. <a href="apcs01.html#ex-tools-ifconfig-mtu">Changing MTU with <span class="command">ifconfig</span></a></dt><dt>C.5. <a href="apcs01.html#ex-tools-ifconfig-flags">Setting interface flags with <span class="command">ifconfig</span></a></dt><dt>C.6. <a href="apcs02.html#ex-tools-ip-address-display">Displaying IP information with <span class="command">ip address</span></a></dt><dt>C.7. <a href="apcs02.html#ex-tools-ip-address-add">Adding IP addresses to an interface with <span class="command">ip address</span></a></dt><dt>C.8. <a href="apcs02.html#ex-tools-ip-address-del">Removing IP addresses from interfaces with <span class="command">ip address</span></a></dt><dt>C.9. <a href="apcs02.html#ex-tools-ip-address-flush">Removing all IPs on an interface with <span class="command">ip address flush</span></a></dt><dt>D.1. <a href="apds01.html#ex-tools-route-show-simple">Viewing a simple routing table with <span class="command">route</span></a></dt><dt>D.2. <a href="apds01.html#ex-tools-route-show-complex">Viewing a complex routing table with <span class="command">route</span></a></dt><dt>D.3. <a href="apds01.html#ex-tools-route-show-cache">Viewing the routing cache with <span class="command">route</span></a></dt><dt>D.4. <a href="apds01.html#ex-tools-route-add-net">Adding a static route to a network <span class="command">route add</span></a></dt><dt>D.5. <a href="apds01.html#ex-tools-route-add-host">Adding a static route to a host with <span class="command">route add</span></a></dt><dt>D.6. <a href="apds01.html#ex-tools-route-add-host-dev">Adding a static route to a host on the same media with <span class="command">route add</span></a></dt><dt>D.7. <a href="apds01.html#ex-tools-route-add-default">Setting the default route with <span class="command">route</span></a></dt><dt>D.8. <a href="apds01.html#ex-tools-route-add-default-alt">An alternate method of setting the default route with <span class="command">route</span></a></dt><dt>D.9. <a href="apds01.html#ex-tools-route-del-host-dev">Removing a static host route with <span class="command">route del</span></a></dt><dt>D.10. <a href="apds01.html#ex-tools-route-del-default">Removing the default route with <span class="command">route del</span></a></dt><dt>D.11. <a href="apds02.html#ex-tools-ip-route-show-main">Viewing the main routing table with <span class="command">ip route
            show</span></a></dt><dt>D.12. <a href="apds02.html#ex-tools-ip-route-show-local">Viewing the local routing table with <span class="command">ip route show
            table local</span></a></dt><dt>D.13. <a href="apds02.html#ex-tools-ip-route-show-table">Viewing a routing table with <span class="command">ip route
            show table</span></a></dt><dt>D.14. <a href="apds02.html#ex-tools-ip-route-show-cache">Displaying the routing cache with <span class="command">ip route
            show cache</span></a></dt><dt>D.15. <a href="apds02.html#ex-tools-ip-route-show-cache-stats">Displaying statistics from the routing cache with
            <span class="command">ip -s route show cache</span></a></dt><dt>D.16. <a href="apds02.html#ex-tools-ip-route-add-net">Adding a static route to a network with <span class="command">route
            add</span>, cf. Example D.4, &#8220;Adding a static route to a network <span class="command">route add</span>&#8221;</a></dt><dt>D.17. <a href="apds02.html#ex-tools-ip-route-add-prohibit">Adding a <code class="option">prohibit</code> route with <span class="command">route
            add</span></a></dt><dt>D.18. <a href="apds02.html#ex-tools-ip-route-add-from">Using <code class="option">from</code> in a routing command with
            <span class="command">route add</span></a></dt><dt>D.19. <a href="apds02.html#ex-tools-ip-route-add-src">Using <code class="option">src</code> in a routing command with
            <span class="command">route add</span></a></dt><dt>D.20. <a href="apds02.html#ex-tools-ip-route-add-default">Setting the default route with <span class="command">ip route add default</span></a></dt><dt>D.21. <a href="apds02.html#ex-tools-ip-route-nat-simple">Creating a NAT route for a single IP with <span class="command">ip route add
            nat</span></a></dt><dt>D.22. <a href="apds02.html#ex-tools-ip-route-nat-network">Creating a NAT route for an entire network with <span class="command">ip
            route add nat</span></a></dt><dt>D.23. <a href="apds02.html#ex-tools-ip-route-del">Removing routes with <span class="command">ip route del</span>
          
          </a></dt><dt>D.24. <a href="apds02.html#ex-tools-ip-route-change">Altering existing routes with <span class="command">ip route
            change</span></a></dt><dt>D.25. <a href="apds02.html#ex-tools-ip-route-get">Testing routing tables with <span class="command">ip route
            get</span></a></dt><dt>D.26. <a href="apds02.html#ex-tools-ip-route-flush">Removing a specific route and emptying a routing table with
            <span class="command">ip route flush</span></a></dt><dt>D.27. <a href="apds02.html#ex-tools-ip-route-flush-cache">Emptying the routing cache with <span class="command">ip route flush
            cache</span></a></dt><dt>D.28. <a href="apds03.html#ex-tools-ip-rule-show">Displaying the RPDB with <span class="command">ip rule
            show</span></a></dt><dt>D.29. <a href="apds03.html#ex-tools-ip-rule-add-simple">Creating a simple entry in the RPDB with <span class="command">ip rule
            add</span>
            
          </a></dt><dt>D.30. <a href="apds03.html#ex-tools-ip-rule-add-complex">Creating a complex entry in the RPDB with <span class="command">ip rule
            add</span></a></dt><dt>D.31. <a href="apds03.html#ex-tools-ip-rule-add-nat-simple">Creating a NAT rule with <span class="command">ip rule add
            nat</span></a></dt><dt>D.32. <a href="apds03.html#ex-tools-ip-rule-add-nat-network">Creating a NAT rule for an entire network with <span class="command">ip
            rule add nat</span></a></dt><dt>D.33. <a href="apds03.html#ex-tools-ip-rule-del-nat-network">Removing a NAT rule for an entire network with <span class="command">ip
            rule del nat</span></a></dt><dt>F.1. <a href="apfs02.html#ex-tools-nc-basic">Simple use of <span class="command">nc</span></a></dt><dt>F.2. <a href="apfs02.html#ex-tools-nc-timeout">Specifying timeout with <span class="command">nc</span></a></dt><dt>F.3. <a href="apfs02.html#ex-tools-nc-source">Specifying source address with <span class="command">nc</span></a></dt><dt>F.4. <a href="apfs02.html#ex-tools-nc-server">Using <span class="command">nc</span> as a server</a></dt><dt>F.5. <a href="apfs02.html#ex-tools-nc-delay">Delaying a stream with <span class="command">nc</span></a></dt><dt>F.6. <a href="apfs02.html#ex-tools-nc-udp">Using <span class="command">nc</span> with UDP</a></dt><dt>F.7. <a href="apfs03.html#ex-tools-socat-basic">Simple use of <span class="command">socat</span></a></dt><dt>F.8. <a href="apfs03.html#ex-tools-socat-proxy">Using <span class="command">socat</span> with proxy connect</a></dt><dt>F.9. <a href="apfs03.html#ex-tools-socat-openssl">Using <span class="command">socat</span> perform SSL</a></dt><dt>F.10. <a href="apfs03.html#ex-tools-socat-file-descriptor">Connecting one end of <span class="command">socat</span> to a file
          descriptor</a></dt><dt>F.11. <a href="apfs03.html#ex-tools-socat-serial">Connecting <span class="command">socat</span> to a serial line</a></dt><dt>F.12. <a href="apfs03.html#ex-tools-socat-pty">Using a PTY with <span class="command">socat</span></a></dt><dt>F.13. <a href="apfs03.html#ex-tools-socat-exec">Executing a command with <span class="command">socat</span></a></dt><dt>F.14. <a href="apfs03.html#ex-tools-socat-socat">Connecting one <span class="command">socat</span> to another one</a></dt><dt>F.15. <a href="apfs04.html#ex-tools-tcpclient-basic">Simple use of <span class="command">tcpclient</span></a></dt><dt>F.16. <a href="apfs04.html#ex-tools-tcpclient-localport">Specifying the local port which <span class="command">tcpclient</span>
          should request</a></dt><dt>F.17. <a href="apfs04.html#ex-tools-tcpclient-localip">Specifying the local IP to which <span class="command">tcpclient</span>
          should bind</a></dt><dt>F.18. <a href="apfs05.html#ex-tools-xinetd-redir">IP redirection with <span class="command">xinetd</span></a></dt><dt>F.19. <a href="apfs05.html#ex-tools-xinetd-server">Publishing a service with <span class="command">xinetd</span></a></dt><dt>F.20. <a href="apfs06.html#ex-tools-tcpserver-basic">Simple use of <span class="command">tcpserver</span></a></dt><dt>F.21. <a href="apfs06.html#ex-tools-tcpserver-cdb">Specifying a CDB for <span class="command">tcpserver</span></a></dt><dt>F.22. <a href="apfs06.html#ex-tools-tcpserver-concurrency">Limiting the number of concurrently accept TCP sessions
          under <span class="command">tcpserver</span></a></dt><dt>F.23. <a href="apfs06.html#ex-tools-tcpserver-uid">Specifying a UID for <span class="command">tcpserver</span>'s
          spawned processes</a></dt><dt>F.24. <a href="apfs07.html#ex-tools-redir-basic">Redirecting a TCP port with <span class="command">redir</span></a></dt><dt>F.25. <a href="apfs07.html#ex-tools-redir-transproxy">Running <span class="command">redir</span> in transparent mode</a></dt><dt>F.26. <a href="apfs07.html#ex-tools-redir-inetd">Running <span class="command">redir</span> from another TCP server</a></dt><dt>F.27. <a href="apfs07.html#ex-tools-redir-bindaddr">Specifying a source address for <span class="command">redir</span>'s client
          side</a></dt><dt>G.1. <a href="apgs01.html#ex-tools-ping-simple">Using <span class="command">ping</span> to test reachability</a></dt><dt>G.2. <a href="apgs01.html#ex-tools-ping-simple-count">Using <span class="command">ping</span> to specify number of packets to
            send</a></dt><dt>G.3. <a href="apgs01.html#ex-tools-ping-simple-quiet">Using <span class="command">ping</span> to specify number of packets to
            send</a></dt><dt>G.4. <a href="apgs01.html#ex-tools-ping-stress">Using <span class="command">ping</span> to stress a network</a></dt><dt>G.5. <a href="apgs01.html#ex-tools-ping-stress-size">Using <span class="command">ping</span> to stress a network with large
            packets</a></dt><dt>G.6. <a href="apgs01.html#ex-tools-ping-record-route">Recording a network route with <span class="command">ping</span></a></dt><dt>G.7. <a href="apgs01.html#ex-tools-ping-ttl">Setting the TTL on a <span class="command">ping</span> packet</a></dt><dt>G.8. <a href="apgs01.html#ex-tools-ping-tos">Setting ToS for a diagnostic <span class="command">ping</span></a></dt><dt>G.9. <a href="apgs01.html#ex-tools-ping-specify-source">Specifying a source address for <span class="command">ping</span></a></dt><dt>G.10. <a href="apgs02.html#ex-tools-traceroute-basic">Simple usage of <span class="command">traceroute</span></a></dt><dt>G.11. <a href="apgs04.html#ex-tools-netstat-inet">Displaying IP socket status with
            <span class="command">netstat</span></a></dt><dt>G.12. <a href="apgs04.html#ex-tools-netstat-inet-details">Displaying IP socket status details with
            <span class="command">netstat</span></a></dt><dt>G.13. <a href="apgs04.html#ex-tools-netstat-route">Displaying the main routing table with
            <span class="command">netstat</span></a></dt><dt>G.14. <a href="apgs04.html#ex-tools-netstat-route-cache">Displaying the routing cache with
            <span class="command">netstat</span></a></dt><dt>G.15. <a href="apgs04.html#ex-tools-netstat-masquerade">Displaying the masquerading table with <span class="command">netstat</span></a></dt><dt>G.16. <a href="apgs05.html#ex-tools-tcpdump-arp-broadcast">Viewing an ARP broadcast request and reply with 
            <span class="command">tcpdump</span></a></dt><dt>G.17. <a href="apgs05.html#ex-tools-tcpdump-arp-gratuitous">Viewing a gratuitous ARP packet with 
            <span class="command">tcpdump</span></a></dt><dt>G.18. <a href="apgs05.html#ex-tools-tcpdump-arp-unicast">Viewing unicast ARP packets with 
            <span class="command">tcpdump</span></a></dt><dt>G.19. <a href="apgs05.html#ex-tools-tcpdump-unreach-port"><span class="command">tcpdump</span> reporting port unreachable</a></dt><dt>G.20. <a href="apgs05.html#ex-tools-tcpdump-unreach-host"><span class="command">tcpdump</span> reporting host unreachable</a></dt><dt>G.21. <a href="apgs05.html#ex-tools-tcpdump-unreach-net"><span class="command">tcpdump</span> reporting net unreachable</a></dt><dt>G.22. <a href="apgs05.html#ex-tools-tcpdump-tcp-windows">Monitoring TCP window sizes with
            <span class="command">tcpdump</span></a></dt><dt>G.23. <a href="apgs05.html#ex-tools-tcpdump-tcp-flags">Examining TCP flags with <span class="command">tcpdump</span></a></dt><dt>G.24. <a href="apgs05.html#ex-tools-tcpdump-tcp-ack">Examining TCP acknowledgement numbers with
            <span class="command">tcpdump</span></a></dt><dt>G.25. <a href="apgs05.html#ex-tools-tcpdump-file-write">Writing <span class="command">tcpdump</span> data to a file</a></dt><dt>G.26. <a href="apgs05.html#ex-tools-tcpdump-file-read">Reading <span class="command">tcpdump</span> data from a file</a></dt><dt>G.27. <a href="apgs05.html#ex-tools-tcpdump-file-line-buffer">Causing <span class="command">tcpdump</span> to use a line buffer</a></dt><dt>G.28. <a href="apgs05.html#ex-tools-tcpdump-frag">Understanding fragmentation as reported by
            <span class="command">tcpdump</span></a></dt><dt>G.29. <a href="apgs05.html#ex-tools-tcpdump-interface">Specifying interface with <span class="command">tcpdump</span></a></dt><dt>G.30. <a href="apgs05.html#ex-tools-tcpdump-timestamp">Timestamp related options to <span class="command">tcpdump</span></a></dt></dl></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="pr01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> Introduction</td></tr></table></div></body></html>
