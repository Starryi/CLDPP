<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>4. Laptop Installation Methods</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="laptop, notebook, pda, handheld, computer, mobile, mobile phone, cell phone, portable player, linux, unix"><link rel="home" href="index.html" title="Linux on the Road"><link rel="up" href="ch03.html" title="Chapter 3. Installation"><link rel="prev" href="ch03s03.html" title="3. Linux Tools to Repartition a Hard Disk"><link rel="next" href="ch03s05.html" title="5. Common Problems During Installation"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. Laptop Installation Methods</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s03.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Installation</th><td width="20%" align="right"> <a accesskey="n" href="ch03s05.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mobile-guide-p1c3s4-installation-methods"></a>4. Laptop Installation Methods</h2></div></div></div><div class="epigraph"><p>
   There's More Than One Way To Do It - TMTOWTDI
</p><div class="attribution"><span>&#8212;<span class="attribution">
   Larry Wall, Tom Christiansen &amp; Randal L. Schwartz: Programming Perl, Sec. Ed. 1996 p. 10
</span></span></div></div><p>
   From the 
   <a class="ulink" href="http://tldp.org/HOWTO/Battery-Powered/" target="_top">Battery-Powered-HOWTO</a>
   : "Installing and using Linux on a laptop is
   usually no problem at all, so go ahead and give it a try. Unlike some
   other operating systems, Linux still supports and runs well on even very
   old hardware, so you might give your outdated portable a new purpose in
   life by installing Linux on it." 
</p><p>
   One of the great benefits of Linux are its numerous and flexible
   installation features, which I don't want to describe in detail. Instead
   I try to focus on <span class="emphasis"><em>laptop specific methods</em></span>, which
   are necessary only in certain circumstances.
</p><p>
   Most current distributions support installation methods which are useful
   for laptops, including installation from CD-ROM/DVD, via
   <acronym class="acronym">PCMCIA</acronym> and NFS (or maybe SMB). Please see the
   documents which are provided with these distributions for further
   details or take a look at the above mentioned manuals and HOWTOs.
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm736"></a>4.1. From a Boot Floppy plus CD/DVD-ROM - The Traditional Way</h3></div></div></div><p>
   With modern laptops, the traditional Linux installation 
   method (from one boot floppy, one support
   floppy and a package of CD-ROMs or one DVD) should be no problem, if there
   is a floppy drive and a CD-ROM drive available. Though with certain laptops
   you might get trouble, if you can not use
   <span class="emphasis"><em>the floppy drive and the CD/DVD-ROM drive </em></span> simultaneously,
   or if the floppy drive is <span class="emphasis"><em>only available as a <acronym class="acronym">PCMCIA</acronym>
   device</em></span>, as with the Toshiba Libretto 100. Some laptops
   support also booting and therefore installation completely from a CD
   drive, as reported for the SONY VAIO in the 
   <a class="ulink" href="http://tldp.org/HOWTO/VAIO+Linux.html" target="_top">VAIO+Linux-HOWTO</a>
   . Note: Check the
   <acronym class="acronym">BIOS</acronym> for the CD boot option and make sure your Linux
   distribution comes on a bootable CD.
</p><p>
   Certain laptops will only boot <span class="emphasis"><em>zImage</em></span> kernels.
   <span class="emphasis"><em>bzImage</em></span> kernels won't work. This is a known problem
   with the <span class="trademark">IBM</span>&#8482; Thinkpad 600 and Toshiba Tecra
   series, for instance. Some distributions provide certain boot floppies
   for these machines or for machines with limited memory resources, 
   <a class="ulink" href="http://www.debian.org" target="_top">Debian/GNU Linux</a>
   for instance.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm749"></a>4.2. From a CD/DVD-ROM - The Usual Way</h3></div></div></div><p>
   Newer laptops are able to boot a Linux distribution from a 
   bootable CD/DVD-ROM. This allows installation 
   without a floppy disk drive. 

   If the CD/DVD drive is <span class="emphasis"><em>only available as a
   <acronym class="acronym">PCMCIA</acronym> device</em></span>, as with the SONY VAIO
   PCG-Z600TEK, see the chapter about installing from PCMCIA devices
   below.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm754"></a>4.3. From a DOS or Windows Partition on the same Machine</h3></div></div></div><p>
   This is a short description of how to install from a CD-ROM under DOS
   without using boot or supplemental floppy diskettes. This is especially
   useful for notebooks with <span class="emphasis"><em>swappable floppy and CD-ROM
   components</em></span> (if both are mutually exclusive) or if they are
   <span class="emphasis"><em>only available as PCMCIA devices</em></span>. 
   I have taken this method from 
   <a class="ulink" href="http://www.us.debian.org/releases/stable/installmanual" target="_top">Installing Debian GNU/Linux 2.1 For Intel x86 - Chapter 5 Methods for Installing Debian</a>
   :
</p><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Get the following files from your nearest Debian FTP mirror and put them
   into a directory on your DOS partition: <span class="command"><strong>resc1440.bin
   drv1440.bin base2_1.tgz root.bin linux install.bat</strong></span> and
   <span class="command"><strong>loadlin.exe</strong></span>. 
</p></li><li class="listitem"><p>
   Boot into DOS (not Windows) without any drivers being loaded. To do
   this, you have to press &lt;<span class="command"><strong>F8</strong></span>&gt; at exactly the
   right moment during boot.
</p></li><li class="listitem"><p>
   Execute <span class="command"><strong>install.bat</strong></span> from the directory where you have
   put the downloaded files.
</p></li><li class="listitem"><p>
   Reboot the system and install the rest of the distribution, you may now
   use all the advanced features such as <acronym class="acronym">PCMCIA</acronym>, PPP and
   others. 
</p></li></ol></div><p>

</p><p>
   This should work for other distributions as well. Maybe you have to do
   some appropriate changes. 

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm776"></a>4.4. From a Second Machine With a Micro Linux On a Floppy</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm778"></a>4.4.1. Introduction</h4></div></div></div><p>
   Because of their small or nonexistent footprint, micro-Linuxes are
   especially suited to run on laptops, particularly if you use a
   company-provided laptop running Windows9x/NT. Or for installation
   purposes using another non Linux machine. There are several
   <span class="emphasis"><em>micro</em></span> Linux distributions out there that boot from
   one or two floppies and run off a ramdisk. See 
   <a class="xref" href="apa.html" title="Appendix A. Other Operating Systems">Appendix A, <i>Other Operating Systems</i></a> Appendix A
   for a listing of distributions.
</p><p>
   I tried the following with <span class="command"><strong>muLinux</strong></span> ( available at 
   <a class="ulink" href="http://sunsite.auc.dk/mulinux" target="_top">muLinux</a>
   ) to clone my HP OmniBook 800 to a COMPAQ Armada 1592DT. 
   Thanks to Michele Andreoli, maintainer of muLinux for his support. 
   Since <span class="command"><strong>muLinux</strong></span> doesn't support 
   <acronym class="acronym">PCMCIA</acronym> yet, you may use <span class="command"><strong>TomsRtBt</strong></span> 
   instead. In turn <span class="command"><strong>TomsRtBt</strong></span> doesn't support 
   <span class="command"><strong>PPP</strong></span> but provides <span class="command"><strong>slip</strong></span>. 
   Note: Since version 7.0 <span class="command"><strong>muLinux</strong></span> 
   provides an Add-On with <acronym class="acronym">PCMCIA</acronym> support.
</p><p>
   I have described how to copy an already existing partition, but it might
   also be possible to achieve a customized installation. Note: Usually you
   would try to achieve an installation via NFS, which is supported by many
   distributions. Or if your sources are not at a Linux machine you might
   try the SMB protocol with SAMBA, which is also supported by
   <span class="command"><strong>muLinux</strong></span> .
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm796"></a>4.4.2. Prerequisites</h4></div></div></div><p>
   You need two machines equipped with Linux. With the laptop
   (client/destination) on which you want to install Linux use the muLinux
   floppy. The other machine (server/source) may be a usual Linux box or
   also using muLinux. Though its low transfer rate I use a serial null
   modem cable because its cheap. You may apply the appropriate method
   using a <acronym class="acronym">PCMCIA</acronym> network card and a crossover network
   cable or a HUB, or a parallel "null modem" cable and PLIP. As the basic
   protocol I used PPP, but you may also use SLIP. For the data-transfer I
   used <span class="command"><strong>nc</strong></span>. Note: this is an abbrevation for
   <span class="command"><strong>netcat</strong></span>, some distributions use this as the program
   name. You may use <span class="command"><strong>ftp</strong></span>, <span class="command"><strong>tftp</strong></span>,
   <span class="command"><strong>rsh</strong></span>, <span class="command"><strong>ssh</strong></span>, <span class="command"><strong>dd</strong></span>,
   <span class="command"><strong>rcp</strong></span>, <span class="command"><strong>kermit</strong></span>,
   <span class="command"><strong>NFS</strong></span>, <span class="command"><strong>SMB</strong></span> and other programs
   instead.
   If you prefer encrypted connections there is 
   <a class="ulink" href="http://sourceforge.net/projects/cryptcat/" target="_top">Cryptcat</a>
   a lightweight version of netcat with integrated transport encryption capabilities.
</p><p>
   Basic requirements are:
</p><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   A good knowledge about using Linux. You have to know exactly what you
   are doing, if not you might end destroying former installations.
</p></li><li class="listitem"><p>
   A null modem serial cable.
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm819"></a>4.4.3. Source Machine</h4></div></div></div><p>
   At your <span class="emphasis"><em>source</em></span> machine issue the following commands
   (attention: IP address, port number, partition and tty are just
   examples!):
</p><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Edit <code class="filename">/etc/ppp/options</code>, it should contain only:

</p><pre class="programlisting">
/dev/ttyS0
115200
passive
</pre><p>

</p></li><li class="listitem"><p>
   With muLinux versions 3.x you may even use the convenient command
   <span class="command"><strong>setup -f ppp</strong></span> .
</p></li><li class="listitem"><p>
   Start PPP: <span class="command"><strong>pppd</strong></span> .
</p></li><li class="listitem"><p>
   Configure the PPP network device: <span class="command"><strong>ifconfig ppp0 192.168.0.1</strong></span> .
</p></li><li class="listitem"><p>
   Add the default route: <span class="command"><strong>route add default gw 192.168.0.1</strong></span> .
</p></li><li class="listitem"><p>
   Check the network connection: <span class="command"><strong>ping 192.168.0.2</strong></span>,
   though the destination machine isn't up yet.
</p></li><li class="listitem"><p>
   Start the transfer from another console, remember
   <span class="command"><strong>&lt;LEFT-ALT&gt;&lt;Fx&gt;</strong></span>: 
   <span class="command"><strong>cat /dev/hda2 | gzip -c | nc -l -p 5555</strong></span> .
</p></li><li class="listitem"><p>
   After the transfer (there are no more harddisk writings) stop the ping:
   <span class="command"><strong>killall ping</strong></span> .
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm851"></a>4.4.4. Destination Machine</h4></div></div></div><p>
   At the <span class="emphasis"><em>destination</em></span> machine issue:
</p><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Edit <code class="filename">/etc/ppp/options</code>, it should contain only:

</p><pre class="programlisting">
/dev/ttyS0
115200
passive
</pre><p>

</p></li><li class="listitem"><p>
   With muLinux versions &gt;= 3.x you may even use the convenient command
   <span class="command"><strong>setup -f ppp</strong></span> .
</p></li><li class="listitem"><p>
   Start PPP: <span class="command"><strong>pppd</strong></span> .
</p></li><li class="listitem"><p>
   Configure the PPP network device: 
   <span class="command"><strong>ifconfig ppp0 192.168.0.2</strong></span> .
</p></li><li class="listitem"><p>
   Add the default route: 
   <span class="command"><strong>route add default gw 192.168.0.2</strong></span> .
</p></li><li class="listitem"><p>
   Check the network connection, by pinging to the source machine:
   <span class="command"><strong>ping 192.168.0.1</strong></span> .
</p></li><li class="listitem"><p>
   Change to another console and get the data from the server: <span class="command"><strong>nc
   192.168.0.1 5555 | gzip -dc &gt;/dev/hda4</strong></span> .
</p></li><li class="listitem"><p>
   400 MB may take app. 6 hours, but your mileage may vary.
</p></li><li class="listitem"><p>
   Stop the transfer, when it is finished with:
   <span class="command"><strong>&lt;CTL&gt;&lt;C&gt;</strong></span> . This can probably be avoided
   (but I didn't test it) by adding a timeout of 3 seconds using the
   <span class="command"><strong>-w 3</strong></span> parameter for <span class="command"><strong>nc</strong></span> at the
   destination machine <span class="command"><strong>nc -w 3 192.168.0.1 5555 | gzip -dc
   &gt;/dev/hda4</strong></span>
</p></li><li class="listitem"><p>
   After the transfer is completed, stop the ping: <span class="command"><strong>killall ping</strong></span> .
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm890"></a>4.4.5. Configuration of the Destination Machine after the Transfer</h4></div></div></div><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Edit <code class="filename">/etc/fstab</code> .
</p></li><li class="listitem"><p>
   Edit <code class="filename">/etc/lilo.conf</code> and 
   <code class="filename">/etc/lilo.msg</code> and start <span class="command"><strong>lilo</strong></span> .
</p></li><li class="listitem"><p>
   Set the new root device to the kernel: <span class="command"><strong>rdev image root_device</strong></span> .
   
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm905"></a>4.4.6. Miscellaneous</h4></div></div></div><p>
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   You may use <span class="command"><strong>bzip2</strong></span> the same way as <span class="command"><strong>gzip</strong></span> (untested).
</p></li><li class="listitem"><p>
   Since <span class="command"><strong>rshd</strong></span>, <span class="command"><strong>sshd</strong></span>,
   <span class="command"><strong>ftpd</strong></span> daemons are not available with muLinux, you have
   to build your own file transfer mechanism with <span class="command"><strong>nc</strong></span> also known as
   <span class="command"><strong>netcat</strong></span>, as described above.
</p></li><li class="listitem"><p>
   I had to set up both PPP sides very quickly or the connection broke, I
   don't know why.
</p></li><li class="listitem"><p>
   Speed optimization has to be done. Maybe these PPP options will help:
   <span class="command"><strong>asyncmap 0</strong></span> or <span class="command"><strong>local</strong></span>.
</p></li><li class="listitem"><p>
   I checked this only with a destination partition greater than the source
   partition. Please check <span class="command"><strong>dd</strong></span> instead of
   <span class="command"><strong>cat</strong></span> therefore.
</p><p>
   Or do the following (untested): At the destination machine
   <span class="command"><strong>cd</strong></span> into the root directory <code class="filename">/</code> and
   do <span class="command"><strong>nc -l -p 5555 | bzip2 -dc | tar xvf -</strong></span>. At the
   source machine <span class="command"><strong>cd</strong></span> into the root directory
   <code class="filename">/</code> and do 
   <span class="command"><strong>tar cvf - . | bzip2 | nc -w 3 192.168.0.2 5555</strong></span>. 
   This should shorten the time needed for
   the operation, too. Because only the allocated blocks need to be
   transfered.



</p></li><li class="listitem"><p>
   Don't <span class="command"><strong>mount</strong></span> the destination partition.
</p></li></ol></div><p>

</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm940"></a>4.5. From a Second (Desktop) Machine With a Hard Disk Adapter</h3></div></div></div><p>
   From Adam Sulmicki &lt;adam_AT_cfar.unc.edu&gt; I got this hint: Most but not
   all harddisks in laptops are removable, but this might be not an easy
   task. You could just buy one of those cheap 2.5" IDE converters/adapters
   which allow you to connect this harddisk temporarily to a desktop PC with IDE
   subsystem, and install Linux as usual using that PC. You may do so using
   the harddisk as the first IDE drive or besides as the second IDE drive.
   But then you need to be sure that the bootloader (e.g.
   <span class="command"><strong>lilo</strong></span>)
   writes to the right partition.
   Also you have to make sure that you use the same translation style as
   your laptop is going to use (i.e. LBA vs. LARGE vs. CHS ). 
   You will find additional information in the 
   <a class="ulink" href="http://tldp.org/HOWTO/Hard-Disk-Upgrade/index.html" target="_top">Hard-Disk-Upgrade-HOWTO</a>. 
   You might copy an existing partition, but it is also possible to achieve a
   customized installation. Instead of a desktop PC you may use a
   second laptop, which may offer better features like a CD/DVD, to put the harddisk in.
</p><p>
   The most common adapter formats are 2.5" IDE adapters (Parallel ATA - PATA). As
   far as I know Serial ATA (SATA) harddisks are not available for laptops
   yet. But they could be attached to Serial ATA interfaces in a desktop PC
   even without an adapter (at least I guess, but I will verify this as soon
   as I have SATA equipment available). Some small subnotebooks feature
   1.8" harddisks with ZIF connectors. These connectors are ATA compatible,
   and IDE adaptors for them are available also.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm946"></a>4.6. From a <acronym class="acronym">PCMCIA</acronym> Device</h3></div></div></div><p>
   Since I don't have a laptop which comes with a <acronym class="acronym">PCMCIA</acronym>
   <span class="emphasis"><em>floppy drive</em></span> (for instance Toshiba Libretto 100), I
   couldn't check this method. Please see the chapter Booting from a
   <acronym class="acronym">PCMCIA</acronym> Device in the
   <a class="ulink" href="http://pcmcia-cs.sourceforge.net/ftp/doc/PCMCIA-HOWTO.html" target="_top"><acronym class="acronym">PCMCIA</acronym>-HOWTO</a>.
   Also I couldn't check whether booting from a <acronym class="acronym">PCMCIA</acronym>
   <span class="emphasis"><em>harddisk</em></span> is possible.
</p><p>
   Anyway, when you are able to boot from a floppy and the laptop provides
   a <acronym class="acronym">PCMCIA</acronym> slot, it should be possible to use different
   <acronym class="acronym">PCMCIA</acronym> cards to connect to another machine, to an
   external SCSI device, different external CD and ZIP drives and others.
   Usually these methods are described in the documentation which is
   provided with the distribution.
</p><p>
   The Sony Vaio (PCG-Z600) comes with an external USB-Floppy and an
   external CD-ROM (PCMCIA). You can boot from the CD-ROM, but afterwards
   Linux doesn't recognize the same drive anymore so that you can't install
   from it. You'll have to add the bootparameter 
   <span class="command"><strong>linux ide2=0x180,0x360</strong></span> (or 0x180,0x386?) at the LILO boot prompt if
   you want Linux to recognize a PCMCIA CDROM after the kernel has booted.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="mobile-guide-p1c3s10-from-a-parallel-port-zip-drive"></a>4.7. From a Parallel Port ZIP Drive</h3></div></div></div><p>
   I couldn't check this method by myself, because I don't have such a
   device. Please check the appropriate 
   <a class="ulink" href="http://tldp.org/HOWTO/Install-From-ZIP.html" target="_top">Install-From-Zip-HOWTO</a>
   
   . Also I don't know how much these installation methods are supported by the
   Linux distributions or the micro Linuxes. I suppose you have to fiddle
   around a bit to get this working.
</p><p>
   From Jeremy Impson &lt;jdimpson_AT_acm.org&gt;: I installed Red Hat 6.1
   on a Libretto 50CT. It only has a PCMCIA floppy drive. (Which BTW isn't
   well supported by the default PCMCIA floppy driver. I needed to download
   a patch from some Linux on Libretto web site.)
</p><p>
   Linux will boot off the PCMCIA floppy drive, however. It just can't go
   back to the floppy after loading the kernel. My Libretto (the 50CT) only
   has one PCMCIA slot (later models had two slots, or I could have gotten
   the enhanced port replicator, which gave it another slot). So I couldn't
   boot off a floppy and then mount a remote filesystem.
</p><p>
   So I downloaded ZipSlack (Slackware designed for running from a ZIP
   disk) and used another PC to load it onto a ZIP disk. I attached the ZIP
   drive to the Libretto (via the parallel port on the regular port
   replicator that comes with it) and booted from the Slackware boot disk
   in the PCMCIA floppy drive. When booted, I removed the floppy drive and
   inserted and configured a network PCMCIA card. At this point the kernel
   is in memory and it is using the filesystem on the ZIP disk.
</p><p>
   I partitioned and formatted the Libretto's harddrive and then ftp'd Red
   Hat 6.1 installation source onto one of the new partitions (the
   partition that would become <code class="filename">/home</code> when everything
   gets done). This is the key: if you don't have enough disk space to have
   the installation files plus enough to actually install the OS on to,
   this method won't work.
</p><p>
   I shut down the ZipSlack kernel and rebooted it using a RedHat install
   disk in the floppy drive. I pointed it at the RH6.1 installation media
   already on the harddrive and started the install.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm972"></a>4.8. From a Parallel Port CD Drive (MicroSolutions BackPack)</h3></div></div></div><p>
   I had tried myself to install Linux using the MicroSolutions BackPack
   parallel CD-ROM drive. It is fully supported by Linux and I haven't had
   any major problem running it. Until version 2.0.36 it is supported by
   its own module (<span class="command"><strong>bpck</strong></span>) while in later versions it
   has been merged in the more general parallel port ide adaptors (the
   <span class="command"><strong>paride</strong></span> module that relays then of course on more
   specific low level drivers, which in the BackPack case is still called
   <span class="command"><strong>bpck</strong></span>). 
</p><p>
   In RedHat 5.x based installations the <span class="command"><strong>bpck</strong></span> module is
   available already at installation stage so you'll just have to select
   the BackPack cdrom from the <span class="emphasis"><em>Other CD-ROMs</em></span> at the
   installation stage and then give it some more options (but
   <span class="command"><strong>autoprobe</strong></span> should work just fine).
</p><p>
   In RedHat 6.x (which uses 2.2.x kernels and should then use 
   <span class="command"><strong>paride</strong></span>), the BackPack support was dropped. So to
   install the distribution from such a device, you will have to customize the
   bootdisk (adding the necessary modules) and the installation will be
   done without any problem.
</p><p>
   Federico Pellegrin has customized a RedHat bootdisk that includes all the
   parallel CDROM devices that are supported by the distribution Linux
   kernel version (2.2.12) that should then work on all the supported
   parallel CDROM devices (even if he only tested it on his MicroSolutions
   BackPack since he doesn't have other similar hardware). You can find
   <a class="ulink" href="http://web.archive.org/web/*/http://sole.infis.univ.trieste.it/~drzeus/rh_pcd.html" target="_top">some information on it and the bootdisk image</a>.
</p><p>
   As from RedHat 6.2 a supplementary driver disk was included in the
   distribution to support the paride devices. You'll just have to create
   the driver disk (the image file is <span class="command"><strong>paride.img</strong></span> and can
   be found in the <code class="filename">images/drivers</code> directory) in the
   usual way and insert it when the installer will ask for it.
</p><p>
   Of course I suppose there isn't any problem in installing any other
   Linux distribution using such a device as long as you can add and
   configure the appropriate modules at the very beginning of the
   installation stage, but I haven't tested any.
</p><p>
   You should take care of the mode the parallel port uses (ECP, EPP,
   Output only, PS/2) since some of them may cause your laptop to suddenly
   freeze or cause serious data corruption. On the other side some modes
   make the communication dramatically slow (I found the best choice on my
   laptop the PS/2, but you should make some tests).
</p><p>
   This chapter is a courtesy of Federico Pellegrin. Please check also the
   <a class="ulink" href="http://tldp.org/HOWTO/CDROM-HOWTO/" target="_top">CDROM-HOWTO</a>.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm993"></a>4.9. From a Parallel Port Using a Second Machine</h3></div><div><h4 class="subtitle">PLIP Network Install</h4></div></div></div><p>
   I got this courtesy by Nathan Myers &lt;ncm_AT_cantrip.org&gt;: "Many
   distributions support installing via a network, using FTP, HTTP, or
   NFS. It is increasingly common for laptops to have only a single
   <acronym class="acronym">PCMCIA</acronym> slot, already occupied by the boot floppy
   drive. Usually the boot floppy image has drivers for neither the
   floppy drive itself, nor the <acronym class="acronym">PCMCIA</acronym> subsystem.
   Thus, the only network interface available may be the parallel port.
</p><p>
   Installation via the parallel port using the PLIP protocol has been
   demonstrated on, at least, Red Hat. All you need is a
   <span class="emphasis"><em>Laplink</em></span> parallel cable, cheap at any computer
   store. See the 
   <a class="ulink" href="http://tldp.org/HOWTO/PLIP.html" target="_top">PLIP-HOWTO</a>
   for details on setting up the
   connection. Note that (uniquely) the RedHat installation requires that
   the other end of the PLIP connection be configured to use ARP
   (apparently because RedHat uses the DOS driver in their installer). On
   the host, either <span class="command"><strong>export</strong></span> your CD file system on NFS,
   or <span class="command"><strong>mount</strong></span> it where the ftp or web daemon can find it,
   as needed for the installation." 
</p><p>
   The 
   <a class="ulink" href="http://www.tldp.org/HOWTO/PLIP-Install-HOWTO.html" target="_top">PLIP Install HOWTO</a>
   by Gilles Lamiral describes how to install a Linux distribution on a
   computer without ethernet card, nor CD drive, but just a local floppy
   drive and a remote NFS server attached by a nullmodem parallel cable.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1006"></a>4.10. From a USB Storage Device (Stick, CD, DVD, Floppy)</h3></div></div></div><p>
   If booting from an USB device is supported from the BIOS, it is possible
   to install Linux from this drive. Besides some old laptops,
   almost all laptops equipped with USB ports support this feature.
</p><p>
   First you have to configure the BIOS to boot from an USB device. Sometimes
   it is possible to use a certain key combination (e.g. &lt;ESC&gt;) during the boot
   process to select the boot device.
</p><p>
   Second you have to install Linux on the boot medium (let's say
   an USB-Stick) and make it bootable. There are some special
   Linux distributions available, which are dedicated for
   such purposes, e.g.:
</p><p>
   <a class="ulink" href="http://featherlinux.berlios.de/about.htm" target="_top">Feather Linux</a>
   is a Linux distribution which runs completely off a CD or a
   USB pendrive and takes up under 64Mb of space. It is a Knoppix remastered
   (based on Debian/GNU Linux), and tries to include software which most people would use
   every day on their desktop.  See these
   <a class="ulink" href="http://featherlinux.berlios.de/usb-instructions.htm" target="_top">instructions about installing Feather Linux on an USB drive</a>. 
</p><p>
   <a class="ulink" href="http://www003.upp.so-net.ne.jp/tshiono/partboot-usb/" target="_top">Partboot</a>
   is dedictated to USB floppy drives and tailored for Linux laptop and
   notebook installations (you may find tools to resize your partitions as
   well as PCMCIA support and more).
</p><p>
   <a class="ulink" href="http://www.damnsmalllinux.org/" target="_top">Damn Small Linux (DSL)</a>
   is a business-card size (50MB) Live CD Linux
   distribution. Despite its minuscule size it strives to have a functional
   and easy to use desktop.
</p><p>
   <a class="ulink" href="http://www.puppyos.com/" target="_top">Puppy Linux</a>
   installs anywhere flash drive, live-CD, zip disk, hard drive, network
   emulator. All of the applications are in an approx 50-70MB distribution.
   So, it all runs in a ramdisk, and it all installs in a
   128M usb flash card with over half left over for your data.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1020"></a>4.11. Installing via Network Interface</h3></div></div></div><p>
On most modern laptops and notebooks with integrated network card, a network
installation via the PXE protocol is easy to achieve. This comes in
handy especially if there is no CD or DVD drive available.



</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1023"></a>4.11.1. How to Prepare the Source Machine</h4></div></div></div><p>
For my installation I have used a Knoppix CD in the
source machine. Just enable the Terminal Server
(KNOPPIX-&gt;Server-Dienste-&gt;Terminal-Server KNOPPIX-Services-Start-&gt; KNOPPIX Terminal Server)
For almost any laptop model the default network drivers should work.
Disable secure options, otherwise you will not be able to become the root user
on the target machine.
Besides using Knoppix, there are numerous ways to prepare 
the source machine for PXE. I haven't checked the EtherBoot
protocol yet, but this might work too.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1026"></a>4.11.2. How to Prepare the Target Machine</h4></div></div></div><p>
Look up the BIOS for something like a NetBoot Option and set it on.
Boot the machine and choose booting from the network device.
This is usually achieved by pressing a certain key during boot up
or by pre-selecting the network interface as the boot device in the BIOS.
Now Knoppix should come up. Open a shell and do an
<span class="command"><strong>su</strong></span> to become root. To achieve a hard disk installation 
do either <span class="command"><strong>knx-hdinstall</strong></span> for Knoppix &lt;=3.3 
or <span class="command"><strong>knoppix-installer</strong></span> for Knoppix &gt;=3.3.
</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1032"></a>4.12. Installing via VNC</h3></div></div></div><p>
You might ask why do a laptop installation via the VNC protocol? 
Indeed I know only of one reason to do so. Imagine you want
to use a laptop with a broken keyboard you may use the
keyboard of the remote machine to achieve the installation. 
Though you have to do a few key stroke to initiate the VNC
installation!
You have to prepare the source machine accordingly (instructions how
to do so will follow later). For recent SuSE versions the
distribution is already prepared, see the handbook for details.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1035"></a>4.13. Installing Linux on Small Machines</h3></div></div></div><p>
   If you have less than 8MB memory and want to install via NFS you
   may get the message "fork: out of memory". To handle this problem,
   use <span class="command"><strong>fdisk</strong></span> to make a swap partition
   (<span class="command"><strong>fdisk</strong></span> should be on the install floppy or take
   one of the mini Linuxes described above). Then try to boot from the
   install floppy again. Before configuring the NFS connection change
   to another console (for instance by pressing &lt;ALT&gt;&lt;F2&gt;)
   and issue <span class="command"><strong>swapon /dev/xxx</strong></span>   (xxx = swap
   partition ). Thanks to Thomas Schmaltz.
</p><p>
   Bruce Richardson has written the
   
   <a class="ulink" href="http://tldp.org/HOWTO/4mb-Laptops.html" target="_top">4MB-Laptop-HOWTO</a>
   on installing a modern Linux distribution (specifically
   Slackware 7.0) onto laptops with 4MB RAM and &lt;= 200MB hard
   disks.  Another HOWTO is
   <a class="ulink" href="http://www.xs4all.nl/~lennartb/rescuedisk/index.html" target="_top">Getting Linux into Small Machines - HOWTO</a>
   by  L.C. Benschop.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1044"></a>4.14. Installing Linux on Apple Macintosh PowerBooks and iBooks</h3></div></div></div><p>
   Macintosh PowerBooks these days come with a CD/DVD drive but not a
   floppy drive, but the Linux distributions for PPC support booting and
   installation off of a CD without any need for a floppy.
</p><p>
   Sometimes, when you boot the installer on the PowerBooks, the screen is
   black; this is easily fixed by tapping the brightness key on the
   keyboard (somehow, the screen brightness gets reset to zero).
</p><p>
   If you have a very recent PowerBook, it may not be supported by the
   kernel on the installation CD. You can get around this by booting off of
   a recent kernel downloaded onto your hard drive and using a ramdisk on
   the CD or hard drive, while still loading the installation packages from
   the CD (the default). (See the instructions available online for yaBoot
   or BootX, the Linux/PPC boot loaders; yaBoot is currently
   better-supported on the newest machines.)
</p><p>
   They can also boot/install from the Macintosh (HFS) partition on the
   internal hard disk.
</p><p>
   This part is a courtesy of Steven G. Johnson.
</p><p>
   For Linux installation reports see 
   <a class="ulink" href="http://tuxmobil.org/apple.html" target="_top">Linux Laptop and Notebook Survey: Apple</a>.
   </p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1053"></a>4.15. Mass Installation</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1055"></a>4.15.1. 2.5" to 3.5" IDE Adapter</h4></div></div></div><p>
   If you have a 2,5" to 3,5" IDE drive adapter you can install one of the
   laptops, and with a desktop computer clone this harddisk to the disks of
   the other 99 laptops. You can use the DOS utility GHOST (works pretty
   with ext2) or with tar if the desktop works in linux. You only need an
   additional boot disk for the reinstall of the <span class="command"><strong>lilo</strong></span> in
   each laptop and change the hostname and IP address. These adapter are
   usually quite cheap (app . ten dollar, but difficult to get) .
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1059"></a>4.15.2. SystemImager</h4></div></div></div><p>
   <a class="ulink" href="http://systemimager.sourceforge.net" target="_top">VA SystemImager</a>
   is software that makes the installation of Linux to masses of similar
   machines relatively easy.  It also makes software distribution,
   configuration, and operating system updates easy. You can even update
   from one Linux release version to another! VA SystemImager can also be
   used for content management on web servers. It is most useful in
   environments where you have large numbers of identical machines. Some
   typical environments include: Internet server farms, high performance
   clusters, computer labs, or corporate desktop environments where all
   workstations have the same basic hardware configuration.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1063"></a>4.15.3. Debian/GNU Linux</h4></div></div></div><p>
   You might want to take a look at 
   <a class="ulink" href="http://www.informatik.uni-koeln.de/fai" target="_top">FAI - Fully Automatic Installation</a>.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1067"></a>4.15.4. SuSE</h4></div></div></div><p>
   The package 
   
   ALICE - Automatic Linux Installation and Configuration Environment,
   offers CVS-based configuration files and configuration templates.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1070"></a>4.15.5. Replicator</h4></div></div></div><p>
   
   Replicator is a set of scripts to automate the duplication of a
   Debian GNU/Linux installation from one computer to another.
   Replicator makes an effort to take into account differences in
   hardware (like HD size, video card) and in software configuration
   (such as partitioning). After the initial configuration, the
   scripts will create a bootdisk that allows you to completely
   (re)install a Debian box by booting from the floppy and answering a 
   yes/no question.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1073"></a>4.15.6. partimage</h4></div></div></div><p>
   <a class="ulink" href="http://partimage.sourceforge.net/" target="_top">Partition Image</a>
   is a Linux/UNIX utility which saves partitions in the ext2fs
   (the linux standard), ReiserFS (a new journalized and
   powerful file system) or FAT16/32 (MS-DOS and MS-Windows file
   systems) file system format to an image file. The image file
   can be compressed in the GZIP/BZIP2 formats to save disk
   space, and splitted into multiple files to be copied on
   floppies (ZIP for example).
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3. Linux Tools to Repartition a Hard Disk </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 5. Common Problems During Installation</td></tr></table></div></body></html>
