<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Configuration Tools</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="laptop, notebook, pda, handheld, computer, mobile, mobile phone, cell phone, portable player, linux, unix"><link rel="home" href="index.html" title="Linux on the Road"><link rel="up" href="ch15.html" title="Chapter 15. Different Environments"><link rel="prev" href="ch15s01.html" title="1. Related Documentation"><link rel="next" href="ch15s03.html" title="3. E-Mail"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Configuration Tools</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch15s01.html">Prev</a> </td><th width="60%" align="center">Chapter 15. Different Environments</th><td width="20%" align="right"> <a accesskey="n" href="ch15s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mobile-guide-p5c1s2-configuration-tools"></a>2. Configuration Tools</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3921"></a>2.1. NetEnv</h3></div></div></div><p>
   Do you use your laptop in different network environments? At home? In
   the office? At a customers site?
</p><p>
   If yes, the small package "netenv" might be useful for you. When booting
   your laptop it provides you with a simple interface from which you can
   choose the current network environment. The first time in a new
   environment, you can enter the basic data and save it for later reuse.
</p><p>
   Netenv sets up a file containing variable assignments which describe the
   current environment. This can be used by the <acronym class="acronym">PCMCIA</acronym>
   setup scheme, e.g. like the one that comes with Debian/GNU Linux and
   perhaps others.
</p><p>
   The netenv data can be used for things like:
</p><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Network Device: Configure the network device for different environments.
</p></li><li class="listitem"><p>
   Choose a proper <code class="filename">XF86Config</code>: Think of using your
   laptop standalone with touchpad vs. connected to a CRT monitor along
   with an external mouse. For example, a wheel mouse could be used when
   docked, but the driver is not compatible with the normal trackpoint or
   touchpad.
</p></li><li class="listitem"><p>
   Windowmanager: You can set up your windowmanager appropriate to the
   current location of your machine.
</p></li><li class="listitem"><p>
   Printing Environment: The netenv data can easily be used to set up the
   printing environment.
</p></li></ol></div><p>

</p><p>
   Netenv is available at
   <a class="ulink" href="http://netenv.sourceforge.net" target="_top">netenv home</a>.
   It depends on <span class="command"><strong>dialog(1)</strong></span> for its menu interface.
   Netenv was developed by Gerd Bavendiek.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3942"></a>2.2. System Configuration Profile Management - SCPM</h3></div></div></div><p>
   SuSE's
   <a class="ulink" href="http://forge.novell.com/modules/xfmod/project/?scpm" target="_top">System Configuration Profile Management - SCPM</a>
   software allows you to switch configuration profiles.
   You can boot directly into one profile and then switch to another
   profile at run time. This is the successor of SuSE's older "scheme"
   management software.

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3946"></a>2.3. ifplugd</h3></div></div></div><p>
   <a class="ulink" href="http://0pointer.de/lennart/projects/ifplugd/" target="_top">ifplugd</a>
   is a lightweight Linux daemon which configures the network
   automatically when a cable is plugged in and deconfigures it when the
   cable is pulled. It is primarily intended for usage with laptops. It
   relies on the distribution's native network configuration subsystem, and
   is thus not very intrusive.
   

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3950"></a>2.4. divine</h3></div></div></div><p>
   <a class="ulink" href="http://www.fefe.de/divine/" target="_top">divine</a>
   is an utility for people who use their machines in different 
   networks all the time. "The idea is this:
</p><p>

</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
   you describe the possible networks in /etc/divine.conf, including one or
   more machines that are probably up (routers and NIS servers come to
   mind).
</p></li><li class="listitem"><p>
   at boot time, you run divine.
</p></li><li class="listitem"><p>
   <span class="command"><strong>divine</strong></span> starts a thread that injects fake arp requests
   into the network.  The thread will try again up to three times, pausing
   1 second between retries.  If the last try times out again, the thread
   will print an error message, leave the interface in the original state
   and exit cleanly.
</p></li><li class="listitem"><p>
   the main thread just looks for arp replies and exits if one is found.
</p></li><li class="listitem"><p>
   You have one <code class="filename">resolv.conf</code> per network, for example
   <code class="filename">/etc/resolv.conf.default</code> and
   <code class="filename">/etc/resolv.conf.work</code>.  <span class="command"><strong>divine</strong></span>
   will symlink one of them to <code class="filename">/etc/resolv.conf</code> for
   you.
</p></li><li class="listitem"><p>
   You can specify a proxy server plus port and divine 
   will write the  proxy server to 
   <code class="filename">/etc/proxy</code>. This can be evaluated 
   inside your shell startup script, like this (<span class="command"><strong>zsh</strong></span>):

</p><pre class="programlisting">
export http_proxy="http://`&lt;/etc/proxy`/"
</pre><p>

   The included perl script edit-netscape-proxy.pl 
   will edit the proxy settings in your Netscape 4 preferences file.
</p></li><li class="listitem"><p>
   You can even specify an additional script to be run for each selection.
   You can use this to edit <code class="filename">/etc/printcap</code> or
   <code class="filename">/etc/issue</code> or do something else I forgot.
</p></li></ul></div><p>

</p><p>
   The point about <span class="command"><strong>divine</strong></span> in contrast to other solutions
   is that other solutions normally use <span class="command"><strong>ping</strong></span> or
   something like that. <span class="command"><strong>divine</strong></span> can check a large number
   of networks instantaneously, assuming that the machines you ping answer
   within one second (.4 seconds are normal on Ethernets). And pinging an
   unknown address will do an arp request anyway, so why not do an arp
   request in the first place?"
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3985"></a>2.5. Mobile IP</h3></div></div></div><p>
   From the
   <a class="ulink" href="http://tldp.org/HOWTO/NET3-4-HOWTO.html" target="_top">Networking-HOWTO</a>
   : "The term <span class="emphasis"><em>IP Mobility</em></span>
   describes the ability of a host that is able to move its network
   connection from one point on the Internet to another without changing
   its IP address or losing connectivity. Usually when an IP host changes
   its point of connectivity it must also change its IP address. IP
   Mobility overcomes this problem by allocating a fixed IP address to the
   mobile host and using IP encapsulation (tunneling) with automatic
   routing to ensure that datagrams destined for it are routed to the
   actual IP address it is currently using."
</p><p>
   
   <a class="ulink" href="http://dynamics.sourceforge.net/" target="_top">Dynamics Mobile IP</a>
   is a dynamical, hierarchical Mobile IP system for Linux operating system.
   The implementation enables a hierarchical model for IP mobility, thus
   decreasing the location update times as a mobile host moves. Dynamics
   system has been designed Wireless LAN technology in mind, and the system
   has optimized functionality for mobility in WLAN.
</p><p>
   See also
   <a class="ulink" href="http://tuxmobil.org/manet_linux.html" target="_top">Linux and Mobile AdHoc Networks - MANETs</a>.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3994"></a>2.5.1. Resources</h4></div></div></div><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   <a class="ulink" href="http://www.hpl.hp.com/personal/Jean_Tourrilhes/MobileIP/index.html" target="_top">Linux Mobile IP from HP Labs Bristol</a>
   by Manuel Rodriguez.
</p></li><li class="listitem"><p>
<a class="ulink" href="http://mosquitonet.Stanford.EDU/software/mip.html" target="_top">MosquitoNet Mobile IP</a>
</p></li><li class="listitem"><p>
   <a class="ulink" href="http://http.cs.berkeley.edu/~randy/Daedalus/BARWAN/" target="_top">Bay Area Research Wireless Access Network</a>
   - BARWAN
</p></li></ol></div><p>

</p><p>
   Sources: Kenneth E. Harker and Dag Brattli
</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm4008"></a>2.6. DHCP/BootP</h3></div></div></div><p>
   DHCP and BootP are also useful for working in different environments.
   Please see the
   <a class="ulink" href="http://tldp.org/HOWTO/DHCP/index.html" target="_top">DHCP-HOWTO</a>
   .

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm4012"></a>2.7. PPPD Options</h3></div></div></div><p>
   The <span class="command"><strong>pppd</strong></span> command can be configured via several
   different files: 
   <span class="command"><strong>pppd file /etc/ppp/&lt;your_options&gt;</strong></span> .
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm4017"></a>2.8. /etc/init.d</h3></div></div></div><p>
   You may even choose to do your configuration by editing the
   <code class="filename">/etc/init.d</code> files manually.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm4021"></a>2.9. <acronym class="acronym">PCMCIA</acronym> - Schemes</h3></div></div></div><p>
   How can I have separate <acronym class="acronym">PCMCIA</acronym> device setups for home
   and work? This is fairly easy using <acronym class="acronym">PCMCIA</acronym>
   <span class="emphasis"><em>scheme</em></span> support. Use two configuration schemes,
   called <span class="command"><strong>home</strong></span> and <span class="command"><strong>work</strong></span>. For details
   please read the appropriate chapter in the
   <a class="ulink" href="http://pcmcia-cs.sourceforge.net/ftp/doc/PCMCIA-HOWTO.html" target="_top"><acronym class="acronym">PCMCIA</acronym>-HOWTO</a>.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm4032"></a>2.10. Bootloaders</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm4034"></a>2.10.1. LILO</h4></div></div></div><p>
   From Martin J. Evans
   
   I have taken this recommendation: The first point to note is that
   <span class="command"><strong>init</strong></span> will take any arguments of the form
   <span class="command"><strong>name=value</strong></span> as environment variable assignments if
   they are not recognized as something else. This means you can set
   environment variables from the LILO boot prompt before your rc scripts
   run. I set the <span class="command"><strong>LOCATION</strong></span> environment variable
   depending on where I am when I boot Linux. e.g.

</p><pre class="programlisting">
LILO: linux LOCATION=home
</pre><p>

   Or

</p><pre class="programlisting">
LILO: linux LOCATION=work
</pre><p>

   Or simply

</p><pre class="programlisting">
LILO: linux
</pre><p>

   where failing to set <span class="command"><strong>LOCATION</strong></span> means the same as
   <span class="command"><strong>LOCATION=home</strong></span> (i.e. my default). Instead of typing
   <span class="command"><strong>LOCATION=place</strong></span> each time you boot you can add an
   entry to your <code class="filename">/etc/lilo.conf</code> file and use the
   append instruction. e.g.

</p><pre class="programlisting">
# Linux bootable partition for booting Linux at home
#
image = /vmlinuz
root = /dev/hda3
label = linux
read-only
# Linux bootable partition config ends
#
# Linux bootable partition for booting Linux at work
#
image = /vmlinuz
root = /dev/hda3
label = work
read-only
append="LOCATION=work"
# Linux bootable partition config ends
</pre><p>

   With the example above you can use "linux" 
   for booting at home and "work" for booting at work.
</p><p>
   Armed with the facility above, you can now edit the relevant rc scripts
   to test ENVIRONMENT before running <span class="command"><strong>ifconfig</strong></span>, setting
   up <span class="command"><strong>route</strong></span> etc.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm4051"></a>2.10.2. Other Bootloaders</h4></div></div></div><p>
   There are several other bootloaders which are often overlooked.
   Besides LILO, have a look at loadlin, CHooseOS (CHOS) (not GPL), GRand
   Unified Bootloader (GRUB), System Commander and take a look at 
   <a class="ulink" href="ftp://metalab.unc.edu/pub/Linux/system/boot/loaders/" target="_top">ftp://metalab.unc.edu/pub/Linux/system/boot/loaders/</a>
   . The MicroSoft Windows-NT boot loader or OS/2 boot loader may even be used.
</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm4055"></a>2.11. X-Windows</h3></div></div></div><p>
   From Steve &lt;steve_AT_cygnet.co.uk&gt; I got a configuration for X
   Windows with an external monitor: Note that I have introduced a neat
   trick! For my nice 17" monitor I start X11 with no options and get the
   default 16-bit 1152x864 display - but when using the
   <acronym class="acronym">LCD</acronym> screen I specify a 15-bit display
   (<span class="command"><strong>startx -- -bpp 15</strong></span>) and get the correct 800x600
   resolution automatically. This saves having to have two X11 config
   files.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm4060"></a>2.12. More Info</h3></div></div></div><p>
   <a class="ulink" href="http://www.ssc.com/lg/issue20/laptop.html" target="_top">Using a Laptop in Different Environments</a>
   by  Gerd Bavendiek . This article appeared in
   the August, 1997 issue of the 
   <a class="ulink" href="http://www.ssc.com/lg/" target="_top">Linux Gazette</a>
   . This is an excellent, short technical article describing an easy way
   to setup your Linux notebook to boot into different network and printing
   configurations, especially useful for those who use their machines at
   home as well as other locations such as in the office, at school, or at
   a customer site.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch15s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch15.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch15s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Related Documentation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. E-Mail</td></tr></table></div></body></html>
