<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5. PCMCIA Controller</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="laptop, notebook, pda, handheld, computer, mobile, mobile phone, cell phone, portable player, linux, unix"><link rel="home" href="index.html" title="Linux on the Road"><link rel="up" href="ch12.html" title="Chapter 12. Hardware in Detail: CPU, Display, Keyboard, Sound and More"><link rel="prev" href="ch12s04.html" title="4. Centrino(tm), Centrino-Duo(tm)"><link rel="next" href="ch12s06.html" title="6. Graphics Chip"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. <acronym class="acronym">PCMCIA</acronym> Controller</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch12s04.html">Prev</a> </td><th width="60%" align="center">Chapter 12. Hardware in Detail: CPU, Display, Keyboard, Sound and More</th><td width="20%" align="right"> <a accesskey="n" href="ch12s06.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mobile-guide-p2c1s2-pcmcia-controller"></a>5. <acronym class="acronym">PCMCIA</acronym> Controller</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1849"></a>5.1. Linux Compatibility Check</h3></div></div></div><p>
   With the <span class="command"><strong>probe</strong></span> command, which is included in the
   <acronym class="acronym">PCMCIA</acronym>-CS package by David Hinds you can get the type
   of the <acronym class="acronym">PCMCIA</acronym> controller. Also available by the
   command <span class="command"><strong>cat /proc/pci</strong></span>.
</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1856"></a>5.2. Related Documentation</h3></div></div></div><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   <a class="ulink" href="http://pcmcia-cs.sourceforge.net/ftp/doc/PCMCIA-HOWTO.html" target="_top"><acronym class="acronym">PCMCIA</acronym>-HOWTO</a>
</p></li></ol></div><p>

</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1864"></a>5.3. <acronym class="acronym">PCMCIA</acronym> Configuration - Survey</h3></div></div></div><p>
   In the mailing lists where I'm a member, the question 
   "How can I set up <acronym class="acronym">PCMCIA</acronym> support, 
   after the Linux installation?" comes up sometimes. 
   Therefore I try to give a short survey. But the 
   authoritative source for the latest information about the 
   <span class="emphasis"><em><acronym class="acronym">PCMCIA</acronym> Card Services for Linux</em></span>, 
   including documentation, files, and generic 
   <acronym class="acronym">PCMCIA</acronym> information is the 
   <a class="ulink" href="http://pcmcia-cs.sourceforge.net/" target="_top">Linux <acronym class="acronym">PCMCIA</acronym> Information Page</a>
   . For problems with <acronym class="acronym">PCMCIA</acronym> and 
   <acronym class="acronym">APM</acronym> see the chapter <acronym class="acronym">APM</acronym>.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1877"></a>5.3.1. Software</h4></div></div></div><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Install the newest available <acronym class="acronym">PCMCIA</acronym>-CS package, if
   you take a rpm or deb package it is quite easy.
</p></li><li class="listitem"><p>
   Read the <acronym class="acronym">PCMCIA</acronym> HOWTO, usually included in the
   <acronym class="acronym">PCMCIA</acronym>-CS package.
</p></li><li class="listitem"><p>
   If necessary, install a new kernel.

</p></li><li class="listitem"><p>
   Make sure your kernel has module support and <acronym class="acronym">PCMCIA</acronym>
   support enabled (and often <acronym class="acronym">APM</acronym> support)
</p></li><li class="listitem"><p>
   Make sure your kernel also includes support for the cards you want to
   use, e.g. network support for a NIC card, serial support for a modem
   card, SCSI support for a SCSI card and so on.
</p></li><li class="listitem"><p>
   If you have a custom made kernel, don't forget to compile the
   <acronym class="acronym">PCMCIA</acronym>-CS source against your kernel.
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1899"></a>5.3.2. <acronym class="acronym">PCMCIA</acronym> Controller</h4></div></div></div><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Use the <span class="command"><strong>probe</strong></span> command to get information whether your
   <acronym class="acronym">PCMCIA</acronym> controller is detected or not.
</p></li><li class="listitem"><p>
   Edit the file <code class="filename">/etc/sysconfig/pcmcia</code>. It should
   include <span class="command"><strong>PCMCIA=y</strong></span> and the type of your
   <acronym class="acronym">PCMCIA</acronym> controller, e.g.
   <span class="command"><strong>PCIC=i82365</strong></span>. Since Kernel 2.6 there
   is a standard driver <span class="command"><strong>PCIC=yenta_socket</strong></span>.
</p></li><li class="listitem"><p>
   Start the <acronym class="acronym">PCMCIA</acronym> services typically via
   <span class="command"><strong>/etc/init.d/pcmcia start</strong></span>. If you get two high beeps,
   everything should be fine.
</p></li><li class="listitem"><p>
   If something doesn't work, check the messages in
   <code class="filename">/var/log/messages</code> . 
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm1922"></a>5.3.3. <acronym class="acronym">PCMCIA</acronym> Card</h4></div></div></div><p>

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
   Check your card with <span class="command"><strong>cardctl ident</strong></span> .
</p></li><li class="listitem"><p>
   If your card is not in <code class="filename">/etc/pcmcia/config</code>, edit the
   file <code class="filename">/etc/pcmcia/&lt;MYCARD&gt;.conf</code> appropriately. Take an
   entry in the first file as a model. You may try every driver, just in
   case it might work, for instance the <span class="command"><strong>pcnet_cs</strong></span>
   supports many NE2000 compatible <acronym class="acronym">PCMCIA</acronym> network cards.
   Note: it is a bad practice to edit <code class="filename">/etc/pcmcia/config</code>
   directly, because all changes will be lost with the next update.
</p></li><li class="listitem"><p>
   A list of supported cards is included in the 
   <acronym class="acronym">PCMCIA</acronym>-CS package. The current list you may find at 
   <a class="ulink" href="http://pcmcia-cs.sourceforge.net/ftp/SUPPORTED.CARDS" target="_top">SUPPORTED.CARDS</a>. 



</p><p>
   Since there are not all cards mentioned I have set up a 
   <a class="ulink" href="http://tuxmobil.org/pcmcia_linux.html" target="_top"><acronym class="acronym">PCMCIA</acronym> Cards Survey of Cards Supported by Linux</a>
   .
</p></li><li class="listitem"><p>
   If you use a X11 GUI, you can use <span class="command"><strong>cardinfo</strong></span> to insert,
   suspend, or restart a <acronym class="acronym">PCMCIA</acronym> card via a nice
   graphical interface.
</p></li></ol></div><p>

</p><p>

</p><div class="figure"><a name="idm1949"></a><p class="title"><b>Figure 12.1. Screenshot of cardinfo</b></p><div class="figure-contents"><div class="mediaobject"><img src="images/cardinfo.png" alt="Screenshot of cardinfo"></div></div></div><p><br class="figure-break">

</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch12s04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch12.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch12s06.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4. Centrino(tm), Centrino-Duo(tm) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6. Graphics Chip</td></tr></table></div></body></html>
