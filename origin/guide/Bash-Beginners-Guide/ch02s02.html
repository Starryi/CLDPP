<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Script basics</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="Linux, Scripts, linux, Bash, guide, Guide, Exercises, exercises, bash, scripting, Scripting, awk, sed, variables, functions, loops, conditionals"><link rel="home" href="index.html" title="Bash Guide for Beginners"><link rel="up" href="ch02.html" title="Chapter 2. Writing and debugging scripts"><link rel="prev" href="ch02s01.html" title="1. Creating and running a script"><link rel="next" href="ch02s03.html" title="3. Debugging Bash scripts"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Script basics</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s01.html">Prev</a> </td><th width="60%" align="center">Chapter 2. Writing and debugging scripts</th><td width="20%" align="right"> <a accesskey="n" href="ch02s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sect_02_02"></a>2. Script basics</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_02_02_01"></a>2.1. Which shell will run the script?</h3></div></div></div><p>When running a script in a subshell<a class="indexterm" name="idm1512"></a>, you should define which shell should run the script.  The shell type in which you wrote the script might not be the default on your system, so commands you entered might result in errors when executed by the wrong shell.</p><p>The first line of the script determines the shell to start.  The first two characters of the first line should be <span class="emphasis"><em>#!</em></span>, then follows the path to the shell that should interpret the commands that follow.  Blank lines are also considered to be lines, so don't start your script with an empty line.</p><p>For the purpose of this course, all scripts will start with the line</p><div class="cmdsynopsis"><p><code class="command">#!/bin/bash</code> </p></div><p>As noted before, this implies that the Bash executable can be found in <code class="filename">/bin</code>.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_02_02_02"></a>2.2. Adding comments</h3></div></div></div><p>You should be aware of the fact that you might not be the only person reading your code.  A lot of users and system administrators run scripts that were written by other people.  If they want to see how you did it, comments<a class="indexterm" name="idm1525"></a> are useful to enlighten the reader.</p><p>Comments<a class="indexterm" name="idm1529"></a> also make your own life easier.  Say that you had to read a lot of man pages in order to achieve a particular result with some command that you used in your script.   You won't remember how it worked if you need to change your script after a few weeks or months, unless you have commented what you did, how you did it and/or why you did it.</p><p>Take the <code class="filename">script1.sh</code> example and copy it to <code class="filename">commented-script1.sh</code>, which we edit so that the comments reflect what the script does.  Everything the shell encounters after a hash mark on a line is ignored and only visible upon opening the shell script file:</p><pre class="screen">
#!/bin/bash
# This script clears the terminal, displays a greeting and gives information
# about currently connected users.  The two example variables are set and displayed.

clear				# clear terminal window

echo "The script starts now."

echo "Hi, $USER!"		# dollar sign is used to get content of variable
echo

echo "I will now fetch you a list of connected users:"
echo							
w				# show who is logged on and
echo				# what they are doing

echo "I'm setting two variables now."
COLOUR="black"					# set a local shell variable
VALUE="9"					# set a local shell variable
echo "This is a string: $COLOUR"		# display content of variable 
echo "And this is a number: $VALUE"		# display content of variable
echo

echo "I'm giving you back your prompt now."
echo
</pre><p>In a decent script, the first lines are usually comment about what to expect.  Then each big chunk of commands will be commented as needed for clarity's sake.  Linux init scripts, as an example, in your system's <code class="filename">init.d</code> directory, are usually well commented since they have to be readable and editable by everyone running Linux.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Creating and running a script </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Debugging Bash scripts</td></tr></table></div></body></html>
