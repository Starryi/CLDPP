<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3. Executing commands</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="Linux, Scripts, linux, Bash, guide, Guide, Exercises, exercises, bash, scripting, Scripting, awk, sed, variables, functions, loops, conditionals"><link rel="home" href="index.html" title="Bash Guide for Beginners"><link rel="up" href="ch01.html" title="Chapter 1. Bash and Bash scripts"><link rel="prev" href="ch01s02.html" title="2. Advantages of the Bourne Again SHell"><link rel="next" href="ch01s04.html" title="4. Building blocks"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Executing commands</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s02.html">Prev</a> </td><th width="60%" align="center">Chapter 1. Bash and Bash scripts</th><td width="20%" align="right"> <a accesskey="n" href="ch01s04.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sect_01_03"></a>3. Executing commands</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_01_03_01"></a>3.1. General</h3></div></div></div><p>Bash determines the type of program that is to be execute<a class="indexterm" name="idm844"></a>d.  Normal programs are system commands that exist in compiled form on your system.  When such a program is executed, a new process is created because Bash makes an exact copy of itself.  This child process has the same environment as its parent, only the process ID number is different.  This procedure is called <span class="emphasis"><em>forking</em></span>.</p><p>After the forking process, the address space of the child process is overwritten with the new process data.  This is done through an <span class="emphasis"><em>exec</em></span> call to the system.</p><p>The <span class="emphasis"><em>fork-and-exec</em></span> mechanism<a class="indexterm" name="idm852"></a> thus switches an old command with a new, while the environment in which the new program is executed remains the same, including configuration of input and output devices, environment variables and priority.  This mechanism is used to create all UNIX processes, so it also applies to the Linux operating system.  Even the first process, <span class="command"><strong>init</strong></span>, with process ID 1, is forked during the boot procedure in the so-called <span class="emphasis"><em>bootstrapping</em></span> procedure.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_01_03_02"></a>3.2. Shell built-in commands</h3></div></div></div><p>Built-in commands<a class="indexterm" name="idm860"></a> are contained within the shell itself.  When the name of a built-in command is used as the first word of a simple command, the shell executes the command directly, without creating a new process.  Built-in commands are necessary to implement functionality impossible or inconvenient to obtain with separate utilities.</p><p>Bash supports 3 types of built-in commands:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Bourne<a class="indexterm" name="idm867"></a> Shell built-ins:</p><p><span class="command"><strong>:</strong></span>, <span class="command"><strong>.</strong></span>, <span class="command"><strong>break</strong></span>, <span class="command"><strong>cd</strong></span>, <span class="command"><strong>continue</strong></span>, <span class="command"><strong>eval</strong></span>, <span class="command"><strong>exec</strong></span>, <span class="command"><strong>exit</strong></span>, <span class="command"><strong>export</strong></span>, <span class="command"><strong>getopts</strong></span>, <span class="command"><strong>hash</strong></span>, <span class="command"><strong>pwd</strong></span>, <span class="command"><strong>readonly</strong></span>, <span class="command"><strong>return</strong></span>, <span class="command"><strong>set</strong></span>, <span class="command"><strong>shift</strong></span>, <span class="command"><strong>test</strong></span>, <span class="command"><strong>[</strong></span>, <span class="command"><strong>times</strong></span>, <span class="command"><strong>trap</strong></span>, <span class="command"><strong>umask</strong></span> and <span class="command"><strong>unset</strong></span>.</p></li><li class="listitem"><p>Bash<a class="indexterm" name="idm895"></a> built-in commands:</p><p><span class="command"><strong>alias</strong></span>, <span class="command"><strong>bind</strong></span>, <span class="command"><strong>builtin</strong></span>, <span class="command"><strong>command</strong></span>, <span class="command"><strong>declare</strong></span>, <span class="command"><strong>echo</strong></span>, <span class="command"><strong>enable</strong></span>, <span class="command"><strong>help</strong></span>, <span class="command"><strong>let</strong></span>, <span class="command"><strong>local</strong></span>, <span class="command"><strong>logout</strong></span>, <span class="command"><strong>printf</strong></span>, <span class="command"><strong>read</strong></span>, <span class="command"><strong>shopt</strong></span>, <span class="command"><strong>type</strong></span>, <span class="command"><strong>typeset</strong></span>, <span class="command"><strong>ulimit</strong></span> and <span class="command"><strong>unalias</strong></span>.</p></li><li class="listitem"><p>Special<a class="indexterm" name="idm919"></a> built-in commands:</p><p>When Bash is executing in POSIX mode, the special built-ins differ from other built-in commands in three respects:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Special built-ins are found before shell functions during command lookup.</p></li><li class="listitem"><p>If a special built-in returns an error status, a non-interactive shell exits.</p></li><li class="listitem"><p>Assignment statements preceding the command stay in effect in the shell environment after the command completes.</p></li></ol></div><p>The POSIX special built-ins are <span class="command"><strong>:</strong></span>, <span class="command"><strong>.</strong></span>, <span class="command"><strong>break</strong></span>, <span class="command"><strong>continue</strong></span>, <span class="command"><strong>eval</strong></span>, <span class="command"><strong>exec</strong></span>, <span class="command"><strong>exit</strong></span>, <span class="command"><strong>export</strong></span>, <span class="command"><strong>readonly</strong></span>, <span class="command"><strong>return</strong></span>, <span class="command"><strong>set</strong></span>, <span class="command"><strong>shift</strong></span>, <span class="command"><strong>trap</strong></span> and <span class="command"><strong>unset</strong></span>.</p></li></ul></div><p>Most of these built-ins will be discussed in the next chapters.  For those commands for which this is not the case, we refer to the Info pages.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="sect_01_03_03"></a>3.3. Executing programs from a script</h3></div></div></div><p>When the program<a class="indexterm" name="idm949"></a> being executed is a shell script, bash will create a new bash process using a <span class="emphasis"><em>fork</em></span>.  This subshell reads the lines from the shell script one line at a time.  Commands on each line are read, interpreted and executed as if they would have come directly from the keyboard.</p><p>While the subshell processes each line of the script, the parent shell waits for its child process to finish.  When there are no more lines in the shell script to read, the subshell terminates.  The parent shell awakes and displays a new prompt.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch01s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2. Advantages of the Bourne Again SHell </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4. Building blocks</td></tr></table></div></body></html>
