<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5. Exercises</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="Linux, Scripts, linux, Bash, guide, Guide, Exercises, exercises, bash, scripting, Scripting, awk, sed, variables, functions, loops, conditionals"><link rel="home" href="index.html" title="Bash Guide for Beginners"><link rel="up" href="ch06.html" title="Chapter 6. The GNU awk programming language"><link rel="prev" href="ch06s04.html" title="4. Summary"><link rel="next" href="ch07.html" title="Chapter 7. Conditional statements"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. Exercises</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06s04.html">Prev</a> </td><th width="60%" align="center">Chapter 6. The GNU awk programming language</th><td width="20%" align="right"> <a accesskey="n" href="ch07.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sect_06_05"></a>5. Exercises</h2></div></div></div><p>These are some practical examples where <span class="command"><strong>awk</strong></span> can be useful.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>For the first exercise, your input is lines in the following form:</p><pre class="screen">Username:Firstname:Lastname:Telephone number</pre><p>Make an <span class="command"><strong>awk</strong></span> script that will convert such a line to an LDAP record in this format:</p><pre class="screen">
dn: uid=Username, dc=example, dc=com
cn: Firstname Lastname
sn: Lastname
telephoneNumber: Telephone number
</pre><p>Create a file containing a couple of test records and check.</p></li><li class="listitem"><p>Create a Bash script using <span class="command"><strong>awk</strong></span> and standard UNIX commands that will show the top three users of disk space in the <code class="filename">/home</code> file system (if you don't have the directory holding the homes on a separate partition, make the script for the <code class="filename">/</code> partition; this is present on every UNIX system).  First, execute the commands from the command line.  Then put them in a script.  The script should create sensible output (sensible as in readable by the boss).  If everything proves to work, have the script email its results to you (use for instance <span class="command"><strong>mail <code class="option">-s</code> <em class="parameter"><code>Disk space usage</code></em> <code class="email">&lt;<a class="email" href="mailto:you@your_comp">you@your_comp</a>&gt;</code> &lt; <code class="filename">result</code></strong></span>).</p><p>If the quota daemon is running, use that information; if not, use <span class="command"><strong>find</strong></span>.</p></li><li class="listitem"><p>Create XML-style output from a <span class="keycap"><strong>Tab</strong></span>-separated list in the following form:</p><pre class="screen">
Meaning very long line with a lot of description
 
meaning another long line
 
othermeaning    more longline
 
testmeaning     looooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooong line, but i mean really looooooooooooooooooooooooooooooooooooooooooooooooooong.
 
</pre><p>The output should read:</p><pre class="screen">
&lt;row&gt;
&lt;entry&gt;Meaning&lt;/entry&gt;
&lt;entry&gt;
very long line
&lt;/entry&gt;
&lt;/row&gt;
&lt;row&gt;
&lt;entry&gt;meaning&lt;/entry&gt;
&lt;entry&gt;
long line
&lt;/entry&gt;
&lt;/row&gt;
&lt;row&gt;
&lt;entryothermeaning&lt;/entry&gt;
&lt;entry&gt;
more longline
&lt;/entry&gt;
&lt;/row&gt;
&lt;row&gt;
&lt;entrytestmeaning&lt;/entry&gt;
&lt;entry&gt;
looooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooong line, but i mean really looooooooooooooooooooooooooooooooooooooooooooooooooong.
&lt;/entry&gt;
&lt;/row&gt;
</pre><p>Additionally, if you know anything about XML, write a BEGIN and END script to complete the table.  Or do it in HTML.</p></li></ol></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06s04.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4. Summary </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 7. Conditional statements</td></tr></table></div></body></html>
