<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>7. Rolling back a snapshot</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="EVMS User Guide"><link rel="up" href="ch11.html" title="Chapter 11. Creating snapshots"><link rel="prev" href="ch11s06.html" title="6. Deleting a snapshot"><link rel="next" href="ch12.html" title="Chapter 12. Creating volumes"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7. Rolling back a snapshot</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch11s06.html">Prev</a> </td><th width="60%" align="center">Chapter 11. Creating snapshots</th><td width="20%" align="right"> <a accesskey="n" href="ch12.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm1847"></a>7. Rolling back a snapshot</h2></div></div></div><p>Situations can arise where a user wants to restore the original volume to
the saved state of the snapshot.  This action is called a rollback.  One such scenario
is if the data on the original is lost or corrupted.  Snapshot rollback acts as a quick
backup and restore mechanism, and allows the user to avoid a more lengthy restore
operation from tapes or other archives.</p><p>Another situation where rollback can be particularly useful is when you are
testing new software.  Before you install a new software package, create a writeable
snapshot of the target volume.  You can then install the software to the snapshot
volume, instead of to the original, and then test and verify the new software on the
snapshot.  If the testing is successful, you can then roll back the snapshot to the
original and effectively install the software on the regular system.  If there is a problem
during the testing, you can simply delete the snapshot without harming the original
volume.</p><p>You can perform a rollback when the following conditions are met:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
Both the snapshot and the original volumes
are unmounted and otherwise not in use.  
</p></li><li class="listitem"><p>
There is only a single snapshot of an original.</p><p>
If an original has multiple snapshots,
all but the desired snapshot must be deleted before rollback can take place.
</p></li></ul></div><p>No options are available for rolling back snapshots.</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1859"></a>7.1. Using the EVMS GUI or Ncurses</h3></div></div></div><p>Follow these steps to roll back a snapshot with the EVMS GUI or Ncurses:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select 
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Other</span> &#8594; <span class="guimenuitem">Storage Object Tasks</span>.</p></li><li class="listitem"><p>Select the object "snap."</p></li><li class="listitem"><p>Click or activate <span class="guibutton">Next</span>.</p></li><li class="listitem"><p>Select <span class="guibutton">Rollback</span>.</p></li><li class="listitem"><p>Click or activate <span class="guibutton">Next</span>.</p></li><li class="listitem"><p>Click or activate <span class="guibutton">Rollback</span> on the action panel.
</p></li><li class="listitem"><p>Click or activate <span class="guibutton">Rollback</span> on the warning panel.
</p></li></ol></div><p>Alternatively, you can perform these same steps with the context-sensitive menus:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>From the Feature Objects panel, right click (or press 
<span class="keycap"><strong>Enter</strong></span> on) the object "snap."</p></li><li class="listitem"><p>Click or activate <span class="guibutton">Rollback</span> on the popup menu.</p></li><li class="listitem"><p>Click or activate <span class="guibutton">Rollback</span> on the action panel.</p></li><li class="listitem"><p>Click or activate <span class="guibutton">Rollback</span> on the warning panel.</p></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm1900"></a>7.2. Using the CLI</h3></div></div></div><p>Follow these steps to roll back a snapshot with the CLI:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Issue the following command to the CLI:</p><pre class="programlisting">task:rollback,snap</pre></li><li class="listitem"><p>Press <span class="keycap"><strong>Enter</strong></span> to select "Rollback" (the default choice) at the warning message.</p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch11s06.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch11.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch12.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">6. Deleting a snapshot </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 12. Creating volumes</td></tr></table></div></body></html>
