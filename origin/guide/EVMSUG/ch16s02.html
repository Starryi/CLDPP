<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Example: shrink a volume</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="EVMS User Guide"><link rel="up" href="ch16.html" title="Chapter 16. Expanding and shrinking volumes"><link rel="prev" href="ch16s01.html" title="1. Why expand and shrink volumes?"><link rel="next" href="ch16s03.html" title="3. Example: expand a volume"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Example: shrink a volume</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch16s01.html">Prev</a> </td><th width="60%" align="center">Chapter 16. Expanding and shrinking volumes</th><td width="20%" align="right"> <a accesskey="n" href="ch16s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="exshrink"></a>2. Example: shrink a volume</h2></div></div></div><p>This section tells how to shrink a compatibility volume by 500 MB.</p><div class="blockquote"><blockquote class="blockquote"><div class="example"><a name="idm3186"></a><p class="title"><b>Example 16.1. Shrink a volume</b></p><div class="example-contents"><p>Shrink the volume 
<code class="filename">/dev/evms/lvm/Sample Container/Sample Region</code>, which
is the compatibility volume that was created in the chapter entitled 
"Creating Volumes," by 500 MB.</p></div></div><br class="example-break"></blockquote></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="shrinkgui"></a>2.1. Using the EVMS GUI</h3></div></div></div><p>Follow these steps to shrink the volume with the EVMS GUI:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select <span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Shrink</span> &#8594; <span class="guimenuitem">Volume...</span></p></li><li class="listitem"><p>Select <span class="guimenu">/dev/evms/lvm/Sample Container/Sample Region</span> 
	from the list of volumes.
	</p></li><li class="listitem"><p>Click <span class="guibutton">Next</span>.
	</p></li><li class="listitem"><p>Select <span class="guimenu">/lvm/Sample Container/Sample Region</span> from the list of volumes.
	</p></li><li class="listitem"><p>Click <span class="guibutton">Next</span>.
	</p></li><li class="listitem"><p>Enter <strong class="userinput"><code>500MB</code></strong> in the "Shrink by Size" field.</p></li><li class="listitem"><p>Click <span class="guibutton">Shrink</span>.</p></li></ol></div><p>
</p><p>Alternatively, you can perform some of the steps to shrink the volume with the GUI
context sensitive menu:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>From the <span class="guimenuitem">Volumes</span> tab, right click
	<code class="filename">/dev/evms/lvm/Sample Container/Sample Region</code></p></li><li class="listitem"><p>Click <span class="guimenuitem">Shrink...</span></p></li><li class="listitem"><p>Continue the operation beginning with step 3 of the GUI
	instructions.</p></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="shrinkncurses"></a>2.2. Using Ncurses</h3></div></div></div><p>Follow these steps to shrink a volume with Ncurses:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select <span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Shrink</span> &#8594; <span class="guimenuitem">Volume</span>.
	</p></li><li class="listitem"><p>Select
	 <span class="guimenuitem">/dev/evms/lvm/Sample Container/Sample Region</span> from the
	list of volumes.
	</p></li><li class="listitem"><p>Activate <span class="guibutton">Next</span>.
	</p></li><li class="listitem"><p>Select
	 <span class="guimenuitem">lvm/Sample Container/Sample Region</span> from the
	shrink point selection list.
	</p></li><li class="listitem"><p>Activate <span class="guibutton">Next</span>.
	</p></li><li class="listitem"><p>Scroll down using the <span class="keycap"><strong>down</strong></span> arrow until
	<span class="guimenuitem">Shrink by Size</span> is highlighted.
	</p></li><li class="listitem"><p>Press <span class="keycap"><strong>spacebar</strong></span>.
	</p></li><li class="listitem"><p>Press <span class="keycap"><strong>Enter</strong></span>.
	</p></li><li class="listitem"><p>At the "::" prompt enter <strong class="userinput"><code>500MB</code></strong>.
	</p></li><li class="listitem"><p>Press <span class="keycap"><strong>Enter</strong></span>.
	</p></li><li class="listitem"><p>Activate <span class="guibutton">Shrink</span>.
	</p></li></ol></div><p>
</p><p>
Alternatively, you can perform some of the steps to shrink the volume with the
context sensitive menu:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>From the Volumes view, press <span class="keycap"><strong>Enter</strong></span> on <code class="filename">/dev/evms/lvm/Sample Container/Sample Region</code>.</p></li><li class="listitem"><p>Activate the <span class="guimenuitem">Shrink</span> menu item.</p></li><li class="listitem"><p>Continue the operation beginning with step 3 of the Ncurses instructions.</p></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="shrinkcli"></a>2.3. Using the CLI</h3></div></div></div><p>The <span class="command"><strong>shrink</strong></span> command takes a shrink point followed by an optional name
value pair or an optional shrink object.  To find the shrink point, use the <span class="command"><strong>query</strong></span> command with the shrink points filter on the object or volume you plan to shrink.  For example:</p><pre class="programlisting">query: shrink points, "/dev/evms/lvm/Sample Container/Sample Region"</pre><p>Use a list options filter on the object of the shrink point to determine the name-value pair to use, as follows:</p><pre class="programlisting">query: objects, object="lvm/Sample Container/Sample Region", list options</pre><p>With the option information that is returned, you can construct the command, as follows:</p><pre class="programlisting">shrink: "lvm/Sample Container/Sample Region", remove_size=500MB</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch16s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch16.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch16s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Why expand and shrink volumes? </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Example: expand a volume</td></tr></table></div></body></html>
