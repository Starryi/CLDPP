<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Creating snapshot objects</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="EVMS User Guide"><link rel="up" href="ch11.html" title="Chapter 11. Creating snapshots"><link rel="prev" href="ch11s01.html" title="1. What is a snapshot?"><link rel="next" href="ch11s03.html" title="3. Example: create a snapshot"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Creating snapshot objects</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch11s01.html">Prev</a> </td><th width="60%" align="center">Chapter 11. Creating snapshots</th><td width="20%" align="right"> <a accesskey="n" href="ch11s03.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="createactivsnap"></a>2. Creating snapshot objects</h2></div></div></div><p>You can create a snapshot object from any unused storage object in EVMS
(disks, segments, regions, or feature objects).  
The size of this consumed object is
the size available to the snapshot object.  The snapshot object can be smaller
or larger than the original volume.  
If the object is smaller, the snapshot volume could fill up as data is copied
from the original to the snapshot, given sufficient activity on the original. 
In this situation, the snapshot is deactivated and additional 
I/O to the snapshot fails.
</p><p>Base the size of the snapshot object on the amount of activity that 
is likely to take place on the original during the lifetime of the snapshot.  
The more changes that occur on the
original and the longer the snapshot is expected to remain active, 
the larger the snapshot object should be.  
Clearly, determining this calculation is not simple and requires trial and 
error to determine the correct snapshot object size to use for a 
particular situation.  
The goal is to create a snapshot object large enough to prevent the 
shapshot from being
deactivated if it fills up, yet small enough to not waste disk space.  
If the snapshot
object is the same size as the original volume, or a little larger, 
to account for the snapshot mapping tables, the snapshot is 
never deactivated.
</p><p>After you've created the snapshot object and saved the changes, the
snapshot will be activated (as long as the snapshot child object is already active).
This is a change from snapshots in EVMS 2.3.x and earlier, where the snapshot
would not be activated until the object was made into an EVMS volume.  If you
wish to have an inactive snapshot, please add the name of the snapshot object
to the "activate.exclude" line in the EVMS configuration file (see section about
selective-activation for more details).  If at any point you decide to deactivate a
snapshot object while the original volume is still active, the snapshot will be reset.
The next time that the snapshot object is activated, it will reflect the state of the
original volume at that point in time, just as if the snapshot had just been created.</p><p>In order to mount the snapshot, the snapshot object must still be made into an
EVMS volume.  The name of this volume can be the same as or different than the
name of the snapshot object.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch11s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch11.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch11s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. What is a snapshot? </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Example: create a snapshot</td></tr></table></div></body></html>
