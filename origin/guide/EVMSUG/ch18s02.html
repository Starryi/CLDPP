<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Activating and deactivating volumes and objects</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="EVMS User Guide"><link rel="up" href="ch18.html" title="Chapter 18. Selectively activating volumes and objects"><link rel="prev" href="ch18s01.html" title="1. Initial activation using /etc/evms.conf"><link rel="next" href="ch19.html" title="Chapter 19. Mounting and unmounting volumes from within EVMS"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Activating and deactivating volumes and objects</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch18s01.html">Prev</a> </td><th width="60%" align="center">Chapter 18. Selectively activating volumes and objects</th><td width="20%" align="right"> <a accesskey="n" href="ch19.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm3528"></a>2. Activating and deactivating volumes and objects</h2></div></div></div><p>
The EVMS user interfaces offer the ability to activate or deactivate
a particular volume or object.  The volume or object will be
activated or deactivated when the changes are saved.
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3531"></a>2.1. Activation</h3></div></div></div><p>
You can activate inactive volumes and objects using the various EVMS
user interfaces.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
EVMS does not currently update the EVMS configuration file
(<code class="filename">/etc/evms.conf</code>) when volumes and objects are
activated.  If you activate a volume or object that is not initially
activated and do not make the corresponding change in
<code class="filename">/etc/evms.conf</code>, the volume or object will not be
activated the next time the system is booted and you run
<span class="command"><strong>evms_activate</strong></span> or one of the user interfaces.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3540"></a>2.1.1. Using the EVMS GUI</h4></div></div></div><p>To activate volumes or objects with the GUI, follow these steps:
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select  
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Activation</span> &#8594; <span class="guimenuitem">Activate...</span>
</p></li><li class="listitem"><p>Select the volume(s) and object(s) you want to activate.
</p></li><li class="listitem"><p>
Click <span class="guibutton">Activate</span>.
</p></li><li class="listitem"><p>Click <span class="guibutton">Save</span> to save the changes and
activate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3558"></a>2.1.2. Using the EVMS GUI context-sensitive menu</h4></div></div></div><p>To activate with the GUI context-sensitive menu, follow these steps:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Right click the volume or object you want to activate.
</p></li><li class="listitem"><p>
Click "Activate."
</p></li><li class="listitem"><p>
Click <span class="guibutton">Activate</span>.
</p></li><li class="listitem"><p>Click <span class="guibutton">Save</span> to save the changes and
activate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3572"></a>2.1.3. Using Ncurses</h4></div></div></div><p>To activate a volume or object with Ncurses, follow these steps:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select  
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Activation</span> &#8594; <span class="guimenuitem">Activate...</span>
</p></li><li class="listitem"><p>Select the volume(s) and object(s) you want to activate.
</p></li><li class="listitem"><p>
Select <span class="guibutton">Activate</span>.
</p></li><li class="listitem"><p>Select 
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Save</span> 
to save the changes and
activate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3592"></a>2.1.4. Using the Ncurses context-sensitive menu</h4></div></div></div><p>To enable activation on a volume or object with the 
Ncurses context-sensitive menu, follow these steps:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Highlight the volume or object you want to activate and press
<span class="keycap"><strong>Enter</strong></span>.
</p></li><li class="listitem"><p>
Select "Activate."
</p></li><li class="listitem"><p>
Select <span class="guibutton">Activate</span>.
</p></li><li class="listitem"><p>Select 
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Save</span> 
to save the changes and
activate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3609"></a>2.1.5. Using the CLI</h4></div></div></div><p>To activate a volume or object with the CLI, 
issue the following command to the CLI (where "name" is the name of
the volume or object you want to activate):</p><pre class="programlisting">
Activate:name
</pre></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3613"></a>2.2. Deactivation</h3></div></div></div><p>
You can deactivate active volumes and objects using the various EVMS
user interfaces.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
EVMS does not currently update the EVMS configuration file
(<code class="filename">/etc/evms.conf</code>) when a volume or object is
deactivated.
If you deactivate a volume or object that is initially activated and
do not make the corresponding change in <code class="filename">/etc/evms.conf</code>,
then the volume or object will be activated the next time you run
<span class="command"><strong>evms_activate</strong></span> or one of the user interfaces.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3622"></a>2.2.1. Using the EVMS GUI</h4></div></div></div><p>To deactivate a volume or object with the GUI, follow these steps:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select  
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Activation</span> &#8594; <span class="guimenuitem">Deactivate...</span>
</p></li><li class="listitem"><p>Select the volume(s) and object(s) you want to deactivate.
</p></li><li class="listitem"><p>
Click <span class="guibutton">Deactivate</span>.
</p></li><li class="listitem"><p>Click <span class="guibutton">Save</span> to save the changes and
activate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3640"></a>2.2.2. Using the EVMS GUI context-sensitive menu</h4></div></div></div><p>To deactivate a volume or object with the GUI 
context-sensitive menu, follow these steps:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Right click the volume or object you want to deactivate.
</p></li><li class="listitem"><p>
Click "Deactivate."
</p></li><li class="listitem"><p>
Click <span class="guibutton">Deactivate</span>.
</p></li><li class="listitem"><p>Click <span class="guibutton">Save</span> to save the changes and
activate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3654"></a>2.2.3. Using Ncurses</h4></div></div></div><p>To deactive a volume or object with Ncurses, follow these steps:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select  
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Activation</span> &#8594; <span class="guimenuitem">Deactivate...</span>
</p></li><li class="listitem"><p>Select the volume(s) and object(s) you want to deactivate.
</p></li><li class="listitem"><p>
Select <span class="guibutton">Deactivate</span>.
</p></li><li class="listitem"><p>Select 
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Save</span>
to save the changes and
deactivate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3674"></a>2.2.4. Using the Ncurses context-sensitive menu</h4></div></div></div><p>To deactivate a volume or object with the 
Ncurses context-sensitive menu, follow these steps:

</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
Highlight the volume or object you want to deactivate and press
<span class="keycap"><strong>Enter</strong></span>.
</p></li><li class="listitem"><p>
Select "Deactivate."
</p></li><li class="listitem"><p>
Select <span class="guibutton">Deactivate</span>.
</p></li><li class="listitem"><p>Select 
<span class="guimenu">Actions</span> &#8594; <span class="guimenuitem">Save</span> 
to save the changes and
deactivate the volume(s) and object(s).
</p></li></ol></div><p>

</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3691"></a>2.2.5. Using the CLI</h4></div></div></div><p>To deactivate a volume or object with the CLI, 
issue the following command to the CLI (where "name" is the name of
the volume or object you want to deactivate):</p><pre class="programlisting">
Deactivate:name
</pre></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="idm3695"></a>2.3. Activation and deactivation dependencies</h3></div></div></div><p>
In order for a volume or object to be active, all of its children
must be active.  When you activate a volume or object, EVMS will
activate all the objects that the volume or object comprises.
</p><p>
Similarly, in order for an object to be inactive, all of its
parents cannot be activate.  When you deactivate an object, EVMS
will deactivate all of the objects and volumes that are built from
that object.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3699"></a>2.3.1. Dependencies during initial activation</h4></div></div></div><p>
As discussed in <a class="xref" href="ch18s01.html" title="1. Initial activation using /etc/evms.conf">Section 1, &#8220;Initial activation using /etc/evms.conf&#8221;</a>, 
when EVMS starts, it builds an initial list of
volumes and objects whose names match the "include" entry in the
activation section of <code class="filename">/etc/evms.conf</code>.  Because those
volumes and objects cannot be active unless the objects they comprise are
active, EVMS then adds to the list all the objects that are comprised by
the volumes and objects that were found in the initial match.
</p><p>
EVMS then removes from the list the volumes and objects whose names
match the "exclude" entry in the activation section of
<code class="filename">/etc/evms.conf</code>.  Because any volumes or objects
that are built from the excluded ones cannot be active, EVMS removes
them from the list as well.
</p><p>
The enforcement of the dependencies can result in behavior that is not
immediately apparent.
Let's say, for example, that segment hda7 is made into volume
<code class="filename">/dev/evms/home</code>. and the activation section in
<code class="filename">/etc/evms.conf</code> looks like this:
</p><pre class="programlisting">
activate {
	include = [*]
	exclude = [hda*]
}
</pre><p>
When EVMS builds the list of volumes and objects to activate,
everything is included.  EVMS next removes all objects whose names
start with "hda."  hda7 will be removed from the list.
Next, because volume <code class="filename">/dev/evms/home</code> is built
from hda7, it will also be removed from the list and will not be
activated.
So, although volume <code class="filename">/dev/evms/home</code> is not
explicitly in the exclude list, it is not activated because it
depends on an object that will not be activated.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="idm3713"></a>2.3.2. Dependencies for compatibility volumes</h4></div></div></div><p>
Compatibility volumes are made directly from the volume's object.
That is, the device node for the volume points directly to the device
for the volume's object.
Because a compatibility volume is inseparable from its object, a
compatibility volume itself cannot be deactivated.
To deactivate a compatibility volume you must deactivate the volume's object.
</p><p>
Similarly, if a compatibility volume and its object are not active
and you activate the volume's object, the compatibility volume will be
active as well.
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch18s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch18.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch19.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Initial activation using /etc/evms.conf </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 19. Mounting and unmounting volumes from within EVMS</td></tr></table></div></body></html>
