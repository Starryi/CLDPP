<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3. Improve performance Using GNU malloc library</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="RedHat, redhat, maddy, linus, linux, Linux, Securing, Optimising, security, secure, openna, gerhard"><link rel="home" href="index.html" title="Securing and Optimizing Linux"><link rel="up" href="netproxy-squid.html" title="Chapter 28. Software -Server/Proxy Network"><link rel="prev" href="chap28sec228.html" title="2. Configure and Optimize"><link rel="next" href="chap28sec229.html" title="4. Compile and Optimize"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Improve performance Using GNU malloc library </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap28sec228.html">Prev</a> </td><th width="60%" align="center">Chapter 28. Software -Server/Proxy Network</th><td width="20%" align="right"> <a accesskey="n" href="chap28sec229.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm18014"></a>3. Improve performance Using GNU malloc library </h2></div></div></div><p>
               If you're suffering from memory limitations on your system, the cache performance of Squid will be affected. To reduce this problem, you can link Squid with an external malloc library such as GNU malloc. To make 
               Squid use GNU malloc as an external library, follows these simple steps:
             </p><p>
               These are the Package(s) required:
               </p><table border="0" summary="Simple list" class="simplelist"><tr><td>
                 GNU malloc Homepage:<a class="link" href="appendixa.html#prtinxfp28" title="Linux Squid Proxy Server"> http://www.gnu.org/order/ftp.html</a>
               </td></tr><tr><td>
               You must be sure to download: malloc.tar.gz
               </td></tr></table><p>
             </p><p>
               </p><pre class="screen">
                 [root@deep] /# <span class="command"><strong>cp</strong></span> malloc.tar.gz /var/tmp
                 [root@deep] /# <span class="command"><strong>cd</strong></span> /var/tmp
                 [root@deep ]/tmp# <span class="command"><strong>tar</strong></span> xzpf malloc.tar.gz
               </pre><p>
             </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>
                 Compile and install GNU malloc on your system by executing the following commands:
                 </p><pre class="screen">
                   [root@deep ]/tmp# <span class="command"><strong>cd</strong></span> malloc
                   [root@deep ]/malloc# <span class="command"><strong>export</strong></span> CC=egcs
                   [root@deep ]/malloc# <span class="command"><strong>make</strong></span>
                 </pre><p>
               </p></li><li class="step"><p>

                 Copy the <code class="filename">libmalloc.a</code> file to your system library directory and be sure to name it <code class="filename">libgnumalloc.a</code>
                 </p><pre class="screen">
                   [root@deep ]/malloc# <span class="command"><strong>cp</strong></span> libmalloc.a /usr/lib/libgnumalloc.a
                 </pre><p>
               </p></li><li class="step"><p>
                 Copy the <code class="filename">malloc.h</code> file to your system's include directory and be sure to name it <code class="filename">gnumalloc.h</code>
                 </p><pre class="screen">
                   [root@deep ]/malloc# <span class="command"><strong>cp</strong></span> malloc.h /usr/include/gnumalloc.h
                 </pre><p>
                 With the files <code class="filename">libgnumalloc.a</code> and <code class="filename">gnumalloc.h</code> installed on your system, Squid will detect them automatically during its compile time, and will use them to improve its cache performance.
               </p></li></ol></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap28sec228.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="netproxy-squid.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="chap28sec229.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2. Configure and Optimize </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4. Compile and Optimize</td></tr></table></div></body></html>
