<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3. Database installation using superuser account</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="RedHat, redhat, maddy, linus, linux, Linux, Securing, Optimising, security, secure, openna, gerhard"><link rel="home" href="index.html" title="Securing and Optimizing Linux"><link rel="up" href="datab-pSQL.html" title="Chapter 27. Linux PostgreSQL Database Server"><link rel="prev" href="chap27sec221.html" title="2. Compile and Optimize"><link rel="next" href="chap27sec223.html" title="4. Configuration files"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. Database installation using superuser account</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap27sec221.html">Prev</a> </td><th width="60%" align="center">Chapter 27. Linux PostgreSQL Database Server</th><td width="20%" align="right"> <a accesskey="n" href="chap27sec223.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm17277"></a>3. Database installation using superuser account</h2></div></div></div><p>

               Once PostgreSQL is installed on your Linux server, it's important to create the database installation before starting your PostgreSQL server.
               To create the database installation, use the following command:
               </p><pre class="screen">
                 [root@deep] /# <span class="command"><strong>su</strong></span> postgres
                 [postgres@deep /]$ <span class="command"><strong>initdb</strong></span> --pglib=/usr/lib/pgsql --pgdata=/var/lib/pgsql
               </pre><p>
             </p><p>
               We are initializing the database system with username postgres <code class="literal">uid=40</code>.
               This user will own all the files and must also own the server process.
               </p><pre class="literallayout"><code class="computeroutput">
                 Creating Postgres database system directory /var/lib/pgsql/base

                 Creating template database in /var/lib/pgsql/base/template1

                 Creating global classes in /var/lib/pgsql/base

                 Adding template1 database to pg_database...

                 Vacuuming template1
                 Creating public pg_user view
                 Creating view pg_rules
                 Creating view pg_views
                 Creating view pg_tables
                 Creating view pg_indexes
                 Loading pg_description
               </code></pre><p>
               </p><pre class="screen">
                 [postgres@deep /]$ <span class="command"><strong>chmod</strong></span> 640 /var/lib/pgsql/pg_pwd
                 [postgres@deep /]$ <span class="command"><strong>exit</strong></span>
               </pre><p>
               </p><pre class="literallayout"><code class="computeroutput">
                 exit
               </code></pre><p>
               </p><pre class="screen">
                 [root@deep] /#
               </pre><p>
               The  <code class="literal">--pglib</code> command will specify where the library directory of PostgreSQL resides in the system, and the  <code class="literal">--pgdata</code> command will specify where the database files must reside 
               for this installation on Linux.
             </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">
<span class="inlinemediaobject"><img src="./images/Tip.gif" alt="Tip"></span>
</h3><p>               
               Do not create the database installation as <code class="literal">root!</code> This would be a major security hole.
             </p></div><p>
               Please don't foreget to Cleanup later:
               </p><pre class="screen">
                 [root@deep] /# <span class="command"><strong>cd</strong></span> /var/tmp
                 [root@deep ]/tmp# <span class="command"><strong>rm</strong></span> -rf postgresql-version/ postgresql-version.tar.gz
               </pre><p>
               Remove the egcs-c++-version.i386.rpm package to save space.
               </p><pre class="screen">
                 [root@deep] /# <span class="command"><strong>rpm</strong></span> -e egcs-c++
               </pre><p>
               </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                 The <span class="command"><strong>rm</strong></span> command will remove all the source files we have used to compile and install PostgreSQL. It will also remove the PostgreSQL compressed archive from the <code class="filename">/var/tmp</code> directory.
               </p></li><li class="listitem"><p>
               The <span class="command"><strong>rpm</strong></span> <code class="literal">-e</code> command will remove the egcs-c++ package we installed to compile the PosgreSQL Server. Note that the egcs-c++ package is required only for compiling programs like 
               PostgreSQL and can be uninstalled safely after successful compilation of PostgreSQL.
               </p></li></ul></div><p>
             </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap27sec221.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="datab-pSQL.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="chap27sec223.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2. Compile and Optimize </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4. Configuration files</td></tr></table></div></body></html>
