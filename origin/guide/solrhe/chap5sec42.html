<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>13. Special accounts</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="RedHat, redhat, maddy, linus, linux, Linux, Securing, Optimising, security, secure, openna, gerhard"><link rel="home" href="index.html" title="Securing and Optimizing Linux"><link rel="up" href="gen-syssecured.html" title="Chapter 5. General System Security"><link rel="prev" href="chap5sec41.html" title="12. The /etc/securetty file"><link rel="next" href="chap5sec43.html" title="14. Blocking; su to root, by one and sundry"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13. Special accounts</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap5sec41.html">Prev</a> </td><th width="60%" align="center">Chapter 5. General System Security</th><td width="20%" align="right"> <a accesskey="n" href="chap5sec43.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm3516"></a>13. Special accounts</h2></div></div></div><p>
               It is important to <code class="envar">DISABLE ALL</code> default vendor accounts that you don't use on your system, some accounts exist by default even if you have not installed the related services on your server. This 
               should be checked after each upgrade or new software installation. Linux provides these accounts for various system activities, which you may not need if the services are not installed on your 
               server. If you do not need the accounts, remove them. The more accounts you have, the easier it is to access your system.
               </p><p>
               We assume you are using the Shadow password suite on your Linux system. If you are not, you should consider doing so, as it helps to tighten up security somewhat. This must already be set if 
               you've followed our instructions till now and selected under the <a class="link" href="chap3sec16.html" title="7. Post-Partitioning"> Authentication Configuration</a> the option to <span class="command"><strong>Enable Shadow Passwords</strong></span> see 
               <a class="link" href="chap3sec16.html" title="7. Post-Partitioning">Post Partitioning</a> for more information.
                              
               To delete user on your system, use the command:
               </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>userdel</strong></span> username
               </pre><p>
               To delete group on your system, use the command:
                </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> username
               </pre><p>
               </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>
               Type the following commands on your terminal to delete users listed below:

               </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>userdel</strong></span> adm
               [root@deep] /# <span class="command"><strong>userdel</strong></span> lp
               [root@deep] /# <span class="command"><strong>userdel</strong></span> sync
               [root@deep] /# <span class="command"><strong>userdel</strong></span> shutdown
               [root@deep] /# <span class="command"><strong>userdel</strong></span> halt
               [root@deep] /# <span class="command"><strong>userdel</strong></span> news
               [root@deep] /# <span class="command"><strong>userdel</strong></span> uucp
               [root@deep] /# <span class="command"><strong>userdel</strong></span> operator
               [root@deep] /# <span class="command"><strong>userdel</strong></span> games       <a name="pr2ch1s22co1"></a><span><img src="images/callouts/1.png" alt="1" border="0"></span>  
               [root@deep] /# <span class="command"><strong>userdel</strong></span> gopher
               [root@deep] /# <span class="command"><strong>userdel</strong></span> ftp         <a name="pr2ch1s22co2"></a><span><img src="images/callouts/2.png" alt="2" border="0"></span>
               </pre><p>
               </p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#pr2ch1s22co1"><span><img src="images/callouts/1.png" alt="1" border="0"></span></a> </p></td><td valign="top" align="left"><p>
               Delete this user if you don't use X Window Server.
               </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#pr2ch1s22co2"><span><img src="images/callouts/2.png" alt="2" border="0"></span></a> </p></td><td valign="top" align="left"><p>
               Delete this user if you don't use ftp anonymous server.
               </p></td></tr></table></div><p>
               <span class="emphasis"><em>
               By default, the <span class="command"><strong>userdel</strong></span> command will not delete a user's home directory. If you want the home directories of accounts to be deleted too, then 
               add the <code class="literal">-r</code> option to the userdel command.
               </em></span>
               </p></li><li class="step"><p>
               Type the following commands on your terminal to delete the usersgroups listed below:
               </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> adm
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> lp
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> news
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> uucp
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> games      <a name="pr2ch1s22co3"></a><span><img src="images/callouts/1.png" alt="1" border="0"></span> 
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> dip
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> pppusers
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> popusers   <a name="pr2ch1s22co4"></a><span><img src="images/callouts/2.png" alt="2" border="0"></span> 
               [root@deep] /# <span class="command"><strong>groupdel</strong></span> slipusers
               </pre><p>
               </p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#pr2ch1s22co3"><span><img src="images/callouts/1.png" alt="1" border="0"></span></a> </p></td><td valign="top" align="left"><p>
               Delete this group if you don't use X Window Server.
               </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#pr2ch1s22co4"><span><img src="images/callouts/2.png" alt="2" border="0"></span></a> </p></td><td valign="top" align="left"><p>
               Delete this group if you don't use pop server for email.
               </p></td></tr></table></div><p>
               </p></li><li class="step"><p>
               Add the necessary user to the system, to add a new user on your system, use the command:
               </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>useradd</strong></span> username
               </pre><p>
               To add or change password for user on your system, use the command:
               </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>passwd</strong></span> username
               </pre><p>
               For example:
               </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>useradd</strong></span> admin
               [root@deep] /# <span class="command"><strong>passwd</strong></span> admin
               </pre><p>
               The output should look something like this.
               </p><pre class="literallayout"><code class="computeroutput">
               Changing password for user admin
               New UNIX password: somepasswd
               passwd: all authentication tokens updated successfully
               </code></pre><p>
               </p></li><li class="step"><p>
               The immutable bit can be used to prevent accidentally deleting or overwriting a file that must be protected. It also prevents someone from creating a symbolic link to this file, which has been the source of attacks involving the deletion 
               of <code class="filename">/etc/passwd</code>, <code class="filename">/etc/shadow</code>, <code class="filename">/etc/group</code> or <code class="filename">/etc/gshadow</code>.
               To set the immutable bit on the passwords and groups files, use the command:
               </p><pre class="screen">
               [root@deep] /# <span class="command"><strong>chattr</strong></span>   +i /etc/passwd
               [root@deep] /# <span class="command"><strong>chattr</strong></span>   +i /etc/shadow
               [root@deep] /# <span class="command"><strong>chattr</strong></span>   +i /etc/group
               [root@deep] /# <span class="command"><strong>chattr</strong></span>   +i /etc/gshadow
               </pre><p>
               </p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><span class="inlinemediaobject"><img src="./images/Note.gif" alt="Note"></span></h3><p>
               In future, if you intend to add or delete users, passwords, usergroups, or group files, you must unset the immutable bit on all those files or you will not be able to make your changes. Also if you intend to install an RPM program that will automatically add a new user to the different 
               immunized passwd and group files, then you will receive an error message during the install if you have not unset the immutable bit from those files.
               </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap5sec41.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="gen-syssecured.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="chap5sec43.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">12. The <code class="filename">/etc/securetty</code> file </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 14. Blocking; <span class="command"><strong>su</strong></span> to root, by one and sundry</td></tr></table></div></body></html>
