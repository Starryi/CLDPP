<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>6. OpenSSH Per-User Configuration</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="RedHat, redhat, maddy, linus, linux, Linux, Securing, Optimising, security, secure, openna, gerhard"><link rel="home" href="index.html" title="Securing and Optimizing Linux"><link rel="up" href="soft-netsecured.html" title="Chapter 15. Software -Securities"><link rel="prev" href="chap15sec123.html" title="5. Configure OpenSSH to use TCP-Wrappers/inetd super server"><link rel="next" href="chap15sec125.html" title="7. OpenSSH Users Tools"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6. OpenSSH Per-User Configuration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap15sec123.html">Prev</a> </td><th width="60%" align="center">Chapter 15. Software -Securities</th><td width="20%" align="right"> <a accesskey="n" href="chap15sec125.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm8430"></a>6. OpenSSH Per-User Configuration</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>
          Create your private &amp; public keys of local, by executing:
          </p><pre class="screen">
          [root@deep] /#<span class="command"><strong>su</strong></span> admin
          [admin@deep /]$<span class="command"><strong>ssh-keygen</strong></span>
          </pre><p>
          The result should look like the following example:
          </p><pre class="literallayout"><code class="computeroutput">
          
          Initializing random number generator...
          Generating p:  ............................++ (distance 430)
          Generating q:  ......................++ (distance 456)
          Computing the keys...
          Testing the keys...
          Key generation complete.
          Enter file in which to save the key (<code class="filename">/home/admin/.ssh/identity</code>): [Press <span class="keycap"><strong>Enter</strong></span>]
          Enter passphrase: 
          Enter the same passphrase again: 
          Your identification has been saved in /home/admin/.ssh/identity.
          Your public key is:
          1024 37 14937757511251955533691120318477293862290049394715136511145806108870001764378494676831297577843158532
          2723612061006231460440536487184367748423324091941848098890786099717524446977589647127757030728779973708569993
          017043141563536333068888944038178461608592483844590202154102756903055846534063365635584899765402181 
          </code></pre><p>
          </p><pre class="screen">
          admin@deep.openna.com
          Your public key has been saved in /home/admin/.ssh/identity.pub
          </pre><p>
          </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><span class="inlinemediaobject"><img src="./images/Note.gif" alt="Note"></span></h3><p>
          If you have multiple accounts you might want to create a separate key on each of them. You may want to have separate keys for:
          </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          Your Mail server
          </p></li><li class="listitem"><p>
          Your Web server
          </p></li><li class="listitem"><p>
          Your GW server
          </p></li></ul></div><p>
          This allows you to limit access between these servers, e.g. not allowing the Mail account to access your Web account or the machines in the GW. This enhances the overall security in the case any of your authentication 
          keys are compromised for any reason.
          </p></div><p>
          </p></li><li class="step"><p>          
          Copy your local public keys <code class="filename">identity.pub</code> to the <code class="filename">/home/admin/.ssh</code> directory remotely under the name, say, <code class="filename">authorized_keys</code>.
          </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">
<span class="inlinemediaobject"><img src="./images/Tip.gif" alt="Tip"></span>
</h3><p>
          One way to copy the file is to use the ftp command or you might need to send your public key in electronic mail to the administrator of the system. Just include the contents of the <code class="filename">~/.ssh/identity.pub</code> file 
          in the message.
          </p></div><p>
          </p></li></ol></div><p>
          You might feel the need to Change your pass-phrase for various reason and can do so at any time by using the  -p option of ssh-keygen.
          To change the pass-phrase, use the command:
          </p><pre class="screen">
          [root@deep] /#<span class="command"><strong>su</strong></span> admin
          [admin@deep /]$<span class="command"><strong>ssh-keygen</strong></span> -p
          </pre><p>
          </p><pre class="literallayout"><code class="computeroutput">
          Enter file key is in <code class="filename">/home/admin/.ssh/identity</code>: [Press <span class="keycap"><strong>ENTER</strong></span>]
          Enter old passphrase:
          Key has comment 'admin@deep.openna.com'
          Enter new passphrase:
          Enter the same passphrase again:
          Your identification has been saved with the new passphrase.
          </code>
          </pre><p>
          
          </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap15sec123.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="soft-netsecured.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="chap15sec125.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5. Configure OpenSSH to use TCP-Wrappers/inetd super server </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 7. OpenSSH Users Tools</td></tr></table></div></body></html>
