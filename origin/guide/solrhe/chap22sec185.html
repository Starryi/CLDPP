<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>13. Sendmail Administrative Tools</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="RedHat, redhat, maddy, linus, linux, Linux, Securing, Optimising, security, secure, openna, gerhard"><link rel="home" href="index.html" title="Securing and Optimizing Linux"><link rel="up" href="soser-mailn.html" title="Chapter 22. Software -Server/Mail Network"><link rel="prev" href="chap22sec184.html" title="12. Limit queue processing to root"><link rel="next" href="chap22sec186.html" title="14. Installed files: Sendmail -Central Mail Hub"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13. Sendmail Administrative Tools</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap22sec184.html">Prev</a> </td><th width="60%" align="center">Chapter 22. Software -Server/Mail Network</th><td width="20%" align="right"> <a accesskey="n" href="chap22sec186.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm12780"></a>13. Sendmail Administrative Tools</h2></div></div></div><p>
         The commands listed below are some that we use often, but many more exist. Check the man page and documentation for more details and information.
         </p><p><b>newaliases. </b>
         The purpose of the <code class="filename">newaliases</code> program utility of Sendmail is to rebuild and update the random access database for the mail aliases file <code class="filename">/etc/mail/aliases</code>. It must be 
         run each time you change the contents of this file in order for the changes to take effect.
         
         To update the aliases file with the <code class="filename">newaliases</code> utility, use the following command:
         </p><pre class="screen">
         [root@deep] /# /usr/bin/newaliases
         </pre><p>
         </p><p><b>makemap. </b>
         The purpose of the <span class="command"><strong>makemap</strong></span> program utility is to create the database maps in Sendmail. The <span class="command"><strong>makemap</strong></span> command must be used only when you need to create a new database for file like 
         <code class="filename">aliases, access</code>, or <code class="filename">domaintable, mailertable</code>, and <code class="filename">virtusertable</code>.
         
         To run makemap to create a new database for access, use the following command:
         </p><pre class="screen">
         [root@deep] /# makemap hash /etc/mail/access.db &lt; /etc/mail/access
         </pre><p>
         </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
         Where &lt;hash&gt; is the database format, makemap can handles up to three different database formats;  they may be <code class="literal">hash</code>, <code class="literal">btree</code> or <code class="literal">dbm</code>. 
         </p></li><li class="listitem"><p>
         The <code class="filename">/etc/mail/access.db</code> is the location and the name of the new database that will be created. 
         </p></li><li class="listitem"><p>
         The <code class="filename">/etc/mail/access</code> is the location of the file from where makemap will read from the standard input file. 
         </p></li></ul></div><p>
         In our example, we have created a new <code class="filename">access.db</code> file with the makemap command above. To create a database for other files like <code class="filename">aliases, domaintable, mailertable</code>, and <code class="filename">virtusertable</code>, 
         you must indicate the location and name of the corresponding file in the <span class="command"><strong>makemap</strong></span> command.
         </p><p><b>mailq. </b>
         The purpose of the <span class="command"><strong>mailq</strong></span> program utility is to print a summary of the mail messages queued for future delivery.
         
         To print a summary of the mail messages queued, use the following command:
         </p><pre class="screen">
         [root@deep] /# <span class="command"><strong>mailq</strong></span>
         </pre><p>
         </p><pre class="literallayout"><code class="computeroutput">
         Mail queue is empty
         </code></pre><p>
         </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm12823"></a>13.1. Sendmail Users Tools</h3></div></div></div><p>
         The commands listed below are some that we use often, but many more exist. Check the man page and documentation for more details and information.
         </p><p><b>mailstats. </b>
         The purpose of the <span class="command"><strong>mailstats</strong></span> program utility is to displays contents of the current mail statistics.
         
         To displays the current mail statistics, use the following command:
         </p><pre class="screen">
         [root@deep] /# <span class="command"><strong>mailstats</strong></span>
         </pre><p>
         </p><pre class="literallayout"><code class="computeroutput">
         Statistics from Tue Dec 14 20:31:48 1999
         M   msgsfr  bytes_from   msgsto    bytes_to  msgsrej msgsdis  Mailer
         5        0          0K        1          3K        0       0  esmtp
         8     1259      19618K     1259      19278K        0       0  local
         =============================================================
         T     1259      19618K     1260      19281K        0       0
         </code></pre><p>
         </p><p><b>praliases. </b>
         The purpose of the <span class="command"><strong>praliases</strong></span> program utility is to display one per line, in no particular order the contents of the current system mail aliases.
         
         To displays the current system aliases, use the following command:
         </p><pre class="screen">
         [root@deep] /# <span class="command"><strong>praliases</strong></span>
         </pre><p>
         </p><pre class="literallayout"><code class="computeroutput">
         postmaster:root
         daemon:root
         root:admin
         @:@
         mailer-daemon:postmaster
         bin:root
         nobody:root
         webadmin:admin
         www:root
         </code></pre><p>
         </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap22sec184.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="soser-mailn.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="chap22sec186.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">12. Limit queue processing to <code class="literal">root</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 14. Installed  files: Sendmail -Central Mail Hub</td></tr></table></div></body></html>
