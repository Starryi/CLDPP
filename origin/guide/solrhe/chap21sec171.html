<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>10. DNS Users Tools</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="RedHat, redhat, maddy, linus, linux, Linux, Securing, Optimising, security, secure, openna, gerhard"><link rel="home" href="index.html" title="Securing and Optimizing Linux"><link rel="up" href="soft-netwrkng.html" title="Chapter 21. Software -Networking"><link rel="prev" href="chap21sec170.html" title="9. DNS Administrative Tools"><link rel="next" href="chap21sec172.html" title="11. Installed files"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10. <acronym class="acronym">DNS</acronym> Users Tools</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="chap21sec170.html">Prev</a> </td><th width="60%" align="center">Chapter 21. Software -Networking</th><td width="20%" align="right"> <a accesskey="n" href="chap21sec172.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm11447"></a>10. <acronym class="acronym">DNS</acronym> Users Tools</h2></div></div></div><p>
 The commands listed belows are some that we use often, but many more exist. Check the man pages and documentation for more details and information.
 </p><p><b>nslookup. </b>
 The <span class="command"><strong>nslookup</strong></span> program allows the user to query Internet domain name servers interactively or non-interactively. In interactive mode the user can query name servers for information about various hosts 
 and domains, and print a list of hosts in a domain. In non-interactive mode the user can just print the name and request information for a host or domain.

 Interactive mode has a lot of options and commands; it is recommended that you see the man page for nslookup, or the help under nslookup Interactive mode.
 </p><p>
 To enter under nslookup Interactive mode, use the command:
 </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>nslookup</strong></span>
 </pre><p>
 </p><pre class="literallayout"><code class="computeroutput">
 Default Server:  deep.openna.com
 Address:  208.164.186.1

 &gt; help
 $Id$

 Commands:	(identifiers are shown in uppercase, [] means optional)
 NAME	- print info about the host/domain NAME using default server
 NAME1 NAME2	- as above, but use NAME2 as server
 help or ?	- print info on common commands; see nslookup(1) for details
 set OPTION	- set an option
 all	- print options, current server and host
 [no]debug	- print debugging information
 [no]d2	- print exhaustive debugging information
 </code></pre><p>
 </p><p>
 To run in non-interactive mode, use the command:
 </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>nslookup</strong></span> www.redhat.com
 </pre><p>
 </p><pre class="literallayout"><code class="computeroutput">
 Server:  deep.openna.com
 Address:  208.164.186.1

 Non-authoritative answer:
 Name:    www.portal.redhat.com
 Addresses:  206.132.41.202, 206.132.41.203
 Aliases:  www.redhat.com
 </code></pre><p>
 Where <code class="literal">www.redhat.com</code> is the host name or Internet address of the name server to be looked up.
 </p><p><b>dnsquery. </b>
 The dnsquery program queries domain name servers via the resolver library calls <code class="filename">/etc/resolv.conf</code>.

 To query domain name servers using resolver, use the command:
 </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>dnsquery</strong></span> &lt;host&gt;
 </pre><p>
 </p><div class="example"><a name="idm11472"></a><p class="title"><b>Example 21.1. dnsquery</b></p><div class="example-contents"><p>
   </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>dnsquery</strong></span> www.redhat.com
 </pre><p>
 </p><pre class="literallayout"><code class="computeroutput">
 ;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 40803
 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 4, ADDITIONAL: 4
 ;;      www.redhat.com, type = ANY, class = IN
 www.redhat.com.         	2h19m46s IN CNAME  www.portal.redhat.com.
 redhat.com.             	2h18m13s IN NS  	ns.redhat.com.
 redhat.com.             	2h18m13s IN NS  	ns2.redhat.com.
 redhat.com.             	2h18m13s IN NS  	ns3.redhat.com.
 redhat.com.             	2h18m13s IN NS  	speedy.redhat.com.
 ns.redhat.com.          	1d2h18m8s IN A  	207.175.42.153
 ns2.redhat.com.         	1d2h18m8s IN A  	208.178.165.229
 ns3.redhat.com.         	1d2h18m8s IN A  	206.132.41.213
 speedy.redhat.com.      	2h18m13s IN A   	199.183.24.251
 </code></pre><p>

 Where &lt;host&gt; is the name of the host you want to query.
 </p></div></div><br class="example-break"><p><b>host. </b>
 The host program looks up host names using <acronym class="acronym">DNS</acronym>.

 To look up host names using domain server, use the command:
 </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>host</strong></span> &lt;FQDN, domain names, host names, or host numbers&gt;
 </pre><p>
 </p><div class="example"><a name="idm11485"></a><p class="title"><b>Example 21.2. Look up host names</b></p><div class="example-contents"><p>
   </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>host</strong></span> redhat.com
 </pre><p>
 </p><pre class="literallayout"><code class="computeroutput">
 redhat.com has address 207.175.42.154
 </code></pre><p>
 Where &lt;FQDN, domain names, host names, or host numbers&gt; is either FDQN <code class="literal">www.redhat.com</code>, domain names <code class="literal">redhat.com</code>, host names <code class="literal">www</code> or host numbers <code class="literal">207.175.42.154</code>.
 </p></div></div><br class="example-break"><p>
 To find all of the information about a host maintained by the <acronym class="acronym">DNS</acronym>, use the command:
 </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>host</strong></span> -a &lt;domain names &gt;
 </pre><p>
 </p><div class="example"><a name="idm11500"></a><p class="title"><b>Example 21.3. Using host</b></p><div class="example-contents"><p>
   </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>host</strong></span> -a redhat.com
 </pre><p>
 </p><pre class="literallayout"><code class="computeroutput">
 Trying null domain
 rcode = 0 (Success), ancount=6
 The following answer is not authoritative:
 The following answer is not verified as authentic by the server:
 redhat.com      8112 IN NS      ns.redhat.com
 redhat.com      8112 IN NS      ns2.redhat.com
 redhat.com      8112 IN NS      ns3.redhat.com
 redhat.com      8112 IN NS      speedy.redhat.com
 redhat.com      8112 IN A        207.175.42.154
 redhat.com      11891 IN         SOA     ns.redhat.com noc.redhat.com(
 2000021402	;serial (version)
 3600    	;refresh period
 1800    	;retry refresh this often
 604800  	;expiration period
 86400   	;minimum TTL
 )
 For authoritative answers, see:
 redhat.com      8112 IN NS      ns.redhat.com
 redhat.com      8112 IN NS      ns2.redhat.com
 redhat.com      8112 IN NS      ns3.redhat.com
 redhat.com      8112 IN NS      speedy.redhat.com
 Additional information:
 ns.redhat.com   94507	IN        	A       207.175.42.153
 ns2.redhat.com  94507 	IN	A       208.178.165.229
 ns3.redhat.com  94507 	IN        	A       206.132.41.213
 speedy.redhat.com       	8112 IN 	A       199.183.24.251
 </code></pre><p>
 This option can be used to find all of the information that is maintained by the domain server about this host, in our example <code class="literal">redhat.com</code>.
 </p></div></div><br class="example-break"><p>
 To list a complete domain, use the command:
 </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>host</strong></span> -l &lt;domain names &gt;
 </pre><p>
 </p><div class="example"><a name="idm11511"></a><p class="title"><b>Example 21.4. List a complete domain</b></p><div class="example-contents"><p>
   </p><pre class="screen">
 [root@deep] /# <span class="command"><strong>host</strong></span> -l openna.com
 </pre><p>
 </p><pre class="literallayout"><code class="computeroutput">
 openna.com name server deep.openna.com
 openna.com name server mail.openna.com
 localhost.openna.com has address 127.0.0.1
 deep.openna.com has address 208.164.186.1
 mail.openna.com has address 208.164.186.2
 www.openna.com has address 208.164.186.3
 </code></pre><p>
 This option, in the official master file format, will give a complete download of the zone data for the domain name <code class="literal">openna.com</code>. This command should be used only if it is absolutely necessary.
 </p></div></div><br class="example-break"></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chap21sec170.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="soft-netwrkng.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="chap21sec172.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">9. DNS Administrative Tools </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 11. Installed files</td></tr></table></div></body></html>
